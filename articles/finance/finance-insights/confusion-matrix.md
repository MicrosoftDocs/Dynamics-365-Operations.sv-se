---
title: Resultat av maskininlärningsmodeller (förhandsversion)
description: Det här ämnet innehåller information om sammanblandningsmatris, klassificeringsproblem och noggrannhet i maskininlärningsmodeller (ML). Syftet är att förbättra din förståelse av noggrannhet i ML-förutsägelseresultat.
author: ShivamPandey-msft
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: d6e8f63ef00f714109ae650d3cedaf19e5159325
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5818762"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="b5e08-104">Resultat av maskininlärningsmodeller (förhandsversion)</span><span class="sxs-lookup"><span data-stu-id="b5e08-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="b5e08-105">Det här ämnet innehåller information om sammanblandningsmatris, klassificeringsproblem och noggrannhet i maskininlärningsmodeller (ML).</span><span class="sxs-lookup"><span data-stu-id="b5e08-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="b5e08-106">Syftet är att förbättra din förståelse av noggrannhet i ML-förutsägelseresultat.</span><span class="sxs-lookup"><span data-stu-id="b5e08-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="b5e08-107">Målgruppen är ingenjörer, analytiker och chefer som vill få större kunskap och kompetens inom datavetenskap.</span><span class="sxs-lookup"><span data-stu-id="b5e08-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="b5e08-108">Sammanblandningsmatris</span><span class="sxs-lookup"><span data-stu-id="b5e08-108">Confusion matrix</span></span>
<span data-ttu-id="b5e08-109">När ett övervakat ML-problem har tränats in på en uppsättning historiska data, testas de med hjälp av data som inte ingår i träningsprocessen.</span><span class="sxs-lookup"><span data-stu-id="b5e08-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="b5e08-110">På så sätt kan du jämföra förutsägelserna från den tränade modellen med de faktiska värdena.</span><span class="sxs-lookup"><span data-stu-id="b5e08-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="b5e08-111">Med hjälp av sammanblandningsmatrisen kan du utvärdera hur lyckat ett klassificeringsproblem är och var det gör misstag (dvs. var det blir "sammanblandat").</span><span class="sxs-lookup"><span data-stu-id="b5e08-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="b5e08-112">Ditt mål kan till exempel vara att förutsäga om ett husdjur är en hund eller katt, baserat på vissa fysiska och beteendebaserade attribut.</span><span class="sxs-lookup"><span data-stu-id="b5e08-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="b5e08-113">Om du har en testdatamängd som innehåller 30 hundar och 20 katter kan sammanblandningsmatrisen likna följande bild.</span><span class="sxs-lookup"><span data-stu-id="b5e08-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Exempel på förutsägelse om art](media/species-prediction-matrix.png)

<span data-ttu-id="b5e08-115">Talen i de gröna cellerna representerar korrekta förutsägelser.</span><span class="sxs-lookup"><span data-stu-id="b5e08-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="b5e08-116">Som du ser förutsäger modellen en högre procentandel av faktiska katter på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="b5e08-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="b5e08-117">Modellens övergripande noggrannhet är enkel att beräkna.</span><span class="sxs-lookup"><span data-stu-id="b5e08-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="b5e08-118">I det här fallet är den 42 ÷ 50, eller 0,84.</span><span class="sxs-lookup"><span data-stu-id="b5e08-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="b5e08-119">Klassificerare med flera klasser i en sammanblandningsmatris</span><span class="sxs-lookup"><span data-stu-id="b5e08-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="b5e08-120">De flesta diskussioner om sammanblandningsmatrisen är inriktade på binära klassificerare, som i föregående exempel.</span><span class="sxs-lookup"><span data-stu-id="b5e08-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="b5e08-121">Det här fallet är ett specialfall där andra mått kan beaktas, till exempel känslighet och återkallning.</span><span class="sxs-lookup"><span data-stu-id="b5e08-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="b5e08-122">Nu ska vi ta hänsyn till ett klassificeringsproblem för ett finansscenario med tre tillstånd.</span><span class="sxs-lookup"><span data-stu-id="b5e08-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="b5e08-123">Modellen förutsäger om en kundfaktura kommer att betalas i tid, sent eller mycket sent.</span><span class="sxs-lookup"><span data-stu-id="b5e08-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="b5e08-124">Exempelvis av 100 testfakturor betalas 50 i tid, 35 betalas sent och 15 betalas mycket sent.</span><span class="sxs-lookup"><span data-stu-id="b5e08-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="b5e08-125">I det här fallet kan en modell generera en sammanblandningsmatris som liknar bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="b5e08-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Modell 1](media/payment-prediction-matrix.png)<span data-ttu-id="b5e08-127">]</span><span class="sxs-lookup"><span data-stu-id="b5e08-127">]</span></span>

<span data-ttu-id="b5e08-128">En sammanblandningsmatris ger betydligt mer information än ett enkelt noggrannhetsmått.</span><span class="sxs-lookup"><span data-stu-id="b5e08-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="b5e08-129">Det är dock fortfarande relativt enkelt att förstå.</span><span class="sxs-lookup"><span data-stu-id="b5e08-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="b5e08-130">En sammanblandningsmatris visar om du har en balanserad datamängd där utdataklasserna har liknande antal.</span><span class="sxs-lookup"><span data-stu-id="b5e08-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="b5e08-131">När det gäller scenariot med flera klasser får du veta hur avvikande en förutsägelse kan vara när utdataklasserna är ordningstal, som i föregående exempel om kundbetalningar.</span><span class="sxs-lookup"><span data-stu-id="b5e08-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="b5e08-132">Modellens noggrannhet</span><span class="sxs-lookup"><span data-stu-id="b5e08-132">Model accuracy</span></span> 
<span data-ttu-id="b5e08-133">Med olika noggrannhetsmått kan du kvantifiera modellkvaliteten.</span><span class="sxs-lookup"><span data-stu-id="b5e08-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="b5e08-134">Eftersom noggrannhet är ett enkelt mått att förstå, är det en bra utgångspunkt när det gäller att förklara en modell för andra personer, särskilt för användare av modellen som inte är datavetare.</span><span class="sxs-lookup"><span data-stu-id="b5e08-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="b5e08-135">Det krävs ingen förståelse för statistik för att förstå modellens noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="b5e08-136">När en sammanblandningsmatris är tillgänglig ger den bättre insikt i modellens prestanda.</span><span class="sxs-lookup"><span data-stu-id="b5e08-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="b5e08-137">För en mer grundlig förståelse bör emellertid flera utmaningar som är förknippade med noggrannhet noteras.</span><span class="sxs-lookup"><span data-stu-id="b5e08-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="b5e08-138">Måttets användbarhet beror på problemets kontext.</span><span class="sxs-lookup"><span data-stu-id="b5e08-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="b5e08-139">En fråga som ofta uppstår i relation till modellprestanda är, "hur bra är modellen?".</span><span class="sxs-lookup"><span data-stu-id="b5e08-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="b5e08-140">Svaret på den här frågan är dock inte nödvändigtvis okomplicerat.</span><span class="sxs-lookup"><span data-stu-id="b5e08-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="b5e08-141">Tänk på följande sammanblandningsmatris (modell 2).</span><span class="sxs-lookup"><span data-stu-id="b5e08-141">Consider the following confusion matrix (model 2).</span></span>

![Exempel på betalningsförutsägelse med ett större urval](media/payment-prediction-matrix-2.png)

<span data-ttu-id="b5e08-143">En snabb beräkning visar att den här modellens noggrannhet är (70 + 10 + 3) ÷ 100, eller 0,83.</span><span class="sxs-lookup"><span data-stu-id="b5e08-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="b5e08-144">På ytan verkar detta resultat bättre än resultatet för den tidigare modellen med flera klasser (modell 1), vilket har en exakthet på 0,73.</span><span class="sxs-lookup"><span data-stu-id="b5e08-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="b5e08-145">Men är det bättre?</span><span class="sxs-lookup"><span data-stu-id="b5e08-145">But is it better?</span></span>

<span data-ttu-id="b5e08-146">För att börja besvara den här frågan bör du beakta hur korrekt en naiv gissning är.</span><span class="sxs-lookup"><span data-stu-id="b5e08-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="b5e08-147">För ett klassificeringsproblem kommer en enkel gissning alltid att förutsäga den vanligaste klassen.</span><span class="sxs-lookup"><span data-stu-id="b5e08-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="b5e08-148">För modell 1 är gissningen "i tid" och det ger en exakthet på 0,50.</span><span class="sxs-lookup"><span data-stu-id="b5e08-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="b5e08-149">Gissningen för modell 2 är också "i tid" och det ger en exakthet på 0,80.</span><span class="sxs-lookup"><span data-stu-id="b5e08-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="b5e08-150">Eftersom modell 1 förbättrar den naiva gissningen med 0,73-0,50 = 0,23, och modell 2 förbättrar den naiva gissningen med 0,83-0,80 = 0,03, är modell 1 en bättre modell, även om den har lägre noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="b5e08-151">Beräkningen visar att en effektiv bedömning av en modells kvalitet kräver mer sammanhang än noggrannhetsvärdet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="b5e08-152">En annan aspekt är värt att notera.</span><span class="sxs-lookup"><span data-stu-id="b5e08-152">Another aspect is worth noting.</span></span> <span data-ttu-id="b5e08-153">Beakta ett scenario där ett medicinskt test används för att upptäcka en sjukdom i en patient.</span><span class="sxs-lookup"><span data-stu-id="b5e08-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="b5e08-154">Det här problemet är ett problem med binära klassificeringar där ett positivt resultat anger att patienten har sjukdomen.</span><span class="sxs-lookup"><span data-stu-id="b5e08-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="b5e08-155">I det här scenariot måste du tänka på konsekvenserna av följande fel:</span><span class="sxs-lookup"><span data-stu-id="b5e08-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="b5e08-156">Falska positiva, där testet anger att en patient har sjukdomen, men patienten inte har sjukdomen</span><span class="sxs-lookup"><span data-stu-id="b5e08-156">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="b5e08-157">Falska negativa, där testet anger att en patient inte har sjukdomen, men patienten har sjukdomen</span><span class="sxs-lookup"><span data-stu-id="b5e08-157">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="b5e08-158">Det är uppenbart att båda typerna av fel är oönskade, men vilket fel är värst?</span><span class="sxs-lookup"><span data-stu-id="b5e08-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="b5e08-159">Det beror på.</span><span class="sxs-lookup"><span data-stu-id="b5e08-159">Again, it depends.</span></span> <span data-ttu-id="b5e08-160">När det gäller en livshotande sjukdom som kräver snabb behandling, är minimering falska negativa (förhoppningsvis följda av ytterligare tester) en högre prioritet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="b5e08-161">I andra mindre kritiska situationer kan den som skapar modellen minimera falska positiva i stället.</span><span class="sxs-lookup"><span data-stu-id="b5e08-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="b5e08-162">Oavsett är det en rimlig slutsats att för att effektivt fastställa modellens kvalitet måste du ha mer information än ett noggrannhetsmått.</span><span class="sxs-lookup"><span data-stu-id="b5e08-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="b5e08-163">Rekommendationer</span><span class="sxs-lookup"><span data-stu-id="b5e08-163">Recommendations</span></span>

<span data-ttu-id="b5e08-164">Noggrannhet är ett viktigt verktyg för att kommunicera med domänexperter som inte är bekanta med statistik.</span><span class="sxs-lookup"><span data-stu-id="b5e08-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="b5e08-165">För att informationen ska vara användbar är det dock viktigt att den ytterligare kontexten anges tillsammans med noggrannhetsvärdet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="b5e08-166">För betalningsförutsägelsescenariot kan du ange ett mål för ML-modellen som inkluderar faktorer i olika betalningsbeteenden.</span><span class="sxs-lookup"><span data-stu-id="b5e08-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="b5e08-167">Målet är att modellen ska vara bättre än en naiv gissning genom att antalet felaktiga svar minskas med minst 50 procent.</span><span class="sxs-lookup"><span data-stu-id="b5e08-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="b5e08-168">Med andra ord vill du ha en målnoggrannhet som delar upp differensen mellan noggrannheten i en naiv gissning och 100 procent.</span><span class="sxs-lookup"><span data-stu-id="b5e08-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="b5e08-169">I följande tabell sammanfattas den här principen för sammanblandningsmatriserna i det här ämnet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="b5e08-170">Modell</span><span class="sxs-lookup"><span data-stu-id="b5e08-170">Model</span></span>   | <span data-ttu-id="b5e08-171">Naiv gissning</span><span class="sxs-lookup"><span data-stu-id="b5e08-171">Naïve guess</span></span> | <span data-ttu-id="b5e08-172">Mål</span><span class="sxs-lookup"><span data-stu-id="b5e08-172">Target</span></span> | <span data-ttu-id="b5e08-173">Modellens noggrannhet</span><span class="sxs-lookup"><span data-stu-id="b5e08-173">Model accuracy</span></span> | <span data-ttu-id="b5e08-174">Är målet uppfyllt?</span><span class="sxs-lookup"><span data-stu-id="b5e08-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="b5e08-175">Modell 1</span><span class="sxs-lookup"><span data-stu-id="b5e08-175">Model 1</span></span> | <span data-ttu-id="b5e08-176">0.50</span><span class="sxs-lookup"><span data-stu-id="b5e08-176">0.50</span></span>        | <span data-ttu-id="b5e08-177">0.75</span><span class="sxs-lookup"><span data-stu-id="b5e08-177">0.75</span></span>   | <span data-ttu-id="b5e08-178">0.73</span><span class="sxs-lookup"><span data-stu-id="b5e08-178">0.73</span></span>           | <span data-ttu-id="b5e08-179">Nästan.</span><span class="sxs-lookup"><span data-stu-id="b5e08-179">Almost.</span></span> <span data-ttu-id="b5e08-180">Den här modellen förbättrar den gissningen betydligt.</span><span class="sxs-lookup"><span data-stu-id="b5e08-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="b5e08-181">Modell 2</span><span class="sxs-lookup"><span data-stu-id="b5e08-181">Model 2</span></span> | <span data-ttu-id="b5e08-182">0.80</span><span class="sxs-lookup"><span data-stu-id="b5e08-182">0.80</span></span>        | <span data-ttu-id="b5e08-183">0.90</span><span class="sxs-lookup"><span data-stu-id="b5e08-183">0.90</span></span>   | <span data-ttu-id="b5e08-184">0.83</span><span class="sxs-lookup"><span data-stu-id="b5e08-184">0.83</span></span>           | <span data-ttu-id="b5e08-185">Nr</span><span class="sxs-lookup"><span data-stu-id="b5e08-185">No.</span></span> <span data-ttu-id="b5e08-186">Förbättring krävs.</span><span class="sxs-lookup"><span data-stu-id="b5e08-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="b5e08-187">Klassificering av F1-noggrannhet</span><span class="sxs-lookup"><span data-stu-id="b5e08-187">Classification F1 accuracy</span></span>

<span data-ttu-id="b5e08-188">Det slutliga övervägandet i det här ämnet är ett mer avancerat mått på klassificerings av ML-prestanda som kallas F1-noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="b5e08-189">Innan F1-noggrannhet kan definieras måste ytterligare två mått införas: precision och återkallande.</span><span class="sxs-lookup"><span data-stu-id="b5e08-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="b5e08-190">Precision anger hur många av det totala antalet förutsägelser som har angetts som positiva som är korrekt tilldelade.</span><span class="sxs-lookup"><span data-stu-id="b5e08-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="b5e08-191">Det här måttet kallas även det positiva predikativa värdet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="b5e08-192">Återkallande är det totala antalet faktiska positiva fall som har förutsagts korrekt.</span><span class="sxs-lookup"><span data-stu-id="b5e08-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="b5e08-193">Det här måttet kallas också för känslighet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="b5e08-194">[![Sanna resultat kontra falska resultat](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="b5e08-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="b5e08-195">I sammanblandningsmatrisen i föregående bild beräknas dessa mått på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="b5e08-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="b5e08-196">Precision = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="b5e08-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="b5e08-197">Återkallande = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="b5e08-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="b5e08-198">Med F1-måttet kombineras precision och återkallande.</span><span class="sxs-lookup"><span data-stu-id="b5e08-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="b5e08-199">Resultatet blir det harmoniska medelvärdet av de två värdena.</span><span class="sxs-lookup"><span data-stu-id="b5e08-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="b5e08-200">Det beräknas på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="b5e08-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="b5e08-201">F1 = 2 × (precision x återkallande) ÷ (precision + återkallande)</span><span class="sxs-lookup"><span data-stu-id="b5e08-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="b5e08-202">Nu ska vi titta på ett konkret exempel.</span><span class="sxs-lookup"><span data-stu-id="b5e08-202">Let's look at a concrete example.</span></span> <span data-ttu-id="b5e08-203">Tidigare i det här avsnittet fanns ett exempel på en modell som var förutsade om ett djur är en hund eller katt.</span><span class="sxs-lookup"><span data-stu-id="b5e08-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="b5e08-204">Bilden upprepas här.</span><span class="sxs-lookup"><span data-stu-id="b5e08-204">The illustration is repeated here.</span></span>

<span data-ttu-id="b5e08-205">[![Exempel på förutsägelse om art (upprepas)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="b5e08-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="b5e08-206">Här är resultaten om "hund" används som positivt svar.</span><span class="sxs-lookup"><span data-stu-id="b5e08-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="b5e08-207">Precision = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="b5e08-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="b5e08-208">Återkallande = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="b5e08-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="b5e08-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="b5e08-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="b5e08-210">Som du ser ligger F1-värdet mellan värdena för precision och återkallande.</span><span class="sxs-lookup"><span data-stu-id="b5e08-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="b5e08-211">Även om F1-noggrannhet inte är lika lätt att förstå, bidrar det till att nyansera det grundläggande noggrannhetstalet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="b5e08-212">Det kan också hjälpa vid obalanserade datauppsättningar, som följande diskussion visar.</span><span class="sxs-lookup"><span data-stu-id="b5e08-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="b5e08-213">Avsnittet [Modellens noggrannhet](#model-accuracy) i det här ämnet jämförde de två följande sammanblandningsmatriserna.</span><span class="sxs-lookup"><span data-stu-id="b5e08-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="b5e08-214">Även om den första modellen har lägre noggrannhet, ansågs den vara en mer användbar modell eftersom den visade mer förbättring än standardgissningen för betalning i tid.</span><span class="sxs-lookup"><span data-stu-id="b5e08-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Exempel på betalningsförutsägelse kontra faktiskt utfall](media/payment-prediction-matrix.png)

![Exempel på betalningsförutsägelse med ett större urval (upprepas)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="b5e08-217">Nu ska vi se hur de här två modellerna står sig i jämförelse med när F1-poängen används.</span><span class="sxs-lookup"><span data-stu-id="b5e08-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="b5e08-218">F1-poängfaktorerna i precision och återkallande för varje tillstånd, och F1-makroberäkningen tar fram medelvärdet för F1-poäng för alla tillstånd för att fastställa en övergripande F1-poäng.</span><span class="sxs-lookup"><span data-stu-id="b5e08-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="b5e08-219">Det finns andra F1-varianter, men det är av större intresse att ta hänsyn till makroversionen, med tanke på den lika behandling som ges för alla tre tillstånden.</span><span class="sxs-lookup"><span data-stu-id="b5e08-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="b5e08-220">För att förenkla beräkningarna skapades exempelmatriser som matchar de faktiska och förutsagda värdena.</span><span class="sxs-lookup"><span data-stu-id="b5e08-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="b5e08-221">Dessa matriser använde sklearns metrics-biblioteket i Python för att beräkna värdena.</span><span class="sxs-lookup"><span data-stu-id="b5e08-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="b5e08-222">Detta är resultatet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-222">Here is the result.</span></span>

| <span data-ttu-id="b5e08-223">Modell</span><span class="sxs-lookup"><span data-stu-id="b5e08-223">Model</span></span>   | <span data-ttu-id="b5e08-224">Naiv gissning</span><span class="sxs-lookup"><span data-stu-id="b5e08-224">Naive guess</span></span> | <span data-ttu-id="b5e08-225">Precision</span><span class="sxs-lookup"><span data-stu-id="b5e08-225">Accuracy</span></span> | <span data-ttu-id="b5e08-226">F1-makro</span><span class="sxs-lookup"><span data-stu-id="b5e08-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="b5e08-227">Modell 1</span><span class="sxs-lookup"><span data-stu-id="b5e08-227">Model 1</span></span> | <span data-ttu-id="b5e08-228">0.5</span><span class="sxs-lookup"><span data-stu-id="b5e08-228">0.5</span></span>         | <span data-ttu-id="b5e08-229">0.73</span><span class="sxs-lookup"><span data-stu-id="b5e08-229">0.73</span></span>     | <span data-ttu-id="b5e08-230">0.67</span><span class="sxs-lookup"><span data-stu-id="b5e08-230">0.67</span></span>     |
| <span data-ttu-id="b5e08-231">Modell 2</span><span class="sxs-lookup"><span data-stu-id="b5e08-231">Model 2</span></span> | <span data-ttu-id="b5e08-232">0.80</span><span class="sxs-lookup"><span data-stu-id="b5e08-232">0.80</span></span>        | <span data-ttu-id="b5e08-233">0.83</span><span class="sxs-lookup"><span data-stu-id="b5e08-233">0.83</span></span>     | <span data-ttu-id="b5e08-234">0.66</span><span class="sxs-lookup"><span data-stu-id="b5e08-234">0.66</span></span>     |

<span data-ttu-id="b5e08-235">Mer information om hur beräkningen fungerar finns i sklearn.metrics-klassificeringsrapporten för modell 1.</span><span class="sxs-lookup"><span data-stu-id="b5e08-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="b5e08-236">De tre tillstånden, "i tid", "sent" och "mycket sent", representeras av de rader som är märkta 1, 2 och 3.</span><span class="sxs-lookup"><span data-stu-id="b5e08-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="b5e08-237">Makromedelvärdet är bara genomsnittet för kolumnen "f1-score".</span><span class="sxs-lookup"><span data-stu-id="b5e08-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="b5e08-238">precision</span><span class="sxs-lookup"><span data-stu-id="b5e08-238">precision</span></span> | <span data-ttu-id="b5e08-239">återkallande</span><span class="sxs-lookup"><span data-stu-id="b5e08-239">recall</span></span>   | <span data-ttu-id="b5e08-240">f1-score</span><span class="sxs-lookup"><span data-stu-id="b5e08-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="b5e08-241">**1**</span><span class="sxs-lookup"><span data-stu-id="b5e08-241">**1**</span></span>     | <span data-ttu-id="b5e08-242">0.83</span><span class="sxs-lookup"><span data-stu-id="b5e08-242">0.83</span></span>      | <span data-ttu-id="b5e08-243">0.80</span><span class="sxs-lookup"><span data-stu-id="b5e08-243">0.80</span></span>     | <span data-ttu-id="b5e08-244">0.82</span><span class="sxs-lookup"><span data-stu-id="b5e08-244">0.82</span></span>     |
| <span data-ttu-id="b5e08-245">**2**</span><span class="sxs-lookup"><span data-stu-id="b5e08-245">**2**</span></span>     | <span data-ttu-id="b5e08-246">0.68</span><span class="sxs-lookup"><span data-stu-id="b5e08-246">0.68</span></span>      | <span data-ttu-id="b5e08-247">0.71</span><span class="sxs-lookup"><span data-stu-id="b5e08-247">0.71</span></span>     | <span data-ttu-id="b5e08-248">0.69</span><span class="sxs-lookup"><span data-stu-id="b5e08-248">0.69</span></span>     |
| <span data-ttu-id="b5e08-249">**3**</span><span class="sxs-lookup"><span data-stu-id="b5e08-249">**3**</span></span>     | <span data-ttu-id="b5e08-250">0.50</span><span class="sxs-lookup"><span data-stu-id="b5e08-250">0.50</span></span>      | <span data-ttu-id="b5e08-251">0.50</span><span class="sxs-lookup"><span data-stu-id="b5e08-251">0.50</span></span>     | <span data-ttu-id="b5e08-252">0.50</span><span class="sxs-lookup"><span data-stu-id="b5e08-252">0.50</span></span>     |

<span data-ttu-id="b5e08-253">Som de här resultaten visar har de två modellerna nästan identiska F1-makropoäng för noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="b5e08-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="b5e08-254">I detta och många andra fall ger F1-noggrannhet en bättre indikator på modellens funktion.</span><span class="sxs-lookup"><span data-stu-id="b5e08-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="b5e08-255">När det gäller noggrannhet kräver tolkningen av resultaten att du förstår vad som är viktigast att beakta i modellen.</span><span class="sxs-lookup"><span data-stu-id="b5e08-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="b5e08-256">Sekretesspolicy</span><span class="sxs-lookup"><span data-stu-id="b5e08-256">Privacy notice</span></span>
<span data-ttu-id="b5e08-257">Förhandsversioner (1) kan använda färre sekretess- och säkerhetsfunktioner än Dynamics 365 Finance and Operations, (2) de ingår inte i serviceavtalet (SLA) för den här tjänsten, (3) bör inte användas för behandling av personuppgifter eller andra uppgifter som omfattas av lagar och andra efterlevnadskrav, samt (4) har begränsad support.</span><span class="sxs-lookup"><span data-stu-id="b5e08-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
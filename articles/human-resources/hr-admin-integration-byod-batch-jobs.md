---
title: Optimera planerade BYOD batchjobb
description: I det här avsnittet beskrivs hur du optimerar prestanda när du använder funktionen ta med din egen databas (BYOD) med Microsoft Dynamics 365 Human Resources.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: ed3ebbf09403090a1173c3cda1a4b11b74419b90
ms.sourcegitcommit: 879ee8a10e6158885795dce4b3db5077540eec41
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 05/18/2021
ms.locfileid: "6052683"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="fdfe8-103">Optimera planerade BYOD batchjobb</span><span class="sxs-lookup"><span data-stu-id="fdfe8-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="fdfe8-104">I det här avsnittet beskrivs hur du optimerar prestanda när du använder funktionen ta med din egen databas (BYOD).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="fdfe8-105">Mer information om BYOD finns i [ta din egen databas (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="fdfe8-106">Prestandaöverväganden för dataexport</span><span class="sxs-lookup"><span data-stu-id="fdfe8-106">Performance considerations for data export</span></span>

<span data-ttu-id="fdfe8-107">Efter att entiteter har publicerats till destinationsdatabasen kan du använda funktionen Export i arbetsytan **Datahantering** för att flytta data.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="fdfe8-108">Med hjälp av funktionen Export kan du definiera ett jobb för datarörelse som innehåller en eller flera enheter.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="fdfe8-109">Mer information om dataexportera finns i [översikt över dataimport- och exportjobb](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="fdfe8-110">Du kan använda sidan **Export** för att exportera data till olika måldataformat, till exempel en CSV-fil (kommaseparerade värden).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="fdfe8-111">Den här sidan stöder också SQL-databaser som ett annat mål.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="fdfe8-112">Du kan skapa ett dataprojekt som har flera entiteter och använda ett batch-jobb för att schemalägga det dataprojekt som ska köras.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="fdfe8-113">Om du väljer alternativet **Exportera i batch** kan du schemalägga jobbet för dataexport så att det körs regelbundet.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="fdfe8-114">För att bevara den övergripande tillförlitligheten för BYOD-exporten måste du vara försiktig när du lägger till flera enheter i ett exportprojekt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="fdfe8-115">När du bestämmer hur många enheter som ska läggas till i samma projekt bör du överväga följande parametrar:</span><span class="sxs-lookup"><span data-stu-id="fdfe8-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="fdfe8-116">Entiteternas komplexitet</span><span class="sxs-lookup"><span data-stu-id="fdfe8-116">The complexity of the entities</span></span>
- <span data-ttu-id="fdfe8-117">Den förväntade datavolymen per enhet</span><span class="sxs-lookup"><span data-stu-id="fdfe8-117">The expected data volume per entity</span></span>
- <span data-ttu-id="fdfe8-118">Den tid som krävs för att exporten ska slutföras på jobbnivå</span><span class="sxs-lookup"><span data-stu-id="fdfe8-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="fdfe8-119">För bästa prestanda bör du undvika att lägga till hundratals entiteter i ett enda projekt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="fdfe8-120">Vi rekommenderar att du skapar flera jobb som vart och ett innehåller färre enheter.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="fdfe8-121">Tidsplanera BYOD batchjobb</span><span class="sxs-lookup"><span data-stu-id="fdfe8-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="fdfe8-122">För att minska påverkan på användare av Microsoft Dynamics 365 Human Resources, kör BYOD-batchjobb på natten eller efter timmar.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="fdfe8-123">Kontrollera tids zonen för återkommande batchjobb.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="fdfe8-124">Vissa batchjobb kan använda Pacific Standard Time (PST).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="fdfe8-125">För att undvika prestandaproblem bör du ta hänsyn till följande faktorer när du konfigurerar planeringsfrekvensen för BYOD-batchjobb:</span><span class="sxs-lookup"><span data-stu-id="fdfe8-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="fdfe8-126">Den tid som krävs för att slutföra varje batch-jobb</span><span class="sxs-lookup"><span data-stu-id="fdfe8-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="fdfe8-127">Affärsbehovet för uppgifterna i BYOD</span><span class="sxs-lookup"><span data-stu-id="fdfe8-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="fdfe8-128">Ställ in frekvensen för varje batch-jobb med ett värde som säkerställer att jobbet kan slutföras innan nästa schemalagda körningstid.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="fdfe8-129">Undvik att köra flera jobb parallellt, eftersom den här metoden kan påverka personalens prestanda negativt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="fdfe8-130">För bästa prestanda bör du alltid använda alternativet **Exportera i batch** på sidan **Exportera** för att du vill tidsplanera BYOD-batchjobb.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="fdfe8-131">Undvik att schemalägga återkommande exporter vid **hantering \> hantera återkommande datajobb**.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="fdfe8-132">Stegvis export</span><span class="sxs-lookup"><span data-stu-id="fdfe8-132">Incremental export</span></span>

<span data-ttu-id="fdfe8-133">När du lägger till en enhet för dataexport kan du göra antingen en stegvis push-överföring (export) eller en fullständig push-överföring.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="fdfe8-134">En fullständig push-överföring tar bort alla befintliga poster från en enhet i BYOD-databasen.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="fdfe8-135">Sedan infogas den aktuella uppsättningen poster från entiteten personal.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="fdfe8-136">Om du vill utföra en stegvis push-överföring måste du aktivera ändringsspårning för varje entitet på sidan **entiteter**.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="fdfe8-137">Mer information finns i [Aktivera ändringsspårning för entiteter](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="fdfe8-138">Om du väljer en stegvis push-överföring är den första push-tiden alltid en fullständig push-överföring.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="fdfe8-139">SQL spårar ändringar från den första fullständiga push-överföringen.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="fdfe8-140">När en ny post infogas, eller när en post uppdateras eller tas bort återspeglas ändringen i målentiteten.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="fdfe8-141">Timeout</span><span class="sxs-lookup"><span data-stu-id="fdfe8-141">Time-outs</span></span>

<span data-ttu-id="fdfe8-142">Här är standard timeout för BYOD exporter:</span><span class="sxs-lookup"><span data-stu-id="fdfe8-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="fdfe8-143">Tio minuter för trunkering</span><span class="sxs-lookup"><span data-stu-id="fdfe8-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="fdfe8-144">En timme för massinfoga</span><span class="sxs-lookup"><span data-stu-id="fdfe8-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="fdfe8-145">När volymerna är höga kan det hända att dessa timeout-inställningar inte räcker.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="fdfe8-146">Om du vill uppdatera dem går du till **Datahantering \> Ramverksparametrar \> Ta med din egen databas**.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="fdfe8-147">Dessa tidsgränser är företagsspecifika och måste anges separat för varje företag.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="fdfe8-148">Kända begränsningar</span><span class="sxs-lookup"><span data-stu-id="fdfe8-148">Known limitations</span></span>

<span data-ttu-id="fdfe8-149">BYOD-funktionen har följande begränsningar:</span><span class="sxs-lookup"><span data-stu-id="fdfe8-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="fdfe8-150">Det ska inte finnas några aktiva lås i databasen under synkroniseringen.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="fdfe8-151">Aktiva lås kan medföra att data skrivs över eller till och med misslyckas när de exporteras till din Azure SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="fdfe8-152">Du kan inte exportera sammansatta enheter till din egen databas.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="fdfe8-153">Sammansatta entiteter stöds för närvarande inte.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="fdfe8-154">Du måste exportera enskilda enheter som utgör den sammansatta enheten.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="fdfe8-155">Du kan dock exportera båda entiteterna i samma dataprojekt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="fdfe8-156">Entiteter som inte har unika nycklar kan inte exporteras med hjälp av stegvis push-överföring.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="fdfe8-157">Den här begränsningen kan vara särskilt användbar när du försöker att inkrementellt exportera poster från en del färdiga entiteter.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="fdfe8-158">Eftersom dessa entiteter har utformats för att möjliggöra import av data har de ingen unik nyckel.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="fdfe8-159">Felsökning</span><span class="sxs-lookup"><span data-stu-id="fdfe8-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="fdfe8-160">Stegvis push-överföring fungerar inte korrekt</span><span class="sxs-lookup"><span data-stu-id="fdfe8-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="fdfe8-161">**Utfärda:** när en fullständig push-överföring görs för en entitet visas en stor uppsättning poster i BYOD när du använder uttrycket **Select**.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="fdfe8-162">När du gör en stegvis push-överföring ser du dock bara några få poster i BYOD.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="fdfe8-163">Det verkar som om den stegvisa push-överföringen tog bort alla posterna och bara lagt till de ändrade posterna i BYOD.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="fdfe8-164">**Lösning:** Tabellen SQL ändringsspårning kanske inte är i förväntat tillstånd.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="fdfe8-165">I fall av den här typen rekommenderar vi att du inaktiverar spårning av ändringar för enheten och sedan slår på den igen.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="fdfe8-166">Mer information finns i [Aktivera ändringsspårning för entiteter](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fdfe8-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="fdfe8-167">Mellanlagringsregister rensas inte</span><span class="sxs-lookup"><span data-stu-id="fdfe8-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="fdfe8-168">**Problem:** När du använder mellanlagring för projektet rensas inte mellanlagringsregistren på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="fdfe8-169">Datan i registren fortsätter sedan att växa, vilket leder till prestandaproblem.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="fdfe8-170">**Lösning:** Sju dagars historik bibehålls i mellanlagringsregistren.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="fdfe8-171">Historiska data som är äldre än sju dagar tas automatiskt bort från mellanlagringsregistren av batchjobbet **Importera/exportera rensning av mellanlagring**.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="fdfe8-172">Om detta jobb fastnar kommer registren inte att rensas korrekt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="fdfe8-173">Om du startar om batchjobbet fortsätter processen så att mellanlagringsregistren rensas automatiskt.</span><span class="sxs-lookup"><span data-stu-id="fdfe8-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="fdfe8-174">Se även</span><span class="sxs-lookup"><span data-stu-id="fdfe8-174">See also</span></span>

[<span data-ttu-id="fdfe8-175">Översikt över datahantering</span><span class="sxs-lookup"><span data-stu-id="fdfe8-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="fdfe8-176">Ta med din egen databas (BYOD)</span><span class="sxs-lookup"><span data-stu-id="fdfe8-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="fdfe8-177">Översikt över jobb för import och export av data</span><span class="sxs-lookup"><span data-stu-id="fdfe8-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="fdfe8-178">Aktivera ändringsspårning för enheter</span><span class="sxs-lookup"><span data-stu-id="fdfe8-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]

---
title: Fördelad orderhantering (DOM)
description: I detta avsnitt beskrivs funktionen fördelad orderhantering (DOM) i Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 10/14/2019
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 7a584953b0f4961e25b59bca51aa3928b87b2c7c
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 02/01/2020
ms.locfileid: "3004330"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="b684d-103">Fördelad orderhantering (DOM)</span><span class="sxs-lookup"><span data-stu-id="b684d-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="b684d-104">I handelns nya paradigm försöker återförsäljarna erbjuda personligt kundengagemang, upplevelser i flera kanaler och friktionsfria möten.</span><span class="sxs-lookup"><span data-stu-id="b684d-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="b684d-105">Eftersom det finns så många alternativ shoppar konsumenterna där de upplever sig behandlas bäst.</span><span class="sxs-lookup"><span data-stu-id="b684d-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="b684d-106">I många fall är priserna och produkterna inte längre viktigast för konsumenternas beslut.</span><span class="sxs-lookup"><span data-stu-id="b684d-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="b684d-107">Återförsäljare som vill förbättra kundupplevelsen måste ha insyn i sitt lager i realtid, i samtliga kanaler.</span><span class="sxs-lookup"><span data-stu-id="b684d-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="b684d-108">En enda, holistisk överblick över hela lagret kan optimera uppfyllelse, allokering och distribution av order.</span><span class="sxs-lookup"><span data-stu-id="b684d-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="b684d-109">Därför börjar det bli allt viktigare för återförsäljare att välja och börja använda ett system för fördelad orderhantering (DOM).</span><span class="sxs-lookup"><span data-stu-id="b684d-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="b684d-110">DOM optimerar orderuppfyllelsen i ett komplext nätverk som består av system och processer.</span><span class="sxs-lookup"><span data-stu-id="b684d-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="b684d-111">Hanteringen är beroende av en gemensam, global inblick i lagret i hela organisationen om det ska gå att hantera order på ett smart så att de uppfylls korrekt och billigare.</span><span class="sxs-lookup"><span data-stu-id="b684d-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="b684d-112">Genom att göra återförsäljarens leveranskedja mer effektiv hjälper DOM återförsäljaren att bli bättre på att tillgodose kundens förväntningar.</span><span class="sxs-lookup"><span data-stu-id="b684d-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="b684d-113">Följande illustration visar livscykeln för en försäljningsorder i ett DOM-system.</span><span class="sxs-lookup"><span data-stu-id="b684d-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="b684d-114">![Livscykel för försäljningsorder i samband med DOM](./media/flow.png "Livscykel för försäljningsorder i samband med DOM")</span><span class="sxs-lookup"><span data-stu-id="b684d-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="b684d-115">Ställ in DOM</span><span class="sxs-lookup"><span data-stu-id="b684d-115">Set up DOM</span></span>

1. <span data-ttu-id="b684d-116">Öppna **Systemadministration \> Inställningar \> Licenskonfiguration**.</span><span class="sxs-lookup"><span data-stu-id="b684d-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="b684d-117">Expandera noden **Commerce** på fliken **Konfigurationsnycklar** och markera kryssrutan **Fördelad orderhantering**.</span><span class="sxs-lookup"><span data-stu-id="b684d-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="b684d-118">Öppna **Retail och Commerce \> Fördelad orderhantering \> Inställningar \> DOM-parametrar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="b684d-119">Ange följande värden på fliken **Allmänt**:</span><span class="sxs-lookup"><span data-stu-id="b684d-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="b684d-120">**Aktivera fördelad orderhantering** – Välj inställningen **Ja**.</span><span class="sxs-lookup"><span data-stu-id="b684d-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="b684d-121">**Bekräfta att Bing-kartor används för DOM** – Välj inställningen **Ja**.</span><span class="sxs-lookup"><span data-stu-id="b684d-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>

        > [!NOTE]
        > <span data-ttu-id="b684d-122">Du kan välja **Ja** endast om alternativet **Aktivera Bing-kartor** på fliken **Bing-kartor** på sidan **Gemensamma Commerce-parametrar** (**Retail och Commerce \> Administrationsinställning \> Parametrar \> Gemensamma Commerce-parametrar**) också har värdet **Ja**, och om en giltig nyckel anges i fältet **Nyckel till Bing-kartor**.</span><span class="sxs-lookup"><span data-stu-id="b684d-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>

    - <span data-ttu-id="b684d-123">**Kvarhållandeperiod i dagar** – Ange hur länge uppfyllelseplanerna som DOM-körningar genererar behålls i systemet.</span><span class="sxs-lookup"><span data-stu-id="b684d-123">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="b684d-124">Batchjobbet **Inställning av borttagningsjobb för DOM-uppfyllelsedata** raderar alla uppfyllelseplaner som är äldre än antalet dagar som anges här.</span><span class="sxs-lookup"><span data-stu-id="b684d-124">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="b684d-125">**Avvisningsperiod (i dagar)** – Anger hur lång tid som måste gå innan en avvisad orderrad får tilldelas samma plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-125">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="b684d-126">Ange följande värden på fliken **Problemlösare**:</span><span class="sxs-lookup"><span data-stu-id="b684d-126">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="b684d-127">**Maximalt antal automatiska uppfyllelseförsök** – Ange hur många gånger DOM-motorn försöker koppla en orderrad till en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-127">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="b684d-128">Om DOM-motorn inte kan koppla en orderrad till en plats på det uppgivna antalet försök flaggas orderraden som ett undantag.</span><span class="sxs-lookup"><span data-stu-id="b684d-128">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="b684d-129">Motorn hoppar sedan över den raden framöver tills statusen återställs manuellt.</span><span class="sxs-lookup"><span data-stu-id="b684d-129">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="b684d-130">**Radie för lokal butiksregion** – Ange ett värde.</span><span class="sxs-lookup"><span data-stu-id="b684d-130">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="b684d-131">Detta fält bestämmer hur platser grupperas och anses vara desamma vad avstånd beträffar.</span><span class="sxs-lookup"><span data-stu-id="b684d-131">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="b684d-132">Om du t.ex. väljer **100** anses alla butiker och distributionscenter inom en radie av 100 miles från uppfyllelseadressen vara likvärdig i fråga om avstånd.</span><span class="sxs-lookup"><span data-stu-id="b684d-132">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="b684d-133">**Problemlösartyp** – välj ett värde.</span><span class="sxs-lookup"><span data-stu-id="b684d-133">**Solver type** – Select a value.</span></span> <span data-ttu-id="b684d-134">Två typer av problemlösare medföljer Commerce: **Produktionsproblemlösare** och **Förenklad problemlösare**.</span><span class="sxs-lookup"><span data-stu-id="b684d-134">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="b684d-135">**Produktionsproblemlösare** måste väljas för alla maskiner som kör DOM (dvs. alla servrar som ingår i DOMBatch-gruppen).</span><span class="sxs-lookup"><span data-stu-id="b684d-135">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="b684d-136">Produktionsproblemlösare kräver en särskild licensnyckel som normalt licensieras och används i produktionsmiljö.</span><span class="sxs-lookup"><span data-stu-id="b684d-136">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="b684d-137">I andra miljöer måste denna licensnyckel börja användas manuellt.</span><span class="sxs-lookup"><span data-stu-id="b684d-137">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="b684d-138">Använd licensnyckeln manuellt på detta sätt:</span><span class="sxs-lookup"><span data-stu-id="b684d-138">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="b684d-139">Öppna biblioteket Gemensamma tillgångar i Microsoft Dynamics Lifecycle Services, välj **Modell** som tillgångstyp och ladda ned filen **DOM-licens**.</span><span class="sxs-lookup"><span data-stu-id="b684d-139">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        2. <span data-ttu-id="b684d-140">Starta Microsoft Internet Information Services-hanteraren (IIS), högerklicka på **AOSServices webbplats** och välj **Utforska**.</span><span class="sxs-lookup"><span data-stu-id="b684d-140">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="b684d-141">Utforskaren öppnas i **\<AOS Service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="b684d-141">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="b684d-142">Anteckna sökvägen till \<AOS Service root\>, eftersom den anges i nästa steg.</span><span class="sxs-lookup"><span data-stu-id="b684d-142">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        3. <span data-ttu-id="b684d-143">Kopiera konfigurationsfilen i katalogen **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="b684d-143">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        4. <span data-ttu-id="b684d-144">Gå till Headquarters-klienten och öppna sidan **DOM-parametrar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-144">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="b684d-145">Välj **Produktionsproblemlösare** i fältet **Problemlösartyp** på fliken **Problemlösare** och bekräfta att inga felmeddelanden visas.</span><span class="sxs-lookup"><span data-stu-id="b684d-145">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>

        > [!NOTE]
        > <span data-ttu-id="b684d-146">Den förenklade problemlösaren medföljer så att återförsäljare ska kunna testa DOM-funktionen utan att behöva använda den särskilda licensen.</span><span class="sxs-lookup"><span data-stu-id="b684d-146">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="b684d-147">Den förenklade problemlösaren bör inte användas i produktionsmiljö.</span><span class="sxs-lookup"><span data-stu-id="b684d-147">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="b684d-148">Även om den förenklade problemlösaren ger tillgång till samma funktioner som Produktionsproblemlösaren är den begränsad i fråga om prestanda (antalet order och orderrader som går att hantera under en körning) och konvergens av resultaten (en orderbatch kanske inte ger det bästa resultatet i vissa scenarier).</span><span class="sxs-lookup"><span data-stu-id="b684d-148">Although the Simplified Solver provides the same set of capabilities as the Production Solver, there are limitations as to performance (the number of orders and order lines that can be handled in a run) and convergence of results (a batch of orders might not yield the best result in some scenarios).</span></span>
     
6. <span data-ttu-id="b684d-149">Gå tillbaka till **Retail och Commerce \> Fördelad orderhantering \> Inställningar \> DOM-parametrar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-149">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="b684d-150">Tilldela de olika DOM-enheterna de nödvändiga nummerserierna på fliken **Nummerserier**.</span><span class="sxs-lookup"><span data-stu-id="b684d-150">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b684d-151">Innan någon nummerserie kan tilldelas enheterna måste de anges på sidan **Nummerserier** (**Organisationsadministration \> Nummerserier \> Nummerserier**).</span><span class="sxs-lookup"><span data-stu-id="b684d-151">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="b684d-152">Med DOM-funktionen går det att ange olika typer av DOM-regler och organisationen kan konfigurera flera regler beroende på vilka krav verksamheten ställer.</span><span class="sxs-lookup"><span data-stu-id="b684d-152">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="b684d-153">DOM-regler går att ange för en grupp med platser eller enskilda platser och för en viss produktkategori, produkt eller variant.</span><span class="sxs-lookup"><span data-stu-id="b684d-153">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="b684d-154">Så här skapar du grupperingen av platser som måste användas för DOM-reglerna:</span><span class="sxs-lookup"><span data-stu-id="b684d-154">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="b684d-155">Öppna **Retail och Commerce \> Kanalinställningar \> Uppfyllelsegrupper**.</span><span class="sxs-lookup"><span data-stu-id="b684d-155">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="b684d-156">Välj **Ny** och ange ett nytt namn på och en beskrivning för den nya gruppen.</span><span class="sxs-lookup"><span data-stu-id="b684d-156">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="b684d-157">Välj **Spara**.</span><span class="sxs-lookup"><span data-stu-id="b684d-157">Select **Save**.</span></span>
    4. <span data-ttu-id="b684d-158">Välj **Lägg till rad** om du vill lägga till endast en plats i gruppen.</span><span class="sxs-lookup"><span data-stu-id="b684d-158">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="b684d-159">Om du väljer **Lägg till rader** kan du lägga till flera platser.</span><span class="sxs-lookup"><span data-stu-id="b684d-159">Alternatively, select **Add lines** to add multiple locations.</span></span>

9. <span data-ttu-id="b684d-160">Definiera regler i **Retail och Commerce \> Fördelad orderhantering \> Inställningar \> Hantera regler**.</span><span class="sxs-lookup"><span data-stu-id="b684d-160">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="b684d-161">Följande DOM-regler stöds nu:</span><span class="sxs-lookup"><span data-stu-id="b684d-161">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="b684d-162">**Regel för minimilager** – Med denna regeltyp kan organisationen sätta av en viss mängd av en produkt för andra ändamål än orderuppfyllande.</span><span class="sxs-lookup"><span data-stu-id="b684d-162">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="b684d-163">Organisationen kanske inte vill att DOM ska kunna välja hela lagret som finns i en butik för att uppfylla en order.</span><span class="sxs-lookup"><span data-stu-id="b684d-163">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="b684d-164">Den kanske vill reservera en viss mängd produkter för kunder som kommer in i butiken.</span><span class="sxs-lookup"><span data-stu-id="b684d-164">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="b684d-165">När denna regeltyp används går det att definiera minimilagret som ska behållas för en produktkategori, en enskild produkt eller en produktvariant per plats eller platsgrupper.</span><span class="sxs-lookup"><span data-stu-id="b684d-165">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="b684d-166">**Prioritetsregel för uppfyllelseplats** – Med denna regeltyp kan organisationen ange en hierarki med platser och fastställa prioritetsordningen som DOM-motorn tar hänsyn till när den försöker hitta uppfyllelseplatser för specifika produkter.</span><span class="sxs-lookup"><span data-stu-id="b684d-166">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="b684d-167">Det giltiga prioritetsintervallet är 1 till 10, där 1 är högsta prioritet och 10 är lägsta prioritet.</span><span class="sxs-lookup"><span data-stu-id="b684d-167">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="b684d-168">Platser med högre prioritet beaktas före platser med lägre prioritet.</span><span class="sxs-lookup"><span data-stu-id="b684d-168">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="b684d-169">Om regeln definieras som en fast begränsning kopplas order endast till platser för vilka prioriteter har angetts.</span><span class="sxs-lookup"><span data-stu-id="b684d-169">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="b684d-170">**Regel för partiell order** – Med denna regel kan organisationen ange om en order eller orderrader får uppfyllas partiellt.</span><span class="sxs-lookup"><span data-stu-id="b684d-170">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="b684d-171">Följande parametrar är tillgängliga:</span><span class="sxs-lookup"><span data-stu-id="b684d-171">The following parameters are available:</span></span>

        - <span data-ttu-id="b684d-172">**Uppfyll partiella order?**</span><span class="sxs-lookup"><span data-stu-id="b684d-172">**Fulfill partial orders?**</span></span> <span data-ttu-id="b684d-173">– Om detta alternativ har värdet **Ja** får DOM uppfylla bara en del av kvantiteten på en orderrad.</span><span class="sxs-lookup"><span data-stu-id="b684d-173">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="b684d-174">Denna partiella uppfyllelse uppnås genom att orderraden delas.</span><span class="sxs-lookup"><span data-stu-id="b684d-174">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b684d-175">**Uppfyll partiella rader?**</span><span class="sxs-lookup"><span data-stu-id="b684d-175">**Fulfill partial lines?**</span></span> <span data-ttu-id="b684d-176">– Om detta alternativ har värdet **Ja** får DOM uppfylla en partiell kvantitet på orderrader.</span><span class="sxs-lookup"><span data-stu-id="b684d-176">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="b684d-177">Denna partiella uppfyllelse uppnås genom att orderraden delas.</span><span class="sxs-lookup"><span data-stu-id="b684d-177">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b684d-178">**Uppfyll order från enbart en plats?** – Om detta alternativ har värdet **Ja** ser DOM till att alla rader på ordern uppfylls från samma plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-178">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="b684d-179">I följande tabell förklaras beteendet när en kombination av dessa parametrar har angetts.</span><span class="sxs-lookup"><span data-stu-id="b684d-179">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        |      | <span data-ttu-id="b684d-180">Uppfyll partiella order</span><span class="sxs-lookup"><span data-stu-id="b684d-180">Fulfill partial orders</span></span> | <span data-ttu-id="b684d-181">Uppfyll partiella rader</span><span class="sxs-lookup"><span data-stu-id="b684d-181">Fulfill partial lines</span></span> | <span data-ttu-id="b684d-182">Uppfyll order från enbart en plats</span><span class="sxs-lookup"><span data-stu-id="b684d-182">Fulfill order from one location only</span></span> | <span data-ttu-id="b684d-183">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="b684d-183">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="b684d-184">1</span><span class="sxs-lookup"><span data-stu-id="b684d-184">1</span></span>    | <span data-ttu-id="b684d-185">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-185">Yes</span></span>                    | <span data-ttu-id="b684d-186">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-186">Yes</span></span>                   | <span data-ttu-id="b684d-187">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-187">Yes</span></span>                                  | <span data-ttu-id="b684d-188">Ett par rader i ordern kan uppfyllas och enskilda rader kan uppfyllas partiellt, men alla rader måste komma från samma plats i en instans av DOM-körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-188">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b684d-189">(Denna kombination stöds inte för närvarande.)</span><span class="sxs-lookup"><span data-stu-id="b684d-189">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b684d-190">2</span><span class="sxs-lookup"><span data-stu-id="b684d-190">2</span></span>    | <span data-ttu-id="b684d-191">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-191">Yes</span></span>                    | <span data-ttu-id="b684d-192">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-192">No</span></span>                    | <span data-ttu-id="b684d-193">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-193">Yes</span></span>                                  | <span data-ttu-id="b684d-194">Ett par rader i ordern kan uppfyllas men enskilda rader kan inte uppfyllas partiellt, och alla uppfyllda rader måste komma från samma plats i en instans av DOM-körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-194">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b684d-195">(Denna kombination stöds inte för närvarande.)</span><span class="sxs-lookup"><span data-stu-id="b684d-195">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b684d-196">3</span><span class="sxs-lookup"><span data-stu-id="b684d-196">3</span></span>    | <span data-ttu-id="b684d-197">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-197">Yes</span></span>                    | <span data-ttu-id="b684d-198">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-198">Yes</span></span>                   | <span data-ttu-id="b684d-199">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-199">No</span></span>                                   | <span data-ttu-id="b684d-200">Ett par rader i ordern kan uppfyllas men enskilda rader kan inte uppfyllas partiellt, och varje rad kan uppfyllas från mer än en plats i en instans av DOM-körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-200">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b684d-201">4\*</span><span class="sxs-lookup"><span data-stu-id="b684d-201">4\*</span></span>  | <span data-ttu-id="b684d-202">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-202">No</span></span>                     | <span data-ttu-id="b684d-203">Inte aktuellt</span><span class="sxs-lookup"><span data-stu-id="b684d-203">Not applicable</span></span>        | <span data-ttu-id="b684d-204">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-204">No</span></span>                                   | <span data-ttu-id="b684d-205">Alla orderrader måste uppfyllas, enskilda rader kan inte uppfyllas partiellt och varje orderrad kan uppfyllas från olika platser.</span><span class="sxs-lookup"><span data-stu-id="b684d-205">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="b684d-206">5\*</span><span class="sxs-lookup"><span data-stu-id="b684d-206">5\*</span></span>  | <span data-ttu-id="b684d-207">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-207">No</span></span>                     | <span data-ttu-id="b684d-208">Inte aktuellt</span><span class="sxs-lookup"><span data-stu-id="b684d-208">Not applicable</span></span>        | <span data-ttu-id="b684d-209">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-209">Yes</span></span>                                  | <span data-ttu-id="b684d-210">Alla orderrader måste uppfyllas, enskilda rader kan inte uppfyllas partiellt och alla orderrader kan levereras endast från en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-210">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="b684d-211">6\*</span><span class="sxs-lookup"><span data-stu-id="b684d-211">6\*</span></span>  | <span data-ttu-id="b684d-212">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-212">No</span></span>                     | <span data-ttu-id="b684d-213">Inte aktuellt</span><span class="sxs-lookup"><span data-stu-id="b684d-213">Not applicable</span></span>        | <span data-ttu-id="b684d-214">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-214">No</span></span>                                   | <span data-ttu-id="b684d-215">Denna kombination fungerar som kombination 4, eftersom **Uppfyll partiella rader** inte kan ha värdet **Ja** när **Uppfyll partiella order** har värdet **Nej**.</span><span class="sxs-lookup"><span data-stu-id="b684d-215">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="b684d-216">7\*</span><span class="sxs-lookup"><span data-stu-id="b684d-216">7\*</span></span>  | <span data-ttu-id="b684d-217">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-217">No</span></span>                     | <span data-ttu-id="b684d-218">Inte aktuellt</span><span class="sxs-lookup"><span data-stu-id="b684d-218">Not applicable</span></span>        | <span data-ttu-id="b684d-219">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-219">Yes</span></span>                                  | <span data-ttu-id="b684d-220">Denna kombination fungerar som kombination 5, eftersom **Uppfyll partiella rader** inte kan vara **Ja** när **Uppfyll partiella order** är **Nej**.</span><span class="sxs-lookup"><span data-stu-id="b684d-220">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="b684d-221">8</span><span class="sxs-lookup"><span data-stu-id="b684d-221">8</span></span>    | <span data-ttu-id="b684d-222">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-222">Yes</span></span>                    | <span data-ttu-id="b684d-223">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-223">No</span></span>                    | <span data-ttu-id="b684d-224">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-224">No</span></span>                                   | <span data-ttu-id="b684d-225">Ett par rader i ordern kan uppfyllas men enskilda rader kan inte uppfyllas partiellt, och de olika orderraderna kan uppfyllas från mer än en plats i en instans av DOM-körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-225">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b684d-226">9\*</span><span class="sxs-lookup"><span data-stu-id="b684d-226">9\*</span></span>  | <span data-ttu-id="b684d-227">Nej</span><span class="sxs-lookup"><span data-stu-id="b684d-227">No</span></span>                     | <span data-ttu-id="b684d-228">Inte aktuellt</span><span class="sxs-lookup"><span data-stu-id="b684d-228">Not applicable</span></span>        | <span data-ttu-id="b684d-229">Ja</span><span class="sxs-lookup"><span data-stu-id="b684d-229">Yes</span></span>                                  | <span data-ttu-id="b684d-230">Alla orderrader måste uppfyllas och de får bara göra det från en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-230">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="b684d-231">\* Om **Uppfyll partiella order** har värdet **Nej** anses **Uppfyll partiella rader** alltid ha värdet **Nej**, oavsett av vilket värde det faktiskt har.</span><span class="sxs-lookup"><span data-stu-id="b684d-231">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="b684d-232">I Retail version 10.0.5 har parametern **Uppfyll order från enbart en plats** ändrats till **Maximalt antal uppfyllelseplatser**.</span><span class="sxs-lookup"><span data-stu-id="b684d-232">In Retail version 10.0.5, the pararmeter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="b684d-233">I stället för att låta en användare konfigurera om order kan uppfyllas från enbart en plats eller från så många platser som möjligt, kan användarna nu ange om uppfyllelse kan ske från en bestämd uppsättning platser (upp till 5) eller från så många platser som möjligt.</span><span class="sxs-lookup"><span data-stu-id="b684d-233">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="b684d-234">Detta ger mer flexibilitet när det gäller antalet platser som ordern kan uppfyllas från.</span><span class="sxs-lookup"><span data-stu-id="b684d-234">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span>

   - <span data-ttu-id="b684d-235">**Platsregel för offline-uppfyllelse** – Med denna regel kan organisationen ange att en plats eller en grupp med platser är offline eller inte tillgänglig för DOM, så att order inte kan tilldelas till dessa platser för uppfyllelse.</span><span class="sxs-lookup"><span data-stu-id="b684d-235">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="b684d-236">**Regel för högsta antal avvisningar** – Med denna regel kan organisationen ange ett tröskelvärde för avvisningar.</span><span class="sxs-lookup"><span data-stu-id="b684d-236">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="b684d-237">När tröskelvärdet har nåtts märker DOM-processorn en order eller orderrad som ett undantag och utesluter den från ytterligare behandling.</span><span class="sxs-lookup"><span data-stu-id="b684d-237">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="b684d-238">När orderrader har tilldelats en plats kan platsen avvisa en tilldelad orderrad eftersom den kanske inte kan uppfylla den raden av någon anledning.</span><span class="sxs-lookup"><span data-stu-id="b684d-238">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="b684d-239">Avvisade rader märks som undantag och återförs till poolen för bearbetning i nästa körning.</span><span class="sxs-lookup"><span data-stu-id="b684d-239">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="b684d-240">Under nästa körning försöker DOM tilldela en annan plats den avvisade raden.</span><span class="sxs-lookup"><span data-stu-id="b684d-240">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="b684d-241">Den nya platsen kan också avvisa den tilldelade orderraden.</span><span class="sxs-lookup"><span data-stu-id="b684d-241">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="b684d-242">Denna tilldelnings- och avvisningscykel kan löpa flera varv.</span><span class="sxs-lookup"><span data-stu-id="b684d-242">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="b684d-243">När antalet avvisningar når upp till det angivna tröskelvärdet märker DOM orderraden som ett permanent undantag och plockar inte raden för tilldelning igen.</span><span class="sxs-lookup"><span data-stu-id="b684d-243">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="b684d-244">DOM tar bara upp orderraden för tilldelningen igen om en användare återställer dess status manuellt.</span><span class="sxs-lookup"><span data-stu-id="b684d-244">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="b684d-245">**Regel för längsta avstånd** – Med denna regel kan organisationen ange det maximala avstånd som en plats eller grupp med platser får finnas på för att uppfylla ordern.</span><span class="sxs-lookup"><span data-stu-id="b684d-245">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="b684d-246">Om överlappande maximala avståndsregler har angetts för en plats använder DOM det minsta maximala avstånd som har angetts för den platsen.</span><span class="sxs-lookup"><span data-stu-id="b684d-246">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="b684d-247">**Regel för maximalt antal order** – Med denna regel kan organisationen ange det maximala antalet order som en plats eller grupp med platser kan bearbeta under en dag.</span><span class="sxs-lookup"><span data-stu-id="b684d-247">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="b684d-248">Om det maximala antalet order har tilldelats en plats under en dag tilldelar DOM inte fler order dit under resten av dagen.</span><span class="sxs-lookup"><span data-stu-id="b684d-248">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="b684d-249">Här följer några gemensamma attribut som går att ange för de föregående regeltyperna:</span><span class="sxs-lookup"><span data-stu-id="b684d-249">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="b684d-250">**Startdatum** och **Slutdatum** – Varje regel kan fås att gälla mellan vissa datum med hjälp av dessa fält.</span><span class="sxs-lookup"><span data-stu-id="b684d-250">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="b684d-251">**Inaktiverad** – Bara de regler som har värdet **Nej** i detta fält tas med i en DOM-körning.</span><span class="sxs-lookup"><span data-stu-id="b684d-251">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="b684d-252">**Fast begränsning** – Det går att ange en regel som en fast begränsning eller inte.</span><span class="sxs-lookup"><span data-stu-id="b684d-252">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="b684d-253">Varje DOM-körning genomlöper två iterationer.</span><span class="sxs-lookup"><span data-stu-id="b684d-253">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="b684d-254">Under det första varvet behandlas varje regel som en regel med fast begränsning, oavsett fältinställningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-254">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="b684d-255">Med andra ord tillämpas alla regler.</span><span class="sxs-lookup"><span data-stu-id="b684d-255">In other words, every rule is applied.</span></span> <span data-ttu-id="b684d-256">Det enda undantaget är regeln **Platsprioritet**.</span><span class="sxs-lookup"><span data-stu-id="b684d-256">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="b684d-257">Under den andra iterationen tas regler som inte hade angetts som fasta begränsningsregler bort, och order eller orderrader som inte hade tilldelats platser när alla reglerna hade tillämpats tilldelas platser.</span><span class="sxs-lookup"><span data-stu-id="b684d-257">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="b684d-258">Uppfyllelseprofiler används för att gruppera ett antal regler, juridiska personer, ursprung till försäljningsorder och leveranssätt.</span><span class="sxs-lookup"><span data-stu-id="b684d-258">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="b684d-259">Varje DOM-körning gäller en specifik uppfyllelseprofil.</span><span class="sxs-lookup"><span data-stu-id="b684d-259">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="b684d-260">På så sätt kan organisationen ange och köra vissa regler för ett antal juridiska personer på order med specifika försäljningsorderursprung och leveranssätt.</span><span class="sxs-lookup"><span data-stu-id="b684d-260">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="b684d-261">Om olika regler måste köras för olika typer av försäljningsorderursprung eller leveranssätt kan uppfyllelseprofiler alltså definieras enligt detta.</span><span class="sxs-lookup"><span data-stu-id="b684d-261">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="b684d-262">Så här ställs uppfyllelseprofiler in:</span><span class="sxs-lookup"><span data-stu-id="b684d-262">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="b684d-263">Öppna **Retail och Commerce \> Fördelad orderhantering \> Inställningar \> Uppfyllelseprofiler**.</span><span class="sxs-lookup"><span data-stu-id="b684d-263">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="b684d-264">Välj **Ny**.</span><span class="sxs-lookup"><span data-stu-id="b684d-264">Select **New**.</span></span>
    3. <span data-ttu-id="b684d-265">Ange värden i fälten **Profil** och **Beskrivning**.</span><span class="sxs-lookup"><span data-stu-id="b684d-265">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="b684d-266">Ange värdet på alternativet **Tillämpa resultat automatiskt**.</span><span class="sxs-lookup"><span data-stu-id="b684d-266">Set the **Auto apply result** option.</span></span> <span data-ttu-id="b684d-267">Om du väljer **Ja** tillämpas resultaten från DOM-körningen för profilen automatiskt på försäljningsorderraderna.</span><span class="sxs-lookup"><span data-stu-id="b684d-267">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="b684d-268">Om du väljer **Nej** går resultaten endast att se i uppfyllelseplanen.</span><span class="sxs-lookup"><span data-stu-id="b684d-268">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="b684d-269">De används inte på försäljningsorderraderna.</span><span class="sxs-lookup"><span data-stu-id="b684d-269">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="b684d-270">Om du vill att DOM-profilen ska köras för order med samtliga försäljningsorderursprung – till och med order där försäljningsorderursprunget är odefinierat – ska alternativet **Bearbeta order med tomt försäljningsursprung** ha värdet **Ja**.</span><span class="sxs-lookup"><span data-stu-id="b684d-270">If you want the DOM profile to be run for orders that have every sales order origin, even orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="b684d-271">Om du vill köra profilen endast för vissa försäljningsorderursprung går de att definiera på sidan **Försäljningsursprung**. Detta förklaras senare.</span><span class="sxs-lookup"><span data-stu-id="b684d-271">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>
    6. <span data-ttu-id="b684d-272">Välj **Lägg till** på snabbfliken **Juridiska personer** och välj sedan en juridisk person.</span><span class="sxs-lookup"><span data-stu-id="b684d-272">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="b684d-273">Välj **Lägg till** på snabbfliken **Regler** och välj sedan den regel som ska länkas till profilen.</span><span class="sxs-lookup"><span data-stu-id="b684d-273">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="b684d-274">Upprepa de föregående två stegen tills alla regler som ska vara med är kopplade till profilen.</span><span class="sxs-lookup"><span data-stu-id="b684d-274">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="b684d-275">Välj **Spara**.</span><span class="sxs-lookup"><span data-stu-id="b684d-275">Select **Save**.</span></span>
    10. <span data-ttu-id="b684d-276">Välj **Leveranssätt** på fliken **Inställningar** i åtgärdsfönstret.</span><span class="sxs-lookup"><span data-stu-id="b684d-276">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="b684d-277">Välj **Nytt** på sidan **Leveranssätt**.</span><span class="sxs-lookup"><span data-stu-id="b684d-277">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="b684d-278">Välj den juridiska personen i fältet **Företag**.</span><span class="sxs-lookup"><span data-stu-id="b684d-278">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b684d-279">Listan med företag är begränsad till de juridiska personerna som lades till tidigare.</span><span class="sxs-lookup"><span data-stu-id="b684d-279">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="b684d-280">Ange leveranssättet som ska kopplas till denna profil i fältet **Leveranssätt**.</span><span class="sxs-lookup"><span data-stu-id="b684d-280">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="b684d-281">Ett leveranssätt går inte att koppla till flera aktiva profiler.</span><span class="sxs-lookup"><span data-stu-id="b684d-281">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="b684d-282">Upprepa de föregående två stegen tills alla leveranssätt som ska vara med är kopplade till profilen.</span><span class="sxs-lookup"><span data-stu-id="b684d-282">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="b684d-283">Stäng sidan **Leveranssätt**.</span><span class="sxs-lookup"><span data-stu-id="b684d-283">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="b684d-284">Välj **Försäljningsorderursprung** på fliken **Inställningar** i åtgärdsfönstret.</span><span class="sxs-lookup"><span data-stu-id="b684d-284">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="b684d-285">Välj **Nytt** på sidan **Försäljningsursprung**.</span><span class="sxs-lookup"><span data-stu-id="b684d-285">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="b684d-286">Välj den juridiska personen i fältet **Företag**.</span><span class="sxs-lookup"><span data-stu-id="b684d-286">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b684d-287">Listan med företag är begränsad till de juridiska personerna som lades till tidigare.</span><span class="sxs-lookup"><span data-stu-id="b684d-287">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="b684d-288">Ange försäljningsursprunget som ska kopplas till denna profil i fältet **Försäljningsursprung**.</span><span class="sxs-lookup"><span data-stu-id="b684d-288">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="b684d-289">Ett försäljningsursprung går inte att koppla till flera aktiva profiler.</span><span class="sxs-lookup"><span data-stu-id="b684d-289">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="b684d-290">Upprepa de föregående två stegen tills alla försäljningsursprung som ska vara med är kopplade till profilen.</span><span class="sxs-lookup"><span data-stu-id="b684d-290">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="b684d-291">Stäng sidan **Försäljningsursprung**.</span><span class="sxs-lookup"><span data-stu-id="b684d-291">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="b684d-292">Ge alternativet **Aktivera profil** värdet **Ja**.</span><span class="sxs-lookup"><span data-stu-id="b684d-292">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="b684d-293">Ett varningsmeddelande visas om det finns några fel i inställningarna.</span><span class="sxs-lookup"><span data-stu-id="b684d-293">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="b684d-294">DOM-bearbetning</span><span class="sxs-lookup"><span data-stu-id="b684d-294">DOM processing</span></span>

<span data-ttu-id="b684d-295">DOM körs bara i batchjobb.</span><span class="sxs-lookup"><span data-stu-id="b684d-295">DOM will run only in a batch job.</span></span> <span data-ttu-id="b684d-296">Gör på följande vis för att konfigurera batchjobbet för DOM-körningar.</span><span class="sxs-lookup"><span data-stu-id="b684d-296">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="b684d-297">Öppna **Retail och Commerce \> Fördelad orderhantering \> Batchbearbetning \> Inställning för DOM-bearbetarjobb**.</span><span class="sxs-lookup"><span data-stu-id="b684d-297">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="b684d-298">Välj en profil som DOM måste köras för i fältet **Uppfyllelseprofil** på snabbfliken **Parametrar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-298">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="b684d-299">Välj en konfigurerad batchgrupp i fältet **Batchgrupp** på snabbfliken **Kör i bakgrunden**.</span><span class="sxs-lookup"><span data-stu-id="b684d-299">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b684d-300">Ange batchjobbets namn i fältet **Uppgiftsbeskrivning**.</span><span class="sxs-lookup"><span data-stu-id="b684d-300">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="b684d-301">Välj **Upprepning** och ange hur ofta batchjobbet ska upprepas.</span><span class="sxs-lookup"><span data-stu-id="b684d-301">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b684d-302">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="b684d-302">Select **OK**.</span></span>

<span data-ttu-id="b684d-303">Vid bearbetningen beaktar DOM ordern och orderraderna enligt beskrivningen här:</span><span class="sxs-lookup"><span data-stu-id="b684d-303">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="b684d-304">Orderrader som uppfyller kriterierna för försäljningsorderursprung, leveranssätt och juridisk person enligt inställningen i DOM-profilen och som dessutom uppfyller något av dessa kriterier:</span><span class="sxs-lookup"><span data-stu-id="b684d-304">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="b684d-305">De skapas från handelskanaler.</span><span class="sxs-lookup"><span data-stu-id="b684d-305">They are created from commerce channels.</span></span>
    - <span data-ttu-id="b684d-306">De har aldrig kopplats av DOM.</span><span class="sxs-lookup"><span data-stu-id="b684d-306">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="b684d-307">De har kopplats av DOM tidigare men märkts som undantag och är under det maximala tröskelvärdet för försök.</span><span class="sxs-lookup"><span data-stu-id="b684d-307">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="b684d-308">Leveranssättet är inte upphämtning eller elektronisk leverans.</span><span class="sxs-lookup"><span data-stu-id="b684d-308">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="b684d-309">De är inte märkta för leverans.</span><span class="sxs-lookup"><span data-stu-id="b684d-309">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="b684d-310">De är inte manuellt exkluderade.</span><span class="sxs-lookup"><span data-stu-id="b684d-310">They aren't manually excluded.</span></span>

- <span data-ttu-id="b684d-311">Order som inte är spärrade</span><span class="sxs-lookup"><span data-stu-id="b684d-311">Orders that aren't on hold</span></span>

<span data-ttu-id="b684d-312">När DOM har tillämpat reglerna, lagerbegränsningarna och optimeringarna väljer DOM platsen som är närmast kundens leveransadress.</span><span class="sxs-lookup"><span data-stu-id="b684d-312">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="b684d-313">![Villkor för försäljningsorder](./media/ordercriteria.png "Villkor för försäljningsorder")</span><span class="sxs-lookup"><span data-stu-id="b684d-313">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="b684d-314">Resultat av DOM-körningar</span><span class="sxs-lookup"><span data-stu-id="b684d-314">Results of DOM runs</span></span>

<span data-ttu-id="b684d-315">Om uppfyllelseprofilen är inställd på **Tillämpa automatiskt** tillämpas resultaten av körningen automatiskt på försäljningsorderraderna. Uppfyllelseplanen går att se separat.</span><span class="sxs-lookup"><span data-stu-id="b684d-315">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="b684d-316">Men om uppfyllelseprofilen inte är inställd på **Tillämpa automatiskt** går resultatet av körningen bara att se från uppfyllelseplanvyn.</span><span class="sxs-lookup"><span data-stu-id="b684d-316">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="b684d-317">Gör på följande vis om du vill se alla uppfyllelseplaner som genereras.</span><span class="sxs-lookup"><span data-stu-id="b684d-317">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="b684d-318">Öppna **Retail och Commerce \> Fördelad orderhantering \> Fördelad orderhantering**.</span><span class="sxs-lookup"><span data-stu-id="b684d-318">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="b684d-319">Välj rutan **Uppfyllelseplaner** på arbetsytan **Fördelad orderhantering**.</span><span class="sxs-lookup"><span data-stu-id="b684d-319">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="b684d-320">Välj id:t för den aktuella orderuppfyllelseplanen för att visa uppfyllelseplanen.</span><span class="sxs-lookup"><span data-stu-id="b684d-320">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="b684d-321">Orderinformationsavsnittet i uppfyllelseplanen visar de ursprungliga försäljningsorderraderna som ingick i körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-321">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="b684d-322">Förutom de vanliga försäljningsorderradsfälten innehåller orderinformationsavsnittet även följande tre DOM-relaterade fält:</span><span class="sxs-lookup"><span data-stu-id="b684d-322">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="b684d-323">**Uppfyllelsetyp** – Detta fält visar om försäljningsorderraden är helt kopplad, partiellt kopplad eller inte kopplad alls till en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-323">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="b684d-324">**Dela** – Detta fält visar om en försäljningsorderrad har delats och kopplats till olika platser.</span><span class="sxs-lookup"><span data-stu-id="b684d-324">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="b684d-325">**Antal uppfyllelseplatser** – Detta fält visar hur många uppfyllelserader som skapades för en försäljningsorderrad (baserat på antalet platser som den ursprungliga försäljningsorderraden har kopplats till).</span><span class="sxs-lookup"><span data-stu-id="b684d-325">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="b684d-326">Avsnittet med information om orderuppfyllelsen visar tilldelningen av de ursprungliga försäljningsorderraderna till olika platser tillsammans med kvantiteter.</span><span class="sxs-lookup"><span data-stu-id="b684d-326">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="b684d-327">Åtgärder och statusar för orderrader</span><span class="sxs-lookup"><span data-stu-id="b684d-327">Order line actions and statuses</span></span>

<span data-ttu-id="b684d-328">Nedan beskrivs inställningarna på orderraden.</span><span class="sxs-lookup"><span data-stu-id="b684d-328">The following describes settings on the order line.</span></span> <span data-ttu-id="b684d-329">Öppna orderraden från **Retail och Commerce \> Kunder \> Alla försäljningsorder**.</span><span class="sxs-lookup"><span data-stu-id="b684d-329">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="b684d-330">Om du ger alternativet **Exkludera från DOM-bearbetning** på fliken **Allmänt** för försäljningsorderraden värdet **Ja** exkluderas orderraden från DOM-bearbetning.</span><span class="sxs-lookup"><span data-stu-id="b684d-330">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="b684d-331">Fältet **DOM-status** på fliken **Allmänt** för försäljningsorderraden kan ges något av dessa värden:</span><span class="sxs-lookup"><span data-stu-id="b684d-331">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="b684d-332">**Ingen** – Orderraden har aldrig kopplats.</span><span class="sxs-lookup"><span data-stu-id="b684d-332">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="b684d-333">**Slutfört** – Orderraden har kunnat kopplats och tilldelat en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-333">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="b684d-334">**Undantag** – Orderraden har kopplats men kan inte tilldelas en plats.</span><span class="sxs-lookup"><span data-stu-id="b684d-334">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="b684d-335">Det finns flera undertyper till undantag som går att visa från DOM-arbetsytan:</span><span class="sxs-lookup"><span data-stu-id="b684d-335">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="b684d-336">**Ingen tillgänglig kvantitet** – Det finns inget på lager att tilldela ordern på dessa platser.</span><span class="sxs-lookup"><span data-stu-id="b684d-336">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="b684d-337">**Högsta antal avvisningar** – Orderraden har nått det högsta tröskelvärdet för avvisningar.</span><span class="sxs-lookup"><span data-stu-id="b684d-337">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="b684d-338">**Dataändringskonflikt** – Försäljningsorderraden har ändrats sedan ordern kopplades.</span><span class="sxs-lookup"><span data-stu-id="b684d-338">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="b684d-339">Därför kan uppfyllelseplanen inte tillämpas på ordern.</span><span class="sxs-lookup"><span data-stu-id="b684d-339">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="b684d-340">**Orderradsspecifikt undantag** – Orderraden har flera undantag.</span><span class="sxs-lookup"><span data-stu-id="b684d-340">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="b684d-341">När försäljningsordern registreras kan DOM köras interaktivt.</span><span class="sxs-lookup"><span data-stu-id="b684d-341">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="b684d-342">När en orderrad matas in kan man efter att ha angett produkt och kvantitet välja **Uppdatera rad** och sedan – under **DOM** – välja **Föreslå uppfyllelseplats**.</span><span class="sxs-lookup"><span data-stu-id="b684d-342">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="b684d-343">Då visas en lista med platser som kan uppfylla kvantiteten på orderraden. Listan bygger på DOM-regler.</span><span class="sxs-lookup"><span data-stu-id="b684d-343">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="b684d-344">Listan är sorterad efter avstånd.</span><span class="sxs-lookup"><span data-stu-id="b684d-344">This list is sorted by distance.</span></span> <span data-ttu-id="b684d-345">Välj en plats för att ange den relevanta platsen och lagerstället på försäljningsorderraden.</span><span class="sxs-lookup"><span data-stu-id="b684d-345">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="b684d-346">Om detta ska fungera måste det finnas en befintlig, aktiv uppfyllelseprofil som matchar försäljningsradens försäljningsursprung och leveransläge.</span><span class="sxs-lookup"><span data-stu-id="b684d-346">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="b684d-347">Visa DOM-körningsloggarna för en försäljningsorderrad genom att välja **Försäljningsorderrad** och sedan – under **DOM** – välja **Visa DOM-loggar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-347">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="b684d-348">DOM-loggarna innehåller alla händelser och loggar som genererades av DOM-körningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-348">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="b684d-349">Loggarna kan hjälpa dig att förstå varför en viss plats tilldelades orderraden och vilka regler och begränsningar som ansågs ingå i tilldelningen.</span><span class="sxs-lookup"><span data-stu-id="b684d-349">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="b684d-350">På fliken **Hantera** är DOM-loggarna också tillgängliga på försäljningsorderrubrikens nivå.</span><span class="sxs-lookup"><span data-stu-id="b684d-350">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="b684d-351">Kör ett rensningsjobb för DOM-uppfyllelseplaner</span><span class="sxs-lookup"><span data-stu-id="b684d-351">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="b684d-352">När DOM-bearbetningen körs skapas uppfyllelseplaner.</span><span class="sxs-lookup"><span data-stu-id="b684d-352">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="b684d-353">Med tiden blir det många uppfyllelseplaner i systemet.</span><span class="sxs-lookup"><span data-stu-id="b684d-353">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="b684d-354">Du kan hantera antalet uppfyllelseplaner som systemet behåller genom att konfigurera ett batchjobb som raderar äldre uppfyllelseplaner utifrån värdet **Kvarhållandeperiod i dagar**.</span><span class="sxs-lookup"><span data-stu-id="b684d-354">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="b684d-355">Öppna **Retail och Commerce \> Fördelad orderhantering \> Batchbearbetning \> Inställning av borttagningsjobb för DOM-uppfyllelsedata**.</span><span class="sxs-lookup"><span data-stu-id="b684d-355">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="b684d-356">Välj en konfigurerad batchgrupp i fältet **Batchgrupp**.</span><span class="sxs-lookup"><span data-stu-id="b684d-356">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b684d-357">Välj **Upprepning** och ange hur ofta batchjobbet ska upprepas.</span><span class="sxs-lookup"><span data-stu-id="b684d-357">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b684d-358">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="b684d-358">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="b684d-359">Mer information</span><span class="sxs-lookup"><span data-stu-id="b684d-359">More information</span></span>

<span data-ttu-id="b684d-360">Här är några saker att tänka på när du använder DOM-funktionen:</span><span class="sxs-lookup"><span data-stu-id="b684d-360">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="b684d-361">För tillfället granskar DOM bara order som skapas från handelskanaler.</span><span class="sxs-lookup"><span data-stu-id="b684d-361">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="b684d-362">Försäljningsorder identifieras som butiksförsäljningsorder när alternativet **Commerce-försäljning** har värdet **Ja**.</span><span class="sxs-lookup"><span data-stu-id="b684d-362">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="b684d-363">Microsoft har inte testat DOM med avancerade lagerstyrningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="b684d-363">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="b684d-364">Kunder och partner måste noga bedöma om DOM är kompatibelt med den avancerade lagerstyrningskapacitet och processerna som är relevanta för dem.</span><span class="sxs-lookup"><span data-stu-id="b684d-364">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="b684d-365">DOM är bara tillgängligt i molnversionen av Commerce.</span><span class="sxs-lookup"><span data-stu-id="b684d-365">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="b684d-366">Det stöds inte i lokala installationer.</span><span class="sxs-lookup"><span data-stu-id="b684d-366">It isn't supported in on-premises deployments.</span></span>

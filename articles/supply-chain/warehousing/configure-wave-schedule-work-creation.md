---
title: Schemalägga arbetsskapande under cykel
description: Det här avsnittet beskriver hur du ställer in och använder metoden Schemalägga arbetsskapande under cykel.
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: e4258c03b12a80a5bd81328ae7418835d68f82e7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5835712"
---
# <a name="schedule-work-creation-during-wave"></a><span data-ttu-id="21ac5-103">Schemalägga arbetsskapande under cykel</span><span class="sxs-lookup"><span data-stu-id="21ac5-103">Schedule work creation during wave</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="21ac5-104">Använd funktionen *Schemalägga arbetsskapande* som en del av din påfyllnadsprocess för att öka påfyllnadsprocessens genomströmning genom att systemet skapar arbete med parallell bearbetning.</span><span class="sxs-lookup"><span data-stu-id="21ac5-104">Use the *Schedule work creation* feature as part of your waving process to help increase wave processing throughput by having the system create work using parallel processing.</span></span>

<span data-ttu-id="21ac5-105">När funktionaliteten är aktiverad kommer planerat arbete automatiskt att få skapat, vilket systemet så småningom kommer att bearbeta för att skapa verkligt arbete.</span><span class="sxs-lookup"><span data-stu-id="21ac5-105">When the functionality is enabled, planned work will automatically get created, which the system will eventually process to create actual work.</span></span> <span data-ttu-id="21ac5-106">Om antalet påfyllnadsbelastningsrader når ett förutbestämt tröskelvärde kommer systemet att skapa verkligt arbete snabbare genom att tillämpa parallell, asynkron bearbetning.</span><span class="sxs-lookup"><span data-stu-id="21ac5-106">If the number of wave load lines reaches a predetermined threshold, the system will create actual work more quickly by applying parallel, asynchronous processing.</span></span>

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a><span data-ttu-id="21ac5-107">Aktivera funktionerna för att skapa tidsplanerat arbete i funktionshanteringen</span><span class="sxs-lookup"><span data-stu-id="21ac5-107">Turn on the scheduled work creation features in feature management</span></span>

<span data-ttu-id="21ac5-108">De funktioner som beskrivs i det här avsnittet måste vara inaktiverade för ditt system.</span><span class="sxs-lookup"><span data-stu-id="21ac5-108">To use the features described in this topic, they must be turned on for your system.</span></span> <span data-ttu-id="21ac5-109">Använda [utgiftshantering](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) aktiverar du följande funktioner i följande ordning:</span><span class="sxs-lookup"><span data-stu-id="21ac5-109">Use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to turn on the following features in the following order:</span></span>

1. <span data-ttu-id="21ac5-110">**Arbetsspärr för hela organisationen** - Krävs för både manuell och automatisk konfiguration av planerat arbete.</span><span class="sxs-lookup"><span data-stu-id="21ac5-110">**Organization-wide work blocking** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="21ac5-111">**Schemalägga arbetsskapande** - Krävs för både manuell och automatisk konfiguration av planerat arbete.</span><span class="sxs-lookup"><span data-stu-id="21ac5-111">**Schedule work creation** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="21ac5-112">**Organisationsomfattande påfyllnadsmetod "Schemalägg arbetet"** - Krävs för både manuell och automatisk konfiguration av planerat arbete.</span><span class="sxs-lookup"><span data-stu-id="21ac5-112">**Organization-wide "Schedule work creation" wave method** - Required for automatic configuration of scheduled work creation.</span></span> <span data-ttu-id="21ac5-113">Du behöver inte den här funktionen om du bara vill använda manuell konfiguration.</span><span class="sxs-lookup"><span data-stu-id="21ac5-113">You don't need this feature if you will only use manual configuration.</span></span>

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a><span data-ttu-id="21ac5-114">Konfigurera tidsplanerat arbete automatiskt</span><span class="sxs-lookup"><span data-stu-id="21ac5-114">Automatically configure scheduled work creation</span></span>

<span data-ttu-id="21ac5-115">Om du aktiverar funktionen *påfyllnadsmetoden Organisationsomfattande påfyllnadsmetod* följande automatiskt i systemet:</span><span class="sxs-lookup"><span data-stu-id="21ac5-115">If you enable the *Organization-wide "Schedule work creation" wave method* feature, the following automatically occurs on your system:</span></span>

- <span data-ttu-id="21ac5-116">Påfyllnadsmetoden *Skapa tidsplan för arbete* (`WHSScheduleWorkCreationWaveStepMethod`) läggs till och konfigureras att köra parallellt över alla juridiska enheter.</span><span class="sxs-lookup"><span data-stu-id="21ac5-116">The *Schedule work creation* wave method (`WHSScheduleWorkCreationWaveStepMethod`) is added and configured to run in parallel across all legal entities.</span></span>
- <span data-ttu-id="21ac5-117">Påfyllnadsmallar från alla juridiska personer som har typ av **Påfyllnadsmalltyp** anges till *Leverans* and **Mallstatus** anges till *Giltig* kommer att ersätta metoden *Skapa arbete* med *Schemalägga skapande av arbete*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-117">Wave templates from all legal entities that have **Wave template type** set to *Shipping* and **Template status** set to *Valid* will have the *Create work* method replaced by the *Schedule work creation* method.</span></span> <span data-ttu-id="21ac5-118">Påfyllnadsmallar från juridiska personer där metoden *Skapa arbete* får repeteras kommer inte att ändras.</span><span class="sxs-lookup"><span data-stu-id="21ac5-118">However, wave templates from legal entities where the *Create work* method is allowed to be repeatable will not be modified.</span></span>
- <span data-ttu-id="21ac5-119">Uppgiftskonfigurationer för metoden *Skapa arbetsschema* kommer att skapas för alla lager från alla juridiska enheter som har **Använd lagerstyrningsprocesser** aktiverad.</span><span class="sxs-lookup"><span data-stu-id="21ac5-119">Task configurations for the *Schedule work creation* method will be created for all warehouses from all legal entities that have **Use warehouse management processes** enabled.</span></span> <span data-ttu-id="21ac5-120">Det innebär att metoden *Schemalägga skapande av arbete* körs parallellt som standard.</span><span class="sxs-lookup"><span data-stu-id="21ac5-120">This means that the *Schedule work creation* method will now run in parallel by default.</span></span> <span data-ttu-id="21ac5-121">Befintliga lagerställen som du ändrar **Använd lagerstyrningsprocesser** från *Nej* till *Ja* kommer som standard också att köra den här metoden parallellt.</span><span class="sxs-lookup"><span data-stu-id="21ac5-121">Existing warehouses for which you change **Use warehouse management processes** from *No* to *Yes* will also run this method in parallel by default.</span></span>
- <span data-ttu-id="21ac5-122">lla juridiska personer bearbetar påfyllnader i batchar och **Vänta på lås (ms)** anges till ett standardvärde på *60 000* ms om det tidigare har satts till *0* ms.</span><span class="sxs-lookup"><span data-stu-id="21ac5-122">All legal entities will process waves in batches and **Wait for lock (ms)** will be set to a default value of *60,000* ms if it was previously set to *0* ms.</span></span>
- <span data-ttu-id="21ac5-123">Alla nya påfyllnadsmallar som du skapar kommer att ha metoden *Schemalägg skapande av arbete* i stället för metoden *Skapa arbete*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-123">All the new wave templates that you create will have the *Schedule work creation* wave method instead of the *Create Work* method.</span></span>

<span data-ttu-id="21ac5-124">De befintliga konfigurationerna av uppgift och påfyllnadsbehandling kommer också att behållas för alla juridiska enheter som redan är konfigurerade för att bearbeta påfyllnader i partier, och för alla lager som redan är konfigurerade för att använda konfigurationerna kommer också att sparas för alla juridiska enheter som redan är konfigurerade för att behandla påfyllnader i bacther och för alla lager som redan är konfigurerade för att använda metoden *Schemalägg skapande av arbete* parallellt.</span><span class="sxs-lookup"><span data-stu-id="21ac5-124">The existing task and wave processing configurations will also be kept for all legal entities that are already configured to process waves in batches, and for all warehouses that are already configured to use the *Schedule work creation* method in parallel.</span></span>

<span data-ttu-id="21ac5-125">Om det behövs kan du manuellt återställa någon eller alla inställningar som görs automatiskt när du aktiverar funktionen *Metoden för organisationsomfattande schemaläggning av skapande av arbete* genom att göra följande:</span><span class="sxs-lookup"><span data-stu-id="21ac5-125">If necessary, you can manually revert any or all of the settings made automatically when you enabled the *Organization-wide Schedule work creation wave method* feature by doing the following:</span></span>

- <span data-ttu-id="21ac5-126">För påfyllnadsmallar, gå till **Lagerstyrning \> Inställningar \> Påfyllnader \> Påfyllnadsmallar**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-126">For wave templates, go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span> <span data-ttu-id="21ac5-127">Ersätt metoden *Schemalägga arbetsskapande* med *Skapa arbete*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-127">Replace *Schedule work creation* method with *Create work*.</span></span>
- <span data-ttu-id="21ac5-128">För lagerparametrar, gå till **Lagerstyrning \> Inställningar \> Parametrar för lagerstyrning**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-128">For warehouse parameters, go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="21ac5-129">På fliken **Påfyllnadsbearbetning** använder du de prioriterade värdena för **Bearbeta påfyllnader i batch** och **Vänta på lås (ms)**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-129">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="21ac5-130">För påfyllnadsmetoder, gå till **Lagerstyrning \> Inställningar \> Påfyllnader \> Metoder för påfyllnadsprocess**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-130">For the wave methods, go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="21ac5-131">Välj `WHSScheduleWorkCreationWaveStepMethod` och i åtgärdsfönstret, välj **Uppgiftskonfiguration**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-131">Select `WHSScheduleWorkCreationWaveStepMethod` and, on the Action Pane, select **Task configuration**.</span></span> <span data-ttu-id="21ac5-132">Ändra eller radera antalet batchuppgifter och den tilldelade påfyllnadsgruppen för respektive lagerställe i listan efter behov.</span><span class="sxs-lookup"><span data-stu-id="21ac5-132">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="manually-configure-scheduled-work-creation"></a><span data-ttu-id="21ac5-133">Konfigurera tidsplanerat arbete manuellt</span><span class="sxs-lookup"><span data-stu-id="21ac5-133">Manually configure scheduled work creation</span></span>

<span data-ttu-id="21ac5-134">Om du inte har aktiverat funktionen [*Organisationsomfattande påfyllnadsmetod "Schemalägga arbetsskapande"*](#Auto-enable-schedule-work-creation) kan du använda procedurerna i det här avsnittet för att manuellt konfigurera schemalagda arbetstillfällen efter behov.</span><span class="sxs-lookup"><span data-stu-id="21ac5-134">If you didn't enable the [*Organization-wide "Schedule work creation" wave method* feature](#Auto-enable-schedule-work-creation), then you can use the procedures provided in this section to manually configure scheduled work creation as needed.</span></span>

### <a name="manually-enable-batch-processing-of-waves"></a><span data-ttu-id="21ac5-135">Aktivera batchbearbetning av påfyllnad manuellt</span><span class="sxs-lookup"><span data-stu-id="21ac5-135">Manually enable batch processing of waves</span></span>

<span data-ttu-id="21ac5-136">För att dra nytta av en parallell asynkron metod för att skapa lagerarbete, måste din påfyllnadsprocess köras i batch.</span><span class="sxs-lookup"><span data-stu-id="21ac5-136">To take advantage of a parallel asynchronous method to create warehouse work, your wave process must be running in batch.</span></span> <span data-ttu-id="21ac5-137">Så här ställer du in det:</span><span class="sxs-lookup"><span data-stu-id="21ac5-137">To set this up:</span></span>

1. <span data-ttu-id="21ac5-138">Gå till  **Lagerstyrning\>Inställningar\>Parametrar för lagerstyrning**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-138">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="21ac5-139">På sidan **Allmänt**, ange **Behandla påfyllnader i batch** till *Ja*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-139">On the **General** tab, set **Process waves in batch** to *Yes*.</span></span> <span data-ttu-id="21ac5-140">Eventuellt kan du också välja en dedikerad **Batchgrupp för påfyllnadsbearbetning** för att förhindra att din batch-kö bearbetning körs samtidigt som andra processer.</span><span class="sxs-lookup"><span data-stu-id="21ac5-140">Optionally, you can also select a dedicated **Wave processing batch group** to prevent your batch queue processing from running at the same time as other processes.</span></span>
1. <span data-ttu-id="21ac5-141">Ange **Vänta på lås (ms) tid**, som gäller när systemet bearbetar flera påfyllningar samtidigt.</span><span class="sxs-lookup"><span data-stu-id="21ac5-141">Set the **Wait for lock (ms) time**, which applies when the system is processing several waves at the same time.</span></span> <span data-ttu-id="21ac5-142">För de flesta större påfyllningsprocesser rekommenderar vi ett värde på *60000*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-142">For most larger waving processes, we recommend a value of *60000*.</span></span>

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a><span data-ttu-id="21ac5-143">Aktivera metoden nytt påfyllnadssteg manuellt för befintliga påfyllnadsmallar</span><span class="sxs-lookup"><span data-stu-id="21ac5-143">Manually enable the new wave step method for existing wave templates</span></span>

<span data-ttu-id="21ac5-144">Börja med att skapa den nya påfyllnadsstegmetoden och aktivera den för parallell asynkron uppgiftsbearbetning.</span><span class="sxs-lookup"><span data-stu-id="21ac5-144">Start by creating the new wave step method and enabling it for parallel asynchronous task processing.</span></span>

1. <span data-ttu-id="21ac5-145">Gå till  **Lagerstyrning \> Inställningar \> Påfyllnader \> Metoder för påfyllnadsprocess**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-145">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span>
1. <span data-ttu-id="21ac5-146">Välj  **återskapa metoder** och observera att *WHSScheduleWorkCreationWaveStepMethod* har lagts till i listan över metoder för påfyllnadsprocess kan du använda i påfyllnadsmallar för leverans.</span><span class="sxs-lookup"><span data-stu-id="21ac5-146">Select  **Regenerate method** and note that *WHSScheduleWorkCreationWaveStepMethod* has been added to the list of wave process methods you can use in your shipping wave templates.</span></span>
1. <span data-ttu-id="21ac5-147">Välj posten med **metodnamnet** *WHSScheduleWorkCreationWaveStepMethod* och välj **Konfiguration av uppgift**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-147">Select the record with the **Method name** *WHSScheduleWorkCreationWaveStepMethod* and select **Task configuration**.</span></span>
1. <span data-ttu-id="21ac5-148">Välj om du vill lägga till en ny rad i rutnätet **Ny** i åtgärdsfönstret och använd följande inställningar:</span><span class="sxs-lookup"><span data-stu-id="21ac5-148">To add a new row to the grid, select **New** on the Action Pane and use the following settings:</span></span>

    - <span data-ttu-id="21ac5-149">**Lagerställe** - Välj det lager du ska använda för att schemalägga bearbetning av arbete.</span><span class="sxs-lookup"><span data-stu-id="21ac5-149">**Warehouse** - Select the warehouse you will use to schedule work creation processing.</span></span>
    - <span data-ttu-id="21ac5-150">**Maximalt antal batchuppgifter** - Ange ett maximalt antal batchuppgifter.</span><span class="sxs-lookup"><span data-stu-id="21ac5-150">**Maximum number of batch tasks** - Specify a maximum number of batch tasks.</span></span> <span data-ttu-id="21ac5-151">I de flesta fall bör detta värde vara i intervallet från 8-16, men vi rekommenderar att du experimenterar med den optimala inställningen baserat på dina scenarier.</span><span class="sxs-lookup"><span data-stu-id="21ac5-151">In most cases, this value should be in the range from 8-16, however we recommend that you experiment with the optimal setting based on your scenarios.</span></span>
    - <span data-ttu-id="21ac5-152">**Batchgrupp för påfyllnadsbearbetning** - Välj en särskild batchgrupp för påfyllnadsbearbetning för att optimera bearbetning av batchkö.</span><span class="sxs-lookup"><span data-stu-id="21ac5-152">**Wave processing batch group** - Select a dedicated wave processing batch group to optimize your batch queue processing.</span></span>

<span data-ttu-id="21ac5-153">Nu är du redo att uppdatera en befintlig påfyllnadsmall (eller skapa en ny) för att använda metoden för påfyllnadsbearbetning *Schemalägga arbetsskapande*.</span><span class="sxs-lookup"><span data-stu-id="21ac5-153">Now you are ready to update an existing wave template (or create a new one) to use the *Schedule work creation* wave processing method.</span></span>

1. <span data-ttu-id="21ac5-154">Gå till  **Lagerstyrning \> Inställningar \> Påfyllnader \> Påfyllnadsmallar**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-154">Go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span>
1. <span data-ttu-id="21ac5-155">I åtgärdsfönstret väljer du **Redigera**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-155">Select **Edit** on the Action Pane.</span></span>
1. <span data-ttu-id="21ac5-156">I listfönstret väljer du den påfyllnadsmall som du vill uppdatera (om du testar med demodata kan du använda *standardvärdet för leverans 24*).</span><span class="sxs-lookup"><span data-stu-id="21ac5-156">In the list pane, select the wave template you would like to update (if you are testing using demo data, then you could use *24 Shipping default*).</span></span>
1. <span data-ttu-id="21ac5-157">Expandera snabbflikarna **Metoder** och markera raden med hjälp av **Namn** *Schemalägga arbetsskapande* i rutnätet **Resterande metoder**.</span><span class="sxs-lookup"><span data-stu-id="21ac5-157">Expand the **Methods** FastTab and select the row with the **Name** *Schedule work creation* in the **Remaining methods** grid.</span></span>
1. <span data-ttu-id="21ac5-158">Markera pilen som pekar på kolumnen **Markerade metoder** om du vill flytta den markerade raden till den kolumnen.</span><span class="sxs-lookup"><span data-stu-id="21ac5-158">Select the arrow pointing to the **Selected methods** column to move the selected row to that column.</span></span> <span data-ttu-id="21ac5-159">(Du kan bara ha en vald metod åt gången som använder endera `WHSScheduleWorkCreationWaveStepMethod` eller `createWork`, så den befintliga raden med **Metodnamn** `createWork` flyttas automatiskt till rutnätet **Resterande metoder**.)</span><span class="sxs-lookup"><span data-stu-id="21ac5-159">(You can only have one selected method at a time that uses either `WHSScheduleWorkCreationWaveStepMethod` or `createWork`, so the existing row with **Method name** `createWork` is automatically moved to the **Remaining methods** grid.)</span></span>

## <a name="set-wave-task-processing-threshold-data"></a><span data-ttu-id="21ac5-160">Ställ in tröskelvärdesdata för bearbetning av påfyllnadsuppgift</span><span class="sxs-lookup"><span data-stu-id="21ac5-160">Set wave task processing threshold data</span></span>

<span data-ttu-id="21ac5-161">Systemet skapar tröskeldata för standardaktivitetsbearbetning första gången en påfyllnadsprocess körs med hjälp av uppgiftsbaserad bearbetning.</span><span class="sxs-lookup"><span data-stu-id="21ac5-161">The system will create default wave task processing threshold data the first time a wave process runs using any task-based processing.</span></span> <span data-ttu-id="21ac5-162">Data används för att kontrollera när påfyllnadsbearbetningen kommer att köras asynkront och vara uppgiftsbaserad, vilket gör det möjligt att bearbeta och skapa arbete parallellt.</span><span class="sxs-lookup"><span data-stu-id="21ac5-162">The data is used to control when wave processing will run asynchronously and be task-based, which enables it to process and create work in parallel.</span></span>

<span data-ttu-id="21ac5-163">Standarddata använder inledningsvis ett tröskelvärde på 15 för minsta antal belastningsrader (`MINIMUMWAVELOADLINES`).</span><span class="sxs-lookup"><span data-stu-id="21ac5-163">The default data will initially use a threshold value of 15 for the minimum number of load lines (`MINIMUMWAVELOADLINES`).</span></span> <span data-ttu-id="21ac5-164">Det innebär att när systemet bearbetar en våg med mer än 15 belastningsrader kommer den att använda asynkron uppgiftsbearbetning.</span><span class="sxs-lookup"><span data-stu-id="21ac5-164">This means that when the system processes a wave with more than 15 loads lines, it will use asynchronous task processing.</span></span> <span data-ttu-id="21ac5-165">Du kan infoga/uppdatera dessa data manuellt i `WHSWaveTaskProcessingThresholdParameters` registret i dina testmiljöer.</span><span class="sxs-lookup"><span data-stu-id="21ac5-165">You can manually insert/update this data in the `WHSWaveTaskProcessingThresholdParameters` table in your test environments.</span></span> <span data-ttu-id="21ac5-166">Om du behöver ändra den här inställningen i en produktionsmiljö måste du kontakta Microsofts Support och begära uppdateringen.</span><span class="sxs-lookup"><span data-stu-id="21ac5-166">If you need to change this setting in a production environment, you must contact Microsoft Support to request the update.</span></span>

## <a name="work-with-the-scheduled-work-creation"></a><span data-ttu-id="21ac5-167">Arbeta med det planerade arbetet som skapas</span><span class="sxs-lookup"><span data-stu-id="21ac5-167">Work with the scheduled work creation</span></span>

<span data-ttu-id="21ac5-168">Mer information om hur du arbetar med att skapa planerat arbete finns i [Skapa och bearbeta påfyllnad ](wave-processing.md).</span><span class="sxs-lookup"><span data-stu-id="21ac5-168">For details about how to work with scheduled work creation, see [Wave creation and processing](wave-processing.md).</span></span> 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]

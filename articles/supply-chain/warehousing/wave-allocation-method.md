---
title: Påfyllnadsallokering
description: I det här avsnittet beskrivs hur du ställer in påfyllnadsallokeringssteget, bland annat hur du aktiverar parallellbearbetning för det.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: feee33a7d4ea3f0d9c4d671210293a28aac14f61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823177"
---
# <a name="wave-allocation"></a><span data-ttu-id="47c56-103">Påfyllnadsallokering</span><span class="sxs-lookup"><span data-stu-id="47c56-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="47c56-104">Påfyllnadsbearbetning kan vara tidskrävande och den största delen av bearbetningstiden läggs på allokeringssteget och i arbetsskapandesteget.</span><span class="sxs-lookup"><span data-stu-id="47c56-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="47c56-105">Det är nu möjligt att köra varje steg parallellt, vilket kan förbättra prestandan för påfyllnadsbearbetningen och tillåta ett större genomflöde av påfyllnader i samma lagerställe.</span><span class="sxs-lookup"><span data-stu-id="47c56-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="47c56-106">I det här avsnittet beskrivs hur du ställer in den påfyllnadsallokeringsmetod som ska köras parallellt.</span><span class="sxs-lookup"><span data-stu-id="47c56-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="47c56-107">Mer information om hur du ställer in att skapande av arbete ska köras parallellt finns i [Planera skapande av arbete under påfyllnad](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="47c56-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="47c56-108">Tidigare var det bara möjligt att fördela en påfyllnad vid ett lagerställe åt gången.</span><span class="sxs-lookup"><span data-stu-id="47c56-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="47c56-109">Begränsningen har tagits bort och ersatts av en ny begränsning som bara låser artikeln och dimensionerna som finns ovanför platsen i reservationshierarkin.</span><span class="sxs-lookup"><span data-stu-id="47c56-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="47c56-110">Dimensioner ovanför platsen inkluderar alltid produktdimensioner.</span><span class="sxs-lookup"><span data-stu-id="47c56-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="47c56-111">Om till exempel en artikel har konfigurerats med hjälp av *Färg*, kan varianterna för *Röd*, *Blå* och *Gul* bearbetas parallellt.</span><span class="sxs-lookup"><span data-stu-id="47c56-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="47c56-112">Det innebär att om samma artikel med samma dimensioner ovanför platsen allokeras av en påfyllnad, måste andra påfyllnader vänta och få ett lås på samma artikel och dimensioner.</span><span class="sxs-lookup"><span data-stu-id="47c56-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="47c56-113">Om låset inte kan anskaffas inom rimlig tid uppstår ett fel och påfyllnadsbearbetningen misslyckas.</span><span class="sxs-lookup"><span data-stu-id="47c56-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="47c56-114">För att parallellbearbetning ska kunna användas måste påfyllnad köras i batch.</span><span class="sxs-lookup"><span data-stu-id="47c56-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="47c56-115">Prestandaförbättringar</span><span class="sxs-lookup"><span data-stu-id="47c56-115">Performance improvements</span></span>

<span data-ttu-id="47c56-116">Prestandaförmåner vid parallell bearbetning finns i två kategorier:</span><span class="sxs-lookup"><span data-stu-id="47c56-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="47c56-117">**Förbättrat genomflöde** - Genomflödet för påfyllnader förbättrar vanligtvis även om parallellbearbetning av påfyllnaden inte är konfigurerad, särskilt för scenarier där det inte finns någon överlappning av artiklar inom påfyllnaden.</span><span class="sxs-lookup"><span data-stu-id="47c56-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="47c56-118">**Förbättring av allokeringen för en enstaka påfyllnad** - Testning av kunddata har visat en prestandaförbättring på nära 50 % efter att den har växlats till parallell allokering.</span><span class="sxs-lookup"><span data-stu-id="47c56-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="47c56-119">Den parallella bearbetningen görs per artiklar och dimensioner ovanför platsen, så förbättringarna beror på hur många olika artiklar en påfyllnad innehåller, den tillgängliga infrastrukturen och längden på allokeringen jämfört med längden på skapandet av arbetet.</span><span class="sxs-lookup"><span data-stu-id="47c56-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="47c56-120">Konfigurera en parallell allokering</span><span class="sxs-lookup"><span data-stu-id="47c56-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="47c56-121">Parametrar för lagerstyrning</span><span class="sxs-lookup"><span data-stu-id="47c56-121">Warehouse management parameters</span></span>

<span data-ttu-id="47c56-122">Om du vill använda parallell allokeringsbearbetning går du till **Lagerstyrning > Inställningar > Parametrar för lagerstyrning**, öppnar fliken **Påfyllnadsbearbetning** och gör följande inställningar:</span><span class="sxs-lookup"><span data-stu-id="47c56-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="47c56-123">**Påfyllnadsbearbetning av batchgrupp** - Välj den batchgrupp som den första bearbetningen av påfyllnaden ska använda.</span><span class="sxs-lookup"><span data-stu-id="47c56-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="47c56-124">Den efterföljande bearbetningen av allokeringen kan göras med hjälp av olika batchgrupper.</span><span class="sxs-lookup"><span data-stu-id="47c56-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="47c56-125">**Bearbeta påfyllnader i batch** - Ställ in detta till *Ja* om du vill använda parallell bearbetning.</span><span class="sxs-lookup"><span data-stu-id="47c56-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="47c56-126">**Vänta till lås (ms)** - Ange tiden, i millisekunder, som ett allokeringssteg ska vänta på en systemresurs som har låsts av ett annat allokeringssteg.</span><span class="sxs-lookup"><span data-stu-id="47c56-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="47c56-127">När denna tid överskrids, bearbetas påfyllnaden inte, och ett meddelande visas.</span><span class="sxs-lookup"><span data-stu-id="47c56-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="47c56-128">Vi rekommenderar att du minst några sekunder tillåter att allokeringen av en logisk enhet slutförs.</span><span class="sxs-lookup"><span data-stu-id="47c56-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="47c56-129">Information om dessa och andra alternativ för påfyllnadsbearbetning på sidan **Lagerstyrningsparametrar** finns i [Lagerställeparametrar för påfyllnadsbearbetning](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="47c56-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="47c56-130">Metoder för bearbetning av påfyllnad</span><span class="sxs-lookup"><span data-stu-id="47c56-130">Wave process methods</span></span>

<span data-ttu-id="47c56-131">Så här ställer du in parallellbearbetning:</span><span class="sxs-lookup"><span data-stu-id="47c56-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="47c56-132">Gå till **Lagerstyrning > Inställningar > Påfyllnader > Metoder för påfyllnadsprocess**.</span><span class="sxs-lookup"><span data-stu-id="47c56-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="47c56-133">Välj `allocateWave`-metod i rutnätet.</span><span class="sxs-lookup"><span data-stu-id="47c56-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="47c56-134">Klicka på **Uppgiftskonfiguration** i åtgärdsfönstret.</span><span class="sxs-lookup"><span data-stu-id="47c56-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="47c56-135">Sidan **Uppgiftskonfiguration av påfyllnadspostmetod** öppnas.</span><span class="sxs-lookup"><span data-stu-id="47c56-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="47c56-136">I det här rutnätet visas en lista över alla lagerställen där du har konfigurerat `allocateWave`-metoden.</span><span class="sxs-lookup"><span data-stu-id="47c56-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="47c56-137">Parallellbearbetning används bara för lagerställen som listas.</span><span class="sxs-lookup"><span data-stu-id="47c56-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="47c56-138">Använd knapparna i åtgärdsfönstret om du vill lägga till eller ta bort lagerställen från rutnätet.</span><span class="sxs-lookup"><span data-stu-id="47c56-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="47c56-139">Gör följande inställningar för varje lagerställe:</span><span class="sxs-lookup"><span data-stu-id="47c56-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="47c56-140">**Maximalt antal batchuppgifter** - Ange det antal batchuppgifter som ska användas för allokeringen för det valda lagerstället.</span><span class="sxs-lookup"><span data-stu-id="47c56-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="47c56-141">Det optimala antalet batchuppgifter beror på vilken infrastruktur som är tillgänglig och vilka andra batchjobb som bearbetas på servern.</span><span class="sxs-lookup"><span data-stu-id="47c56-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="47c56-142">Tester gjorda på en miljö med fyra kärnor som dedikerades till påfyllnadsbearbetning visar att användning av åtta uppgifter ger bra resultat.</span><span class="sxs-lookup"><span data-stu-id="47c56-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="47c56-143">**Batchgrupp för påfyllnadsbearbetning** - Specifika batchgrupper kan användas för olika lagerställen så att allokeringsbearbetningen kan skalas ut per lagerställe.</span><span class="sxs-lookup"><span data-stu-id="47c56-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="47c56-144">Aktivera eller inaktivera parallellisering för alla juridiska personer</span><span class="sxs-lookup"><span data-stu-id="47c56-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="47c56-145">Vi rekommenderar att du ställer in `allocateWave` metoden så att den körs parallellt för alla juridiska personer, eftersom detta bidrar till att förbättra prestandan för påfyllnadsbearbetningen.</span><span class="sxs-lookup"><span data-stu-id="47c56-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="47c56-146">Med början i Supply Chain Management version 10.0.17, funktionen *Påfyllnadsparallellisering för allokera påfyllnadsmetoden* är aktiverat som standard för alla nya och uppdaterade installationer och kan inte stängas av igen.</span><span class="sxs-lookup"><span data-stu-id="47c56-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="47c56-147">När du har aktiverat funktionen händer följande:</span><span class="sxs-lookup"><span data-stu-id="47c56-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="47c56-148">`allocateWave` metoden uppdateras för att inkludera en inställning för uppgiftskonfiguration som låter dig använda sidan **Metod för påfyllnadsbearbetning** för att definiera antalet uppgifter som ska köras samtidigt, motsvarande antalet parallella processer.</span><span class="sxs-lookup"><span data-stu-id="47c56-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="47c56-149">Som ett resultat av detta minskas den tid som används på fyllnadssteget (som normalt sett är 30 % till 60 % av den totala bearbetningstiden) med en faktor som grovt motsvarar antalet uppgifter.</span><span class="sxs-lookup"><span data-stu-id="47c56-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="47c56-150">Du kan också välja vilken batch som ska tilldelas för att bearbeta dessa uppgifter.</span><span class="sxs-lookup"><span data-stu-id="47c56-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="47c56-151">Tänk på att alla juridiska personer kommer att konfigureras för bearbetning av påfyllnader i batch.</span><span class="sxs-lookup"><span data-stu-id="47c56-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="47c56-152">För de lager som redan är konfigurerade för att bearbeta påfyllnader i batch och för de lager som redan är konfigurerade för att använda `allocateWave` metod parallellt kommer den befintliga konfigurationen att behållas.</span><span class="sxs-lookup"><span data-stu-id="47c56-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="47c56-153">Som standard konfigureras alla nya juridiska personer till att bearbeta påfyllnader i batch.</span><span class="sxs-lookup"><span data-stu-id="47c56-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="47c56-154">Alla nya lagerställen med alternativet **lagerhanteringsprocesser** aktiverade kommer att `allocateWave` metoden konfigureras så att de körs parallellt som standard.</span><span class="sxs-lookup"><span data-stu-id="47c56-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="47c56-155">På sidan **Lagerstyrningsparametrar** anges **Behandla påfyllnader i batch** anges till *Ja* och **Vänta på lås (ms)** till en standard på 15 sekunder.</span><span class="sxs-lookup"><span data-stu-id="47c56-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="47c56-156">Det innebär att alla påfyllnader kommer att köras i batch.</span><span class="sxs-lookup"><span data-stu-id="47c56-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="47c56-157">När en påfyllnad körs får den ett lås på objektet och dimensionerna ovanför platsen under allokeringssteget.</span><span class="sxs-lookup"><span data-stu-id="47c56-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="47c56-158">När en annan påfyllnadsbearbetningsuppgift försöker hämta samma lås för samma post kommer det att blockeras tills den nuvarande processen avslutas.</span><span class="sxs-lookup"><span data-stu-id="47c56-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="47c56-159">Inställningarna **Vänta på lås (ms)** fastställer den maximala tid som systemet ska vänta innan låset släpps.</span><span class="sxs-lookup"><span data-stu-id="47c56-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="47c56-160">Parallell allokeringsbearbetning kräver att påfyllnadsbearbetning körs i batch.</span><span class="sxs-lookup"><span data-stu-id="47c56-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="47c56-161">Därför kommer du att minska din påfyllnadsbearbetningsprestanda om du stänger av inställningen **Behandla spara i batch** setting, speciellt om parallellbearbetning använder en parallell process som definieras av uppgiftskonfigurationen för relevanta påfyllnadsmetoder.</span><span class="sxs-lookup"><span data-stu-id="47c56-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="47c56-162">Om det behövs kan du ångra alla inställningar som gjorts som standard när funktionen *Påfyllnadsparallellisering för allokera påfyllnadsmetoden* aktiveras automatiskt för din instans.</span><span class="sxs-lookup"><span data-stu-id="47c56-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="47c56-163">Om du vill göra det här:</span><span class="sxs-lookup"><span data-stu-id="47c56-163">To do this:</span></span>

- <span data-ttu-id="47c56-164">Gå till **Lagerstyrning \> Inställningar \> Parametrar för lagerstyrning**.</span><span class="sxs-lookup"><span data-stu-id="47c56-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="47c56-165">På fliken **Påfyllnadsbearbetning** använder du de prioriterade värdena för **Bearbeta påfyllnader i batch** och **Vänta på lås (ms)**.</span><span class="sxs-lookup"><span data-stu-id="47c56-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="47c56-166">Gå till **Lagerstyrning \> Inställningar \> Påfyllnader \> Metoder för påfyllnadsprocess**.</span><span class="sxs-lookup"><span data-stu-id="47c56-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="47c56-167">Välj `allocateWave` metod.</span><span class="sxs-lookup"><span data-stu-id="47c56-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="47c56-168">I åtgärdsfönstret, välj **Uppgiftskonfiguration** för att öppna en sida som visar varje lager där metoden är inställd på att köras parallellt.</span><span class="sxs-lookup"><span data-stu-id="47c56-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="47c56-169">Ändra eller radera antalet batchuppgifter och den tilldelade påfyllnadsgruppen för respektive lagerställe i listan efter behov.</span><span class="sxs-lookup"><span data-stu-id="47c56-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="47c56-170">Felsökning</span><span class="sxs-lookup"><span data-stu-id="47c56-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="47c56-171">Felsöka med informationsloggen</span><span class="sxs-lookup"><span data-stu-id="47c56-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="47c56-172">Eftersom batchramverket används fångas fel som in under påfyllnadsbearbetningen in som en del av informationsloggarna för batchjobb.</span><span class="sxs-lookup"><span data-stu-id="47c56-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="47c56-173">Så här läser du batchjobben relaterade till en påfyllnad:</span><span class="sxs-lookup"><span data-stu-id="47c56-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="47c56-174">Gå till **lagerstyrning \> utgående påfyllningar \> leveranspåfyllningar \> alla påfyllningar**.</span><span class="sxs-lookup"><span data-stu-id="47c56-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="47c56-175">Välj den påfyllnad du vill kontrollera.</span><span class="sxs-lookup"><span data-stu-id="47c56-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="47c56-176">I åtgärdsfönstret, öppna fliken **påfyllnad** och från gruppen **påfyllnad** välj **batchjobb**.</span><span class="sxs-lookup"><span data-stu-id="47c56-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="47c56-177">Påfyllnadsbearbetningen är självkorrigerande, så eventuella fel som upptäcks under bearbetningen ska rapporteras med hjälp av informationsloggen.</span><span class="sxs-lookup"><span data-stu-id="47c56-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="47c56-178">Ett vanligt fel som uppstår vid parallellbearbetning kan vara att två påfyllnader försöker allokera samma artikel samtidigt och en inte slutförs så att den andra påfyllnaden inte kan uppnå ett lås inom den angivna tiden.</span><span class="sxs-lookup"><span data-stu-id="47c56-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="47c56-179">Om denna situation inträffar kommer batchjobbsloggen att innehålla information som anger att låset för artikeln inte kunde förvärvas, och då måste den påfyllnad som misslyckades bearbetas på nytt.</span><span class="sxs-lookup"><span data-stu-id="47c56-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="47c56-180">Eftersom bearbetningen sker parallellt måste data underhållas i olika register för att informationen ska kunna spåras.</span><span class="sxs-lookup"><span data-stu-id="47c56-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="47c56-181">Det innebär att loggarna för batchjobben kan innehålla fel som dubblettnyckelfel.</span><span class="sxs-lookup"><span data-stu-id="47c56-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="47c56-182">Felen från batchuppgifterna är också en del av batchjobbloggen.</span><span class="sxs-lookup"><span data-stu-id="47c56-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="47c56-183">Den viktigaste informationen finns vanligtvis längst ned.</span><span class="sxs-lookup"><span data-stu-id="47c56-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="47c56-184">I sällsynta fall, till exempel om SQL-anslutningen avslutats, kan påfyllnadsbearbetningen sluta i ett inkonsekvent tillstånd där batchjobbet verkar köras men bearbetningen stoppas.</span><span class="sxs-lookup"><span data-stu-id="47c56-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="47c56-185">Påfyllnaden kan inte hantera fel som detta, så ett försök att rensa upp misslyckade påfyllnader görs när nästa påfyllnad körs.</span><span class="sxs-lookup"><span data-stu-id="47c56-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="47c56-186">Du kan också utföra följande steg om den aktuella påfyllnaden är i ett inkonsekvent läge:</span><span class="sxs-lookup"><span data-stu-id="47c56-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="47c56-187">Gå till **lagerstyrning \> utgående påfyllningar \> leveranspåfyllningar \> alla påfyllningar**.</span><span class="sxs-lookup"><span data-stu-id="47c56-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="47c56-188">Välj den påfyllnad du vill rensa.</span><span class="sxs-lookup"><span data-stu-id="47c56-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="47c56-189">I åtgärdsfönstret, öppna fliken **påfyllnad** och från gruppen **påfyllnad** välj **Rensa påfyllnadsdata**.</span><span class="sxs-lookup"><span data-stu-id="47c56-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="47c56-190">Felsöka med hjälp av påfyllnadens förloppslogg</span><span class="sxs-lookup"><span data-stu-id="47c56-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="47c56-191">Om alternativet **Skapa påfyllnadens förloppslogg** är aktiverat på sidan **Lagerstyrningsparametrar** skapas en loggpost varje gång som allokering för en artikel och dess dimensioner börjar och slutar.</span><span class="sxs-lookup"><span data-stu-id="47c56-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="47c56-192">Du bör endast aktivera den här loggen om det behövs, till exempel under den första testningen eller vid felsökning.</span><span class="sxs-lookup"><span data-stu-id="47c56-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="47c56-193">När det här alternativet är aktiverat kan du visa loggen genom att göra följande:</span><span class="sxs-lookup"><span data-stu-id="47c56-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="47c56-194">Gå till **lagerstyrning \> utgående påfyllningar \> leveranspåfyllningar \> alla påfyllningar**.</span><span class="sxs-lookup"><span data-stu-id="47c56-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="47c56-195">Välj den påfyllnad du vill kontrollera.</span><span class="sxs-lookup"><span data-stu-id="47c56-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="47c56-196">I Åtgärdsfönstret, på fliken **påfyllning**, i gruppen **påfyllning**, markerar du **Förlopp**.</span><span class="sxs-lookup"><span data-stu-id="47c56-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>

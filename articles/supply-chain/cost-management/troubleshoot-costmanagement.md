---
title: Felsöka kostnadshantering
description: I det här avsnittet beskrivs hur du åtgärdar problem som kan uppstå när du arbetar med kostnadshantering.
author: riluan
manager: tfehr
ms.date: 10/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: riluan
ms.search.validFrom: 2020-10-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: dceaca64132857d796a16c2450a372ba05712cf5
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 02/15/2021
ms.locfileid: "5262463"
---
# <a name="troubleshoot-cost-management"></a><span data-ttu-id="7a297-103">Felsöka kostnadshantering</span><span class="sxs-lookup"><span data-stu-id="7a297-103">Troubleshoot cost management</span></span>

<span data-ttu-id="7a297-104">I det här avsnittet beskrivs hur du åtgärdar problem som kan uppstå när du arbetar med kostnadshantering.</span><span class="sxs-lookup"><span data-stu-id="7a297-104">This topic describes how to fix issues that you might encounter while working with cost management.</span></span>

## <a name="functional-gaps-between-the-inventory-valueaging-reports-and-their-storage-versions"></a><span data-ttu-id="7a297-105">Funktionella luckor mellan lagrets värde- och åldersrapporter och deras lagringsversioner</span><span class="sxs-lookup"><span data-stu-id="7a297-105">Functional gaps between the inventory value/aging reports and their storage versions</span></span>

<span data-ttu-id="7a297-106">[Rapporten lagring av lagerföråldringsrapport](inventory-aging-report-storage.md) och [Lagringsrapport för lagervärde](inventory-value-report-storage.md) funktioner aktiverar Supply Chain Management för att visa stora volymer av lagertransaktioner.</span><span class="sxs-lookup"><span data-stu-id="7a297-106">The [Inventory aging report storage](inventory-aging-report-storage.md) and [Inventory value storage report](inventory-value-report-storage.md) features enable Supply Chain Management to display large volumes of inventory transactions.</span></span> <span data-ttu-id="7a297-107">I varje fall sparas rapportresultaten för bläddring och export, till skillnad från de versioner av rapporterna som inte finns i minnet.</span><span class="sxs-lookup"><span data-stu-id="7a297-107">In each case, the report results are saved for browsing and exporting, unlike with the non-storage versions of these reports.</span></span> <span data-ttu-id="7a297-108">Vissa funktioner i versionerna av de andra versionerna än de här rapporterna finns dock inte i lagringsversionerna.</span><span class="sxs-lookup"><span data-stu-id="7a297-108">However, some functionality that exists in the non-storage versions of these reports doesn't exist in the storage versions.</span></span> <span data-ttu-id="7a297-109">Följande underavsnitt innehåller en sammanfattning av skillnaderna och lösningar.</span><span class="sxs-lookup"><span data-stu-id="7a297-109">The following subsections summarize the differences and provide workarounds.</span></span>

### <a name="storage-reports-dont-include-subtotals-even-if-they-are-enabled-in-the-report-layout"></a><span data-ttu-id="7a297-110">Lagringsrapporter inkluderar inte del summor, även om de är aktiverade i rapportlayouten</span><span class="sxs-lookup"><span data-stu-id="7a297-110">Storage reports don't include subtotals, even if they are enabled in the report layout</span></span>

<span data-ttu-id="7a297-111">Delsummor kan orsaka problem när resultatet exporteras, särskilt om användarna ändrar postserien.</span><span class="sxs-lookup"><span data-stu-id="7a297-111">Subtotals can cause issues when the result is exported, especially if users change the record sequence.</span></span>

<span data-ttu-id="7a297-112">Du kan kontrollera delsummorna genom att exportera resultatet till Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="7a297-112">To check the subtotals, you can export the result into Microsoft Excel.</span></span> <span data-ttu-id="7a297-113">Om du vill kontrollera delsummor inom Supply Chain Management använder du [funktionshantering](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) för att aktivera funktionerna *nya rutnätskontrollen* och *(förhandsgranskning) gruppering i rutnät*, vilket ger ett mycket mer flexibelt sätt att visa delsummor för en grupp efter kolumn.</span><span class="sxs-lookup"><span data-stu-id="7a297-113">Alternatively, if you want to check subtotals within Supply Chain Management, use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to enable the *New grid control* and *(Preview) Grouping in grids* features, which provide a much more flexible way to see the subtotal for any group by column.</span></span> <span data-ttu-id="7a297-114">Mer information finns i [Rutnätsmöjligheter](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="7a297-114">For more information, see [Grid capabilities](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span></span>

### <a name="inventory-value-storage-report-doesnt-support-ledger-account-information"></a><span data-ttu-id="7a297-115">Rapporten lagringsvärde för lagerhanteringskonto stöder inte redovisningskontoinformation</span><span class="sxs-lookup"><span data-stu-id="7a297-115">Inventory value storage report doesn't support ledger account information</span></span>

<span data-ttu-id="7a297-116">Du kan köra råbalansen för att få fram saldot för lagerkonton och jämföra det med rapporten **lagring för lagervärde**.</span><span class="sxs-lookup"><span data-stu-id="7a297-116">You can run the trial balance to get the inventory accounts balance and compare that to the **Inventory value storage** report.</span></span>

## <a name="warnings-or-errors-are-shown-when-changing-a-ledger-period-status-without-closing-inventory"></a><span data-ttu-id="7a297-117">Varningar eller felmeddelanden visas när en redovisningsperiodsstatus ändras utan att lagret stängs</span><span class="sxs-lookup"><span data-stu-id="7a297-117">Warnings or errors are shown when changing a ledger period status without closing inventory</span></span>

<span data-ttu-id="7a297-118">Microsoft introducerade följande valideringar för att förhindra problem som orsakas av felaktig periodslutprocess kring kostnadsredovisning.</span><span class="sxs-lookup"><span data-stu-id="7a297-118">Microsoft introduced the following validations to prevent issues caused by an incorrect period-end process around costing.</span></span> <span data-ttu-id="7a297-119">Om du stöter på något av följande felmeddelanden hittar du [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) för mer information om hur du löser dessa problem.</span><span class="sxs-lookup"><span data-stu-id="7a297-119">If you encounter any of the following error messages, refer to [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) for more information about how to resolve these issues.</span></span>

- <span data-ttu-id="7a297-120">Du kör en ny beräkning med ett datum %1 (10-02-2019).</span><span class="sxs-lookup"><span data-stu-id="7a297-120">You are about to execute a Recalculation with a date %1 (10-02-2019).</span></span> <span data-ttu-id="7a297-121">Den senast registrerade omberäkningen kördes under en tidigare period med ett datum %2 (20-01-2019).</span><span class="sxs-lookup"><span data-stu-id="7a297-121">The last registered Recalculation was executed in a previous period with a date %2 (20-01-2019).</span></span> <span data-ttu-id="7a297-122">Inget utförande av en inventering nära ett datum %3 (31-01-2019) matchningsperiodens slut har registrerats.</span><span class="sxs-lookup"><span data-stu-id="7a297-122">No execution of an inventory close with a date %3 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="7a297-123">Kom ihåg att köra en lagerstängning från och med %3 (31-01-2019) som matchar periodens slut.</span><span class="sxs-lookup"><span data-stu-id="7a297-123">Please remember to execute an inventory close as of %3 (31-01-2019) matching the period end.</span></span> <span data-ttu-id="7a297-124">Värderingen av lager, sålda varor och avvikelser kan inte vara korrekt i delredovisning eller redovisning förrän denna har utförts.</span><span class="sxs-lookup"><span data-stu-id="7a297-124">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="7a297-125">Du håller på att ändra status för redovisningsperioden %1 till %2.</span><span class="sxs-lookup"><span data-stu-id="7a297-125">You are about to change the status of ledger period %1 to %2.</span></span> <span data-ttu-id="7a297-126">Inget utförande av en inventering nära ett datum %3 matchningsperiodens slut har registrerats.</span><span class="sxs-lookup"><span data-stu-id="7a297-126">No execution of inventory close with a date %3 matching period end has been registered.</span></span> <span data-ttu-id="7a297-127">Kör en lagerstängning för att %3 matcha periodens slut innan du ändrar status.</span><span class="sxs-lookup"><span data-stu-id="7a297-127">Please execute an inventory close as of %3 matching the period end before changing the status.</span></span> <span data-ttu-id="7a297-128">Värderingen av lager, sålda varor och avvikelser kan inte vara korrekt i delredovisning eller redovisning förrän denna har utförts.</span><span class="sxs-lookup"><span data-stu-id="7a297-128">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span> <span data-ttu-id="7a297-129">Rapporterad från juridisk person %4.</span><span class="sxs-lookup"><span data-stu-id="7a297-129">Reported from legal entity %4.</span></span> <span data-ttu-id="7a297-130">För tillfället i informationssyfte, men du måste utföra en sådan åtgärd i framtiden.</span><span class="sxs-lookup"><span data-stu-id="7a297-130">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="7a297-131">Kontostrukturen %1 har ändrats.</span><span class="sxs-lookup"><span data-stu-id="7a297-131">The Account structure %1 has been changed.</span></span> <span data-ttu-id="7a297-132">Ett eller flera huvudkonton %2 finns inte längre.</span><span class="sxs-lookup"><span data-stu-id="7a297-132">One or more main accounts %2 no longer exist.</span></span> <span data-ttu-id="7a297-133">Dessa huvudkonton är obligatoriska för %3 med ett datum %4.</span><span class="sxs-lookup"><span data-stu-id="7a297-133">These Main accounts are required by the %3 with a date %4.</span></span> <span data-ttu-id="7a297-134">Lägg till dessa huvudkonton i kontostrukturen %1 innan du kan återuppta %3 jobbet.</span><span class="sxs-lookup"><span data-stu-id="7a297-134">Please add these Main accounts to the Account structure %1 before you can resume the %3 job.</span></span> <span data-ttu-id="7a297-135">För tillfället i informationssyfte, men du måste utföra en sådan åtgärd i framtiden.</span><span class="sxs-lookup"><span data-stu-id="7a297-135">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="7a297-136">Du håller på att utföra en inventering nära ett datum %1 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="7a297-136">You are about to execute an inventory close with a date %1 (31-01-2019).</span></span> <span data-ttu-id="7a297-137">Ingen kostnadskalkylering med automatisk lageravräkning med datum %2 (31-01-2019) matchningsperiodens slut har registrerats.</span><span class="sxs-lookup"><span data-stu-id="7a297-137">No execution of backflush costing calculation with a date %2 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="7a297-138">Kom ihåg att utföra en kostnadskalkylering med automatisk lageravräkning med datum %3 (31-01-2019) matchningsperiodens slut.</span><span class="sxs-lookup"><span data-stu-id="7a297-138">Please remember to execute a backflush costing calculation with a date of %3 (31-01-2019) matching period end.</span></span> <span data-ttu-id="7a297-139">Värderingen av lager, sålda varor och avvikelser kan inte vara korrekt i delredovisning eller redovisning förrän denna har utförts.</span><span class="sxs-lookup"><span data-stu-id="7a297-139">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="7a297-140">Du håller på att utföra en ny kostnadskalkylering med automatisk lageravräkning med ett datum %1 (28-02-2019).</span><span class="sxs-lookup"><span data-stu-id="7a297-140">You are about to execute a backflush costing calculation with a date %1 (28-02-2019).</span></span> <span data-ttu-id="7a297-141">Den senast registrerade kostnadskalkylering med automatisk lageravräkning kördes under en tidigare period med ett datum %2 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="7a297-141">The last registered backflush costing calculation was executed in a previous period with a date %2 (31-01-2019).</span></span> <span data-ttu-id="7a297-142">Inget utförande av en inventering nära ett datum %3 (31-01-2019) matchningsperiodens slut har registrerats.</span><span class="sxs-lookup"><span data-stu-id="7a297-142">No execution of an inventory close with a date %3 (31-01-2019) matching a period end has been registered.</span></span>
<span data-ttu-id="7a297-143">Kom ihåg att köra en lagerstängning från och med %3 (31-01-2019) som matchar periodens slut.</span><span class="sxs-lookup"><span data-stu-id="7a297-143">Please remember to execute an inventory close as of %3 (31-01-2019) matching a period end.</span></span> <span data-ttu-id="7a297-144">Värderingen av lager, sålda varor och avvikelser kan inte vara korrekt i delredovisning eller redovisning förrän lagerstängningen har utförts.</span><span class="sxs-lookup"><span data-stu-id="7a297-144">The valuation of inventories, cost of goods sold and variances may not be correct in subledger or general ledger until the inventory close has been executed.</span></span>

## <a name="inventory-aging-report-discrepancies"></a><span data-ttu-id="7a297-145">Avvikelser för lagerföråldringsrapport</span><span class="sxs-lookup"><span data-stu-id="7a297-145">Inventory aging report discrepancies</span></span>

<span data-ttu-id="7a297-146">**Åldersfördelningsrapport för lager** visar olika värden när den visas på olika lagringsdimensioner (t.ex. webbplats eller lagerställe).</span><span class="sxs-lookup"><span data-stu-id="7a297-146">The **Inventory aging report** shows different values when viewed at different storage dimensions (such as site or warehouse).</span></span> <span data-ttu-id="7a297-147">Mer information om rapportlogik finns i rapport över [exempel på lagerföråldringsrapport och logik](inventory-aging-report.md).</span><span class="sxs-lookup"><span data-stu-id="7a297-147">For more information about the reporting logic, see [Inventory aging report examples and logic](inventory-aging-report.md).</span></span>

## <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a><span data-ttu-id="7a297-148">En uppdateringskonflikt uppstår när lagervärderingsmetoden är Standardkostnad eller Glidande medelvärde</span><span class="sxs-lookup"><span data-stu-id="7a297-148">An update conflict occurs when the inventory valuation method is either Standard cost or Moving average</span></span>

<span data-ttu-id="7a297-149">När du bokför dokument som lagerjournaler, inköpsorderfakturor eller försäljningsorderfakturor parallellt med skalbarhet och prestanda, kanske du får ett felmeddelande om en uppdateringskonflikt och vissa dokument kanske inte bokförs.</span><span class="sxs-lookup"><span data-stu-id="7a297-149">When you post documents such as inventory journals, purchase order invoices, or sales order invoices in parallel for scalability and performance, you might receive an error message about an update conflict, and some of the documents might not be posted.</span></span> <span data-ttu-id="7a297-150">Detta problem kan uppstå när lagervärderingsmetoden är *Standardkostnad* eller *Glidande medelvärde*.</span><span class="sxs-lookup"><span data-stu-id="7a297-150">This issue can occur when the inventory valuation method is either *Standard cost* or *Moving average*.</span></span> <span data-ttu-id="7a297-151">Båda dessa metoder är beständig kostnadsredovisning.</span><span class="sxs-lookup"><span data-stu-id="7a297-151">Both these methods are perpetual costing methods.</span></span> <span data-ttu-id="7a297-152">Med andra ord bestäms den slutliga kostnaden vid bokföringstidsdatumet.</span><span class="sxs-lookup"><span data-stu-id="7a297-152">In other words, the final cost is determined at the time of posting.</span></span>

<span data-ttu-id="7a297-153">Om du använder metoden *Glidande medelvärde* liknar felmeddelandet det här exemplet:</span><span class="sxs-lookup"><span data-stu-id="7a297-153">If you're using the *Moving average* method, the error message resembles this example:</span></span>

> <span data-ttu-id="7a297-154">Lagervärde xx.xx förväntas inte efter den proportionella utgiftsberäkningen</span><span class="sxs-lookup"><span data-stu-id="7a297-154">Inventory value xx.xx is not expected after the proportional expense calculation</span></span>

<span data-ttu-id="7a297-155">Om du använder metoden *Standardkostnad* liknar felmeddelandet det här exemplet:</span><span class="sxs-lookup"><span data-stu-id="7a297-155">If you're using the *Standard cost* method, the error message resembles this example:</span></span>

> <span data-ttu-id="7a297-156">Standardkostnaden matchar inte det ekonomiska lagervärdet efter uppdateringen.</span><span class="sxs-lookup"><span data-stu-id="7a297-156">The standard cost does not match with the financial inventory value after the update.</span></span> <span data-ttu-id="7a297-157">Värde = xx.xx, Kvt = yyy.yy, Standardkostnad = zz.zz</span><span class="sxs-lookup"><span data-stu-id="7a297-157">Value = xx.xx, Qty = yy.yy, Standard cost = zz.zz</span></span>

<span data-ttu-id="7a297-158">Fram till dess att Microsoft har frisläppt en lösning på problemet kan du överväga att använda följande lösningar för att undvika eller minska dessa fel:</span><span class="sxs-lookup"><span data-stu-id="7a297-158">Until Microsoft releases a solution to fix the issue, consider using the following workarounds to help avoid or reduce these errors:</span></span>

- <span data-ttu-id="7a297-159">Bokföra om de misslyckade dokumenten på samma sätt.</span><span class="sxs-lookup"><span data-stu-id="7a297-159">Repost the failed documents.</span></span>
- <span data-ttu-id="7a297-160">Skapa dokument med färre rader.</span><span class="sxs-lookup"><span data-stu-id="7a297-160">Create documents that have fewer lines.</span></span>
- <span data-ttu-id="7a297-161">Undvika decimalvärden i standardkostnaden.</span><span class="sxs-lookup"><span data-stu-id="7a297-161">Avoid decimal values in the standard cost.</span></span> <span data-ttu-id="7a297-162">Försök att definiera standardkostnaden så att fältet **Priskvantitet** sätts till *1*.</span><span class="sxs-lookup"><span data-stu-id="7a297-162">Try to define the standard cost so that the **Price quantity** field is set to *1*.</span></span> <span data-ttu-id="7a297-163">Om du måste ange ett värde för **priskvantitet** som är mer än *1*, försöker du minimera antalet decimaler i enhetens standardkostnad.</span><span class="sxs-lookup"><span data-stu-id="7a297-163">If you must specify a **Price quantity** value that is more than *1*, try to minimize the number of decimal places in the unit standard cost.</span></span> <span data-ttu-id="7a297-164">(Helst bör det finnas färre än två decimaler.) Undvik till exempel att definiera standardkostnadsinställningar som **Pris** = *10* och **Priskvantitet** = *3*, eftersom de skapar en enhetsstandardkostnad på 3,333333 (där decimalvärdet upprepas).</span><span class="sxs-lookup"><span data-stu-id="7a297-164">(Ideally, there should be fewer than two decimal places.) For example, avoid defining standard cost settings such as **Price** = *10* and **Price quantity** = *3*, because they will produce a unit standard cost of 3.333333 (where the decimal value repeats).</span></span>
- <span data-ttu-id="7a297-165">Undvik att ha flera rader som innehar samma kombination av produkt och ekonomiska lagerdimensioner i en majoritet av dokumenten.</span><span class="sxs-lookup"><span data-stu-id="7a297-165">In a majority of documents, avoid having multiple lines that hold the same combination of product and financial inventory dimensions.</span></span>
- <span data-ttu-id="7a297-166">Minska parallelliseringsgraden.</span><span class="sxs-lookup"><span data-stu-id="7a297-166">Reduce the degree of parallelization.</span></span> <span data-ttu-id="7a297-167">(I så fall kanske ditt system snabbare, eftersom färre uppdateringskonflikter och nya försök görs.)</span><span class="sxs-lookup"><span data-stu-id="7a297-167">(In this case, your system might become faster, because fewer update conflicts and retries occur.)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
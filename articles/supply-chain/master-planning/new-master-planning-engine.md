---
title: Migrering till planeringsoptimering för huvudplanering
description: Det här avsnittet innehåller information om den nya huvudplaneringsmotorn, planeringsoptimering och migrering från den befintliga motorn.
author: ChristianRytt
ms.date: 05/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: crytt
ms.search.validFrom: 2020-11-05
ms.dyn365.ops.version: ''
ms.openlocfilehash: 9590213ef73f7623aff10d4c8ee3efbea0e7984b
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823467"
---
# <a name="migration-to-planning-optimization-for-master-planning"></a><span data-ttu-id="3e424-103">Migrering till planeringsoptimering för huvudplanering</span><span class="sxs-lookup"><span data-stu-id="3e424-103">Migration to Planning Optimization for master planning</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="3e424-104">Den inbyggda huvudplaneringsmotorn är schemalagd att göras föråldrad (inaktuell).</span><span class="sxs-lookup"><span data-stu-id="3e424-104">The built-in master planning engine is scheduled to be made obsolete (deprecated).</span></span> <span data-ttu-id="3e424-105">Det ersätts med tillägget planeringsoptimering för Microsoft Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="3e424-105">It's being replaced by the Planning Optimization Add-in for Microsoft Dynamics 365 Supply Chain Management.</span></span> <span data-ttu-id="3e424-106">I det här avsnittet finns information om påverkan på nya och befintliga distributioner.</span><span class="sxs-lookup"><span data-stu-id="3e424-106">This topic provides information about the impact on new and existing deployments.</span></span> <span data-ttu-id="3e424-107">Den innehåller information om obligatoriska åtgärder.</span><span class="sxs-lookup"><span data-stu-id="3e424-107">It includes information about required actions.</span></span>

<span data-ttu-id="3e424-108">Tillägget planeringsoptimering gör det möjligt att utföra beräkningar som händer utanför Supply Chain Management och dess Azure SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="3e424-108">Planning Optimization enables master planning calculations to occur outside Supply Chain Management and its Azure SQL database.</span></span> <span data-ttu-id="3e424-109">De fördelar som är kopplade till funktionerna för planeringsoptimering omfattar förbättrad prestanda och minimal inverkan på SQL-databasen under huvudplaneringskörningen.</span><span class="sxs-lookup"><span data-stu-id="3e424-109">The benefits that are associated with Planning Optimization include improved performance and minimized impact on the SQL database during master planning runs.</span></span> <span data-ttu-id="3e424-110">Snabba planeringskörningar kan göras även under kontorstid, så att planerare omedelbart kan reagera på efterfrågan eller parameterändringar.</span><span class="sxs-lookup"><span data-stu-id="3e424-110">Because quick planning runs can be done even during office hours, planners can immediately react to demand or parameter changes.</span></span>

<span data-ttu-id="3e424-111">För mer information om planeringsoptimering, se [planeringsoptimering - översikt](planning-optimization/planning-optimization-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3e424-111">For more information about Planning Optimization, see [Planning Optimization overview](planning-optimization/planning-optimization-overview.md).</span></span>

## <a name="obsolescence-of-the-existing-master-planning-engine"></a><span data-ttu-id="3e424-112">Föråldring av befintlig huvudplaneringsmotor</span><span class="sxs-lookup"><span data-stu-id="3e424-112">Obsolescence of the existing master planning engine</span></span>

<span data-ttu-id="3e424-113">Microsoft håller på att göra den inbyggda planeringsmotorn föråldrad i planeringsoptimeringen.</span><span class="sxs-lookup"><span data-stu-id="3e424-113">Microsoft is in the process of making the built-in planning engine obsolete in favor of Planning Optimization.</span></span> <span data-ttu-id="3e424-114">Den här ändringen påverkar alla molnmiljöer.</span><span class="sxs-lookup"><span data-stu-id="3e424-114">This change affects all cloud environments.</span></span> <span data-ttu-id="3e424-115">Lokala installationer påverkas inte.</span><span class="sxs-lookup"><span data-stu-id="3e424-115">On-premises installations aren't affected.</span></span> <span data-ttu-id="3e424-116">I version 10.0.16 och senare visas ett felmeddelande om du kör den inbyggda huvudplaneringen utan att generera planerade tillverkningsorder.</span><span class="sxs-lookup"><span data-stu-id="3e424-116">In version 10.0.16 and later, you will receive an error message if you run the built-in master planning without generating planned production orders.</span></span> <span data-ttu-id="3e424-117">Huvudplaneringskörningen kommer dock att slutföras trots felmeddelandet.</span><span class="sxs-lookup"><span data-stu-id="3e424-117">However, the master planning run will be successfully completed despite the error message.</span></span>

<span data-ttu-id="3e424-118">Mer information om föråldrad för den inbyggda planeringsmotorn finns i meddelanden i [borttagna eller inaktuella funktioner i Dynamics 365 Supply Chain Management](../get-started/removed-deprecated-features-scm-updates.md).</span><span class="sxs-lookup"><span data-stu-id="3e424-118">For more information about the obsolescence of the built-in planning engine, see the announcements in [Removed or deprecated features in Dynamics 365 Supply Chain Management](../get-started/removed-deprecated-features-scm-updates.md).</span></span>

## <a name="migration-messages-and-exceptions"></a><span data-ttu-id="3e424-119">Migrering, meddelanden och undantag</span><span class="sxs-lookup"><span data-stu-id="3e424-119">Migration, messages, and exceptions</span></span>

<span data-ttu-id="3e424-120">Ägare av befintliga miljöer som kör den inbyggda huvudplaneringsmotorn utan att generera planerade produktionsorder kommer att få ett e-postmeddelande som innehåller information om undantagsprocessen.</span><span class="sxs-lookup"><span data-stu-id="3e424-120">Owners of existing environments who run the built-in master planning engine without generating planned production orders will receive an email that provides details about the exception process.</span></span> <span data-ttu-id="3e424-121">Vi rekommenderar att du arbetar med en partner för att utvärdera och planera migreringen till planeringsoptimering.</span><span class="sxs-lookup"><span data-stu-id="3e424-121">We recommend that you work with a partner to evaluate and plan the migration to Planning Optimization.</span></span>

<span data-ttu-id="3e424-122">Som nämnts får du ett felmeddelande i version 10.0.16 och senare om du kör den inbyggda huvudplaneringen utan att generera planerade produktionsorder.</span><span class="sxs-lookup"><span data-stu-id="3e424-122">As has been mentioned, you will receive an error message in version 10.0.16 and later if you run the built-in master planning without generating planned production orders.</span></span> <span data-ttu-id="3e424-123">Det här felmeddelandet innehåller instruktioner om migrering och instruktioner för att begära ett undantag.</span><span class="sxs-lookup"><span data-stu-id="3e424-123">This error message includes guidance about migration and instructions for requesting an exception.</span></span>

### <a name="new-deployments"></a><span data-ttu-id="3e424-124">Nya distributioner</span><span class="sxs-lookup"><span data-stu-id="3e424-124">New deployments</span></span>

<span data-ttu-id="3e424-125">Planeringsoptimeringen ska behandlas som standard huvudplaneringsmotor för alla nya distributioner i molnet.</span><span class="sxs-lookup"><span data-stu-id="3e424-125">Planning Optimization should be considered the default master planning engine for all new deployments in the cloud.</span></span> <span data-ttu-id="3e424-126">Planeringsoptimering ska användas för alla nya distributioner som inte genererar planerade tillverkningsorder under huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="3e424-126">In general, Planning Optimization should be used for all new deployments that don't generate planned production orders during master planning.</span></span> <span data-ttu-id="3e424-127">Om en ny distribution beror på funktioner som inte stöds av planeringsoptimering kan du begära ett undantag så att du kan fortsätta att använda den inbyggda huvudplaneringsmotorn.</span><span class="sxs-lookup"><span data-stu-id="3e424-127">If a new deployment depends on functionality that Planning Optimization doesn't currently support, you can request an exception so that you can continue to use the built-in master planning engine.</span></span>

### <a name="existing-deployments"></a><span data-ttu-id="3e424-128">Befintliga distributioner</span><span class="sxs-lookup"><span data-stu-id="3e424-128">Existing deployments</span></span>

<span data-ttu-id="3e424-129">Ägare till befintliga molnbaserade distributioner som är beroende av huvudplaneringen ska migreras till planeringsoptimering.</span><span class="sxs-lookup"><span data-stu-id="3e424-129">Owners of existing cloud-based deployments that depend on master planning should plan to migrate to Planning Optimization.</span></span> <span data-ttu-id="3e424-130">Om din implementering beror på funktioner som inte stöds av planeringsoptimering kan du begära ett undantag så att du kan fortsätta att använda den inbyggda huvudplaneringsmotorn.</span><span class="sxs-lookup"><span data-stu-id="3e424-130">If your implementation depends on functionality that Planning Optimization doesn't currently support, you can request an exception so that you can continue to use the built-in master planning engine.</span></span>

<span data-ttu-id="3e424-131">För miljöer som för närvarande använder huvudplaneringsprocesser som görs gamla skickar Microsoft ett e-postmeddelande till administratören för miljön. Det här e-postmeddelandet innehåller information om de åtgärder som krävs för att migrera eller begära ett undantag.</span><span class="sxs-lookup"><span data-stu-id="3e424-131">For environments that currently use master planning processes that are being made obsolete, Microsoft will send an email to the environment admin. This email will provide information about the actions that are required to migrate or to request an exception.</span></span>

## <a name="the-exception-process"></a><span data-ttu-id="3e424-132">Undantagsprocessen</span><span class="sxs-lookup"><span data-stu-id="3e424-132">The exception process</span></span>

<span data-ttu-id="3e424-133">Du kan begära ett undantag om du måste fortsätta att använda den inbyggda huvudplaneringsmotorn, eftersom affärs processerna är beroende av minst en funktion som inte är implementerad i planeringsoptimeringen.</span><span class="sxs-lookup"><span data-stu-id="3e424-133">You can request an exception if you must continue to use the built-in master planning engine because your business processes depends heavily on at least one feature that isn't currently implemented in Planning Optimization.</span></span> <span data-ttu-id="3e424-134">En lista över tillgängliga funktioner finns i [Bristanalys för planeringsoptimering](planning-optimization/planning-optimization-fit-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="3e424-134">For a list of available features, see [Planning Optimization fit analysis](planning-optimization/planning-optimization-fit-analysis.md).</span></span>

<span data-ttu-id="3e424-135">För närvarande är undantag för migrering av planeringsoptimering endast relevanta om din huvudplaneringsprocess inte inkluderar produktion (det vill säga planerade produktionsorder som genereras av huvudplanering) och du behöver den inbyggda huvudplaneringsmotorn utöver version 10.0.15 .</span><span class="sxs-lookup"><span data-stu-id="3e424-135">Currently, exceptions for Planning Optimization migration are only relevant if your master planning process doesn't include production (that is, planned production orders that are generated by master planning), and you require the built-in master planning engine beyond version 10.0.15.</span></span>

<span data-ttu-id="3e424-136">När de nödvändiga funktionerna blir tillgängliga kommer Microsoft att tillhandahålla en respitperiod tills undantaget upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="3e424-136">After the required features become available, Microsoft will provide a grace period until the exception expires.</span></span> <span data-ttu-id="3e424-137">Miljöadministratören kommer att informeras när de nödvändiga funktionerna har blivit tillgängliga och respitperiod har inletts.</span><span class="sxs-lookup"><span data-stu-id="3e424-137">The environment admin will be informed when the required features have become available and the grace period has started.</span></span>

> [!NOTE]
> <span data-ttu-id="3e424-138">Du kan bara begära ett undantag för produktionsmiljöer, inte för begränsade miljöer.</span><span class="sxs-lookup"><span data-stu-id="3e424-138">You can only request an exception for production environments, not for sandbox environments.</span></span> <span data-ttu-id="3e424-139">Om du behöver inaktivera undantagsfelet för planeringsoptimeringen i en infrastruktur som en service (IaaS) miljö med begränsat läge kör du SQL-frågan i [begränsade miljöer](#faq-sandbox).</span><span class="sxs-lookup"><span data-stu-id="3e424-139">If you need to disable the Planning Optimization exception error on an infrastructure as a service (IaaS) sandbox environment, run the SQL query provided in [Sandbox environments](#faq-sandbox).</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="3e424-140">Vanliga frågor</span><span class="sxs-lookup"><span data-stu-id="3e424-140">Frequently asked questions</span></span>

### <a name="sandbox-environments"></a><a name="faq-sandbox"></a><span data-ttu-id="3e424-141">Miljö i begränsade lägen</span><span class="sxs-lookup"><span data-stu-id="3e424-141">Sandbox environments</span></span>

<span data-ttu-id="3e424-142">Kan jag använda inbyggd huvudplanering i min begränsade miljö?</span><span class="sxs-lookup"><span data-stu-id="3e424-142">Can I use built-in master planning on my sandbox environment?</span></span> <span data-ttu-id="3e424-143">Behöver jag ett undantag?</span><span class="sxs-lookup"><span data-stu-id="3e424-143">Do I need an exception?</span></span>

<span data-ttu-id="3e424-144">**Svar:** undantag är normalt inte relevant för begränsade miljöer, eftersom undantagsfelet för planeringsoptimering inte förhindrar att den inbyggda huvudplaneringsmotorn körs korrekt.</span><span class="sxs-lookup"><span data-stu-id="3e424-144">**Answer:** Exceptions aren't normally relevant for sandbox environments because the Planning Optimization exception error doesn't prevent the built-in master planning engine from running successfully.</span></span> <span data-ttu-id="3e424-145">Om felmeddelandet stör dig kan du emellertid inaktivera det på en IaaS (inte Service Fabric) för begränsade miljöer genom att köra följande fråga i databasen:</span><span class="sxs-lookup"><span data-stu-id="3e424-145">However, if the error message disturbs you, you can disable it on an IaaS (not Service Fabric) sandbox environment by running the following query on your database:</span></span>

```sql
-- Insert or update an enabled flight:
DECLARE @flightName NVARCHAR(100) = 'ReqPlanningOptimizationExceptionToggle';
IF NOT EXISTS (SELECT TOP 1 1 FROM SysFlighting WHERE flightName = @flightName)
    INSERT INTO SYSFLIGHTING(FLIGHTNAME,ENABLED, FLIGHTSERVICEID,PARTITION)
    SELECT @flightName, 1, 12719367,RECID FROM DBO.[PARTITIONS];
ELSE
    UPDATE SysFlighting SET enabled = 1, flightServiceId = 12719367 WHERE flightName = @flightName;
```

### <a name="on-premises-environments"></a><span data-ttu-id="3e424-146">Lokala miljöer</span><span class="sxs-lookup"><span data-stu-id="3e424-146">On-premises environments</span></span>

<span data-ttu-id="3e424-147">Min miljö är lokal</span><span class="sxs-lookup"><span data-stu-id="3e424-147">My environment is on-premises.</span></span> <span data-ttu-id="3e424-148">Behöver jag ett undantag?</span><span class="sxs-lookup"><span data-stu-id="3e424-148">Do I need an exception?</span></span>

<span data-ttu-id="3e424-149">**Svar:** Nej.</span><span class="sxs-lookup"><span data-stu-id="3e424-149">**Answer:** No.</span></span> <span data-ttu-id="3e424-150">Ett undantag krävs inte för lokala miljöer.</span><span class="sxs-lookup"><span data-stu-id="3e424-150">An exception isn't required for on-premises environments.</span></span> <span data-ttu-id="3e424-151">Du kan fortsätta att använda den inbyggda huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="3e424-151">You can continue to use the built-in master planning.</span></span> <span data-ttu-id="3e424-152">Din miljö administratör kommer att informeras om en åtgärd krävs.</span><span class="sxs-lookup"><span data-stu-id="3e424-152">Your environment admin will be informed if any action is required.</span></span>

### <a name="production-scenarios"></a><span data-ttu-id="3e424-153">Produktionsscenarier</span><span class="sxs-lookup"><span data-stu-id="3e424-153">Production scenarios</span></span>

<span data-ttu-id="3e424-154">Vi använder planerade tillverkningsorder, men jag bekymrar mig om vad som kommer att hända när vi uppgraderar till version 10.0.16.</span><span class="sxs-lookup"><span data-stu-id="3e424-154">We use planned production orders, but I'm concerned about what will happen when we upgrade to version 10.0.16.</span></span> <span data-ttu-id="3e424-155">Ska jag vidta några åtgärder?</span><span class="sxs-lookup"><span data-stu-id="3e424-155">Should I take any action?</span></span>

<span data-ttu-id="3e424-156">**Svar:** du bör inte bekymra dig.</span><span class="sxs-lookup"><span data-stu-id="3e424-156">**Answer:** You should not be concerned.</span></span> <span data-ttu-id="3e424-157">Du kan fortsätta att använda den inbyggda huvudplaneringen i version 10.0.16.</span><span class="sxs-lookup"><span data-stu-id="3e424-157">You can continue to use the built-in master planning in version 10.0.16.</span></span> <span data-ttu-id="3e424-158">Vi rekommenderar dock att du utvärderar om migrering till planeringsoptimering kan starta med den aktuella funktionen.</span><span class="sxs-lookup"><span data-stu-id="3e424-158">However, we recommend that you evaluate whether migration to Planning Optimization can start with the current functionality.</span></span> <span data-ttu-id="3e424-159">Vi rekommenderar också att du fortsätter att informera dig om nya funktioner.</span><span class="sxs-lookup"><span data-stu-id="3e424-159">We also recommend that you remain informed about new functionality.</span></span>

### <a name="email-from-microsoft"></a><span data-ttu-id="3e424-160">E-post från Microsoft</span><span class="sxs-lookup"><span data-stu-id="3e424-160">Email from Microsoft</span></span>

<span data-ttu-id="3e424-161">Vår miljöadministratör har tagit emot ett e-postmeddelande från Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3e424-161">Our environment admin received an email from Microsoft.</span></span> <span data-ttu-id="3e424-162">Det här e-posttillståndet som vi ska migrera till planeringsoptimering eller begära ett undantag.</span><span class="sxs-lookup"><span data-stu-id="3e424-162">This email states that we should migrate to Planning Optimization or request an exception.</span></span> <span data-ttu-id="3e424-163">Måste jag utföra några åtgärder?</span><span class="sxs-lookup"><span data-stu-id="3e424-163">Do I need to take any action?</span></span>

<span data-ttu-id="3e424-164">**Svar:** Ja.</span><span class="sxs-lookup"><span data-stu-id="3e424-164">**Answer:** Yes.</span></span> <span data-ttu-id="3e424-165">Miljön kommer att påverkas om du inte följer instruktionerna i e-postmeddelandet.</span><span class="sxs-lookup"><span data-stu-id="3e424-165">Your environment will be affected unless you follow the instructions in the email.</span></span> <span data-ttu-id="3e424-166">Du kan antingen migrera till planeringsoptimering efter det angivna datumet eller begära ett undantag med hjälp av länken i e-postmeddelandet.</span><span class="sxs-lookup"><span data-stu-id="3e424-166">You can either migrate to Planning Optimization by the date specified or request an exception by using the link in the email.</span></span> <span data-ttu-id="3e424-167">Den här länken öppnar en enkät.</span><span class="sxs-lookup"><span data-stu-id="3e424-167">This link opens a questionnaire.</span></span> <span data-ttu-id="3e424-168">När du har skickat och skickat in enkäten får du ett svar via e-post.</span><span class="sxs-lookup"><span data-stu-id="3e424-168">After you've completed and submitted this questionnaire, you will receive a reply via email.</span></span> <span data-ttu-id="3e424-169">Trots att den här processen är manuell svarar Microsoft att svara inom en vecka efter det att enkäten har skickats.</span><span class="sxs-lookup"><span data-stu-id="3e424-169">Although this process is manual, Microsoft tries to reply within a week after the questionnaire is submitted.</span></span>

### <a name="error-messages"></a><span data-ttu-id="3e424-170">Felmeddelanden</span><span class="sxs-lookup"><span data-stu-id="3e424-170">Error messages</span></span>

<span data-ttu-id="3e424-171">Jag använder version 10.0.16 eller senare och följande felmeddelande visas när jag kör huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="3e424-171">I'm using version 10.0.16 or later, and I receive the following error message when I run master planning.</span></span> <span data-ttu-id="3e424-172">Är huvudplaneringen blockerad?</span><span class="sxs-lookup"><span data-stu-id="3e424-172">Is master planning blocked?</span></span>

> <span data-ttu-id="3e424-173">Det här felmeddelandet visas eftersom den inbyggda huvudplaneringsmotorn användes för scenarier som stöds vid planeringsoptimering.</span><span class="sxs-lookup"><span data-stu-id="3e424-173">You receive this error message because the built-in master planning engine was used for scenarios supported by Planning Optimization.</span></span> <span data-ttu-id="3e424-174">Du bör migrera till planeringsoptimering nu eftersom den aktuella inbyggda huvudplaneringen är föråldrad.</span><span class="sxs-lookup"><span data-stu-id="3e424-174">You should migrate to Planning Optimization now, as the current built-in master planning will be deprecated.</span></span> <span data-ttu-id="3e424-175">Observera att huvudplaneringskörningen slutfördes utan fel.</span><span class="sxs-lookup"><span data-stu-id="3e424-175">Note that this master planning run did complete successfully.</span></span>
>
> <span data-ttu-id="3e424-176">Om migreringen har starka beroenden på väntande funktioner kan det krävas ett undantag till fortsatt användning av den inbyggda huvudplaneringsmotorn.</span><span class="sxs-lookup"><span data-stu-id="3e424-176">In case your migration has strong dependencies on pending features, an exception to continued usage of the built-in master planning engine can be requested.</span></span>
>
> <span data-ttu-id="3e424-177">Fyll i följande enkät för att komma igång och om relevant undantag från migreringen till planeringsoptimering.</span><span class="sxs-lookup"><span data-stu-id="3e424-177">Please complete the following questionnaire to get started and if relevant request exception from migration to Planning Optimization.</span></span>

<span data-ttu-id="3e424-178">**Svar:** Nej, huvudplaneringen är inte blockerad.</span><span class="sxs-lookup"><span data-stu-id="3e424-178">**Answer:** No, master planning isn't blocked.</span></span> <span data-ttu-id="3e424-179">Huvudplaneringskörningen har slutförts och du kan använda resultatet på vanligt sätt.</span><span class="sxs-lookup"><span data-stu-id="3e424-179">Your master planning run was successfully completed, and you can use the result in the usual way.</span></span> <span data-ttu-id="3e424-180">För att undvika att felmeddelandet visas under en framtida huvudplaneringskörning måste du emellertid migrera till planeringsoptimering direkt eller begära ett undantag med hjälp av länken i felmeddelandet.</span><span class="sxs-lookup"><span data-stu-id="3e424-180">However, to avoid receiving this error message during future master planning runs, you must either migrate to Planning Optimization immediately or request an exception by using the link in the error message.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
---
title: Förbättra huvudplaneringens prestanda
description: I det här avsnittet beskrivs olika alternativ som kan hjälpa dig att förbättra prestandan vid huvudplanering och felsökning av problem.
author: t-benebo
manager: tfehr
ms.date: 12/18/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: 2019-05-31
ms.dyn365.ops.version: AX 10.0.0
ms.openlocfilehash: 01db8a02e57c61daf940e2f459124a857ced68cb
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/02/2020
ms.locfileid: "3213617"
---
# <a name="improve-master-planning-performance"></a><span data-ttu-id="8e310-103">Förbättra huvudplaneringens prestanda</span><span class="sxs-lookup"><span data-stu-id="8e310-103">Improve master planning performance</span></span>

[!include [banner](../includes/preview-banner.md)]
[!include [banner](../includes/banner.md)]

<span data-ttu-id="8e310-104">I det här avsnittet beskrivs olika alternativ som kan hjälpa dig att förbättra prestandan vid huvudplanering och felsökning av problem.</span><span class="sxs-lookup"><span data-stu-id="8e310-104">This topic explains the various options that can help you improve the performance of master planning or troubleshoot issues.</span></span> <span data-ttu-id="8e310-105">Den innehåller information om parametrar och inställningar samt om rekommenderade konfigurationer och åtgärder.</span><span class="sxs-lookup"><span data-stu-id="8e310-105">It includes information about parameters and settings, as well as recommended configurations and actions.</span></span> <span data-ttu-id="8e310-106">Den innehåller också en sammanfattning av de viktiga parametrar som du bör tänka på när du har tidskrävande huvudplaneringsjobb.</span><span class="sxs-lookup"><span data-stu-id="8e310-106">Also included is a summary of all the important parameters that you should consider when you have long-running master planning jobs.</span></span>

<span data-ttu-id="8e310-107">Det här avsnittet är avsett för systemadministratörer eller IT-användare som har möjlighet att felsöka.</span><span class="sxs-lookup"><span data-stu-id="8e310-107">This topic is intended for system admins or IT users who have the capability to troubleshoot.</span></span> <span data-ttu-id="8e310-108">Den är också avsedd för produktion eller leveransplanering, eftersom den innehåller information om parametrar som hör till affärsplaneringskrav.</span><span class="sxs-lookup"><span data-stu-id="8e310-108">It's also intended for production or supply planners because it includes information about parameters that are related to business planning requirements.</span></span> 

## <a name="parameters-related-to-master-planning-performance"></a><span data-ttu-id="8e310-109">Parametrar som är relaterade till huvudplaneringsresultat</span><span class="sxs-lookup"><span data-stu-id="8e310-109">Parameters related to master planning performance</span></span>

<span data-ttu-id="8e310-110">Olika parametrar påverkar huvudplaneringens körtid och bör beaktas.</span><span class="sxs-lookup"><span data-stu-id="8e310-110">Various parameters influence the running time of master planning and should be considered.</span></span>

### <a name="number-of-threads"></a><span data-ttu-id="8e310-111">Antal trådar</span><span class="sxs-lookup"><span data-stu-id="8e310-111">Number of threads</span></span>

<span data-ttu-id="8e310-112">Parametern **antal trådar** gör att du kan justera huvudplaneringsprocessen så att den fungerar bättre på den specifika datauppsättningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-112">The **Number of threads** parameter lets you adjust the master scheduling process to help improve performance on the specific data set.</span></span> <span data-ttu-id="8e310-113">Denna parameter anger det totala antalet trådar som ska användas för att köra huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-113">This parameter specifies the total number of threads that will be used to run master planning.</span></span> <span data-ttu-id="8e310-114">Den orsakar parallellisering av huvudplaneringskörningen som hjälper till att minska körtiden.</span><span class="sxs-lookup"><span data-stu-id="8e310-114">It causes parallelization of the master planning run, which helps decrease the running time.</span></span> 

<span data-ttu-id="8e310-115">Du kan ställa in parametern **antal trådar** i dialogrutan **huvudplaneringskörning**.</span><span class="sxs-lookup"><span data-stu-id="8e310-115">You can set the **Number of threads** parameter in the **Master planning run** dialog box.</span></span> <span data-ttu-id="8e310-116">Öppna den här dialogrutan genom att gå **Huvudplanering \> Huvudplanering \> Kör \> Huvudplanering**, eller välj **Kör** i arbetsytan **Huvudplanering**.</span><span class="sxs-lookup"><span data-stu-id="8e310-116">To open this dialog box, go to **Master planning \> Master planning \> Run \> Master planning**, or select **Run** in the **Master planning** workspace.</span></span> <span data-ttu-id="8e310-117">Om du vill fastställa det bästa värdet för den här parametern måste du förlita dig på en försöks- och misstagsprocess.</span><span class="sxs-lookup"><span data-stu-id="8e310-117">To determine the best value for this parameter, you will have to rely on a trial-and-error process.</span></span> <span data-ttu-id="8e310-118">Du kan dock använda följande formler för att beräkna ett startvärde:</span><span class="sxs-lookup"><span data-stu-id="8e310-118">However, you can use the following formulas to calculate an initial value:</span></span>

- <span data-ttu-id="8e310-119">**Om din bransch är tillverkning:** (antal trådar) = (antal planerade order ÷ 1 000)</span><span class="sxs-lookup"><span data-stu-id="8e310-119">**If your industry is manufacturing:** (Number of threads) = (Number of planned orders ÷ 1,000)</span></span>
- <span data-ttu-id="8e310-120">**Annars:** (antal trådar) = (antal artiklar ÷ 1 000)</span><span class="sxs-lookup"><span data-stu-id="8e310-120">**Otherwise:** (Number of threads) = (Number of items ÷ 1,000)</span></span>

<span data-ttu-id="8e310-121">Antalet stödprocesser som används under huvudplaneringen måste vara mindre än eller lika med det maximala antalet trådar som tillåts på batchservern.</span><span class="sxs-lookup"><span data-stu-id="8e310-121">The number of helpers used during master planning must be less than or equal to the maximum number of threads that are allowed on the batch server.</span></span> <span data-ttu-id="8e310-122">Om antalet stödprocesser överstiger antalet trådar på batchservern, fungerar inte de extra trådarna som de ska.</span><span class="sxs-lookup"><span data-stu-id="8e310-122">If the number of helpers exceeds the number of threads on the batch server, the extra threads won't do any work.</span></span>

> [!NOTE]
> <span data-ttu-id="8e310-123">En inställning på **0** (noll) för parametern **antal trådar** ökar huvudplaneringens körtid.</span><span class="sxs-lookup"><span data-stu-id="8e310-123">Setting the **Number of threads** parameter to **0** (zero) increases the master planning running time.</span></span> <span data-ttu-id="8e310-124">Därför rekommenderar vi att du alltid anger ett värde som är större än 0.</span><span class="sxs-lookup"><span data-stu-id="8e310-124">Therefore, we recommend that you always set a value that is more than 0.</span></span>

### <a name="number-of-tasks-in-helper-task-bundle"></a><span data-ttu-id="8e310-125">Antal uppgifter i hjälpen för uppgiftsbunt</span><span class="sxs-lookup"><span data-stu-id="8e310-125">Number of tasks in helper task bundle</span></span>

<span data-ttu-id="8e310-126">Genom att ändra inställningen **antalet uppgifter i aktivitetsbunt** (dvs. buntstorleken), kan du minska körningstiden.</span><span class="sxs-lookup"><span data-stu-id="8e310-126">By changing the **Number of tasks in task bundle** setting (that is, the bundle size), you might be able to decrease the running time.</span></span> <span data-ttu-id="8e310-127">Den här inställningen styr antalet artiklar som planeras tillsammans av en enskild hjälp.</span><span class="sxs-lookup"><span data-stu-id="8e310-127">This setting controls the number of items that are planned together by a single helper.</span></span>

<span data-ttu-id="8e310-128">Du kan ange parametern **antalet uppgifter i aktivitetsbunt** i avsnittet **prestanda** på fliken **allmänt** på sidan **huvudplaneringsparametrar** (**huvudplanering \> inställning \> huvudplaneringsparametrar**).</span><span class="sxs-lookup"><span data-stu-id="8e310-128">You can set the **Number of tasks in task bundle** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="8e310-129">Det bästa värdet för den här parametern beror på dina data.</span><span class="sxs-lookup"><span data-stu-id="8e310-129">The best value for this parameter depends on your data.</span></span> <span data-ttu-id="8e310-130">Därför rekommenderar vi att du börjar med värdet **1** och använder en försöks- och misstagsprocess för att avgöra vilket värde som är bäst för din inställning.</span><span class="sxs-lookup"><span data-stu-id="8e310-130">Therefore, we recommend that you start with a value of **1**, and then use a trial-and-error process to determine the best value for your setup.</span></span>

<span data-ttu-id="8e310-131">I allmänhet rekommenderar vi att du ökar antalet uppgifter när antalet artiklar är mycket stort (i hundratusental).</span><span class="sxs-lookup"><span data-stu-id="8e310-131">In general, we recommend that you increase the number of tasks when the number of items is very large (in the hundreds of thousands).</span></span> <span data-ttu-id="8e310-132">Annars bör du minska antalet uppgifter.</span><span class="sxs-lookup"><span data-stu-id="8e310-132">Otherwise, you should decrease the number of tasks.</span></span> <span data-ttu-id="8e310-133">För följande specifika branscher bör följande rekommendationer beaktas:</span><span class="sxs-lookup"><span data-stu-id="8e310-133">For the following specific industries, consider these recommendations:</span></span>

- <span data-ttu-id="8e310-134">I detaljhandels- och distributionsbranschen, där det finns många oberoende artiklar, använder du många hjälpprogram, eftersom det inte finns något samband mellan artiklarna.</span><span class="sxs-lookup"><span data-stu-id="8e310-134">In the retail and distribution industries where there are many independent items, use many helpers because there is no dependency between items.</span></span> 
- <span data-ttu-id="8e310-135">I tillverkningsindustrin, där det finns många strukturlistor och delade del komponenter, använder du färre stödprocesser, eftersom beroenden mellan artiklar kan orsaka väntetider.</span><span class="sxs-lookup"><span data-stu-id="8e310-135">In the manufacturing industry where there are many bills of materials (BOMs) and shared subcomponents, use fewer helpers because dependencies between items might cause waiting times.</span></span>

> [!TIP]
> <span data-ttu-id="8e310-136">Om du har prestandaproblem rekommenderar vi att du minskar **antalet stödprocesser i inställningen för uppgiftsbunt** till **1**.</span><span class="sxs-lookup"><span data-stu-id="8e310-136">If you have performance issues, we recommend that you reduce the **Number of helpers in task bundle** setting to **1**.</span></span> <span data-ttu-id="8e310-137">Du kan sedan starta försöks- och misstagsprocessen för att hitta det bästa värdet för din inställning.</span><span class="sxs-lookup"><span data-stu-id="8e310-137">You can then start the trial-and-error process to find the best value for your setup.</span></span> <span data-ttu-id="8e310-138">I allmänhet uppstår prestandaproblem när en artikel tar längre tid att bearbeta än återstående artiklar.</span><span class="sxs-lookup"><span data-stu-id="8e310-138">In general, performance issues occur when one item takes longer to process than the remaining items.</span></span> <span data-ttu-id="8e310-139">I det här fallet ser du att två efterföljande uppgifter som har statusen **Disponering** i huvudplaneringskörningen bara tar olika tidsvärden att köra.</span><span class="sxs-lookup"><span data-stu-id="8e310-139">In this case, you will see that two subsequent tasks that have a status of **Coverage** in the master planning run take significantly different amounts of time to run.</span></span> <span data-ttu-id="8e310-140">I extrema fall kan denna skillnad vara ungefär 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="8e310-140">In extreme cases, this difference might be as much as 30 minutes.</span></span> <span data-ttu-id="8e310-141">Du kan härleda hur lång tid det tar innan aktiviteterna körs genom att visa varaktigheten för varje uppgift.</span><span class="sxs-lookup"><span data-stu-id="8e310-141">You can infer the amount of time that tasks take to run by looking at the duration of each task.</span></span>

### <a name="use-of-cache"></a><span data-ttu-id="8e310-142">Användning av cache</span><span class="sxs-lookup"><span data-stu-id="8e310-142">Use of cache</span></span>

<span data-ttu-id="8e310-143">Parametern **Användning av cache** gör att du kan justera huvudplaneringsprocessen så att den fungerar bättre på den specifika datauppsättningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-143">The **Use of cache** parameter lets you adjust the master scheduling process to help it perform better on the specific data set.</span></span> <span data-ttu-id="8e310-144">Du kan till exempel justera den för att uppnå följande resultat:</span><span class="sxs-lookup"><span data-stu-id="8e310-144">For example, you can adjust it to achieve the following results:</span></span>

- <span data-ttu-id="8e310-145">Mer information samlas in i dataminnet om mer cachelagring görs.</span><span class="sxs-lookup"><span data-stu-id="8e310-145">If more caching is done, more data is collected in data memory.</span></span> <span data-ttu-id="8e310-146">Förväntan är att data kommer att användas senare.</span><span class="sxs-lookup"><span data-stu-id="8e310-146">The expectation is that the data will be used again later.</span></span> <span data-ttu-id="8e310-147">Om data finns i minnet kan du spara vissa databasförfrågningar.</span><span class="sxs-lookup"><span data-stu-id="8e310-147">If the data is in memory, you might save some database requests.</span></span> <span data-ttu-id="8e310-148">Om mer cachelagring görs ökar dock minneskraven.</span><span class="sxs-lookup"><span data-stu-id="8e310-148">However, if more caching is done, memory requirements increase.</span></span>
- <span data-ttu-id="8e310-149">Om mindre cachelagring görs kan samma data behöva hämtas från databasen oftare.</span><span class="sxs-lookup"><span data-stu-id="8e310-149">If less caching is done, the same data might have to be fetched from the database more often.</span></span> <span data-ttu-id="8e310-150">Dessutom lagrar programobjektserver (AOS) mindre data i minnet under processen.</span><span class="sxs-lookup"><span data-stu-id="8e310-150">Additionally, Application Object Server (AOS) stores little data in memory throughout the process.</span></span>

<span data-ttu-id="8e310-151">Det är svårt att förutsäga vilket alternativ som är bättre eftersom varje ärende bara är beroende av data utan även på maskinvaran.</span><span class="sxs-lookup"><span data-stu-id="8e310-151">It's difficult to predict which option will be better because each case depends not only on the data but also on the hardware.</span></span> <span data-ttu-id="8e310-152">Eftersom mindre cachelagring medför ytterligare belastning på databasservern är det förmodligen ingen bra idé att använda det alternativet om databasservern redan är överbelastad.</span><span class="sxs-lookup"><span data-stu-id="8e310-152">For example, because less caching causes additional load on the database server, it probably isn't a good idea to use that option if your database server is already overloaded.</span></span>

<span data-ttu-id="8e310-153">Du kan ange parametern **användning av cachelagring** i avsnittet **prestanda** på fliken **allmänt** på sidan **huvudplaneringsparametrar** (**huvudplanering \> inställning \> huvudplaneringsparametrar**).</span><span class="sxs-lookup"><span data-stu-id="8e310-153">You can set the **Use of cache** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="8e310-154">Hur effektiv cachelagringen är beror på att kundens data är mycket.</span><span class="sxs-lookup"><span data-stu-id="8e310-154">The effectiveness of caching depends heavily on the customer data.</span></span> <span data-ttu-id="8e310-155">Om till exempel cachelagrade data aldrig behövs behöver du bara slösa minnet om du lagrar data till slutet av tidsplaneringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="8e310-155">For example, if cached data is never needed, you just waste memory if you store data until the end of the scheduling process.</span></span> <span data-ttu-id="8e310-156">Om du i detta fall konfigurerar mindre cachelagring kan prestandan öka eftersom AOS kräver mindre minne och serverresurser frigörs för andra uppgifter.</span><span class="sxs-lookup"><span data-stu-id="8e310-156">In this case, if you configure less caching, performance might increase because AOS requires less memory and server resources are freed up for other tasks.</span></span>

> [!TIP]
> <span data-ttu-id="8e310-157">I allmänhet rekommenderar vi att du ställer in att parametern **Användning av cachelagring** till **maximum** eftersom parametern är avsedd som en funktion för att förbättra prestanda.</span><span class="sxs-lookup"><span data-stu-id="8e310-157">In general, we recommend that you set the **Use of cache** parameter to **Maximum**, because the parameter is intended as a performance enhancing feature.</span></span> <span data-ttu-id="8e310-158">Vi rekommenderar att du ställer in parametern till **minimal** om du kör på plats och har begränsat minne (ungefär 2 gigabyte\[GB\]).</span><span class="sxs-lookup"><span data-stu-id="8e310-158">We recommend that you set the parameter to **Minimum** if you run on premises and have limited memory (approximately 2 gigabytes \[GB\]).</span></span>

### <a name="number-of-orders-in-firming-bundle"></a><span data-ttu-id="8e310-159">Antal order i bekräftelsebunten</span><span class="sxs-lookup"><span data-stu-id="8e310-159">Number of orders in firming bundle</span></span>

<span data-ttu-id="8e310-160">Parametern **antal eller order i bekräftelsebunt** anger det totala antalet order som kommer att bearbetas åt gången av varje tråd/batch.</span><span class="sxs-lookup"><span data-stu-id="8e310-160">The **Number or orders in firming bundle** parameter specifies the total number of orders that will be processed at a time by each thread/batch.</span></span> <span data-ttu-id="8e310-161">Det gör parallellisering av autobekräftelsen.</span><span class="sxs-lookup"><span data-stu-id="8e310-161">It causes parallelization of the autofirming process.</span></span>

<span data-ttu-id="8e310-162">Du kan ange parametern **antal eller order i bekräftelsebunt** i avsnittet **prestanda** på fliken **allmänt** på sidan **huvudplaneringsparametrar** (**huvudplanering \> inställning \> huvudplaneringsparametrar**).</span><span class="sxs-lookup"><span data-stu-id="8e310-162">You can set the **Number or orders in firming bundle** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="8e310-163">Parallellisering för autobekräftelseprocessen baseras på de order som måste behandlas tillsammans.</span><span class="sxs-lookup"><span data-stu-id="8e310-163">Parallelization of the autofirming process is based on the orders that must be processed together.</span></span> <span data-ttu-id="8e310-164">Om denna parameter är inställd på **50**, till exempel, hämtar varje tråd eller batchuppgiften 50 order åt gången och bearbetar dem tillsammans.</span><span class="sxs-lookup"><span data-stu-id="8e310-164">For example, if this parameter is set to **50**, each thread or batch task will pick up 50 orders at a time and process them together.</span></span> <span data-ttu-id="8e310-165">Vi rekommenderar att du använder en försöks- och misstagsprocessen för att hitta det bästa värdet.</span><span class="sxs-lookup"><span data-stu-id="8e310-165">We recommend that you use a trial-and-error process to find the best value.</span></span> <span data-ttu-id="8e310-166">Du kan dock använda följande formler för att beräkna ett startvärde:</span><span class="sxs-lookup"><span data-stu-id="8e310-166">However, you can use the following formula to calculate an initial value:</span></span>

<span data-ttu-id="8e310-167">(Antal order per bunt) = (antal efter efterfrågeobjekt ÷ antalet trådar)</span><span class="sxs-lookup"><span data-stu-id="8e310-167">(Number of orders per bundle) = (Number of demand items ÷ Number of threads)</span></span>

> [!NOTE]
> <span data-ttu-id="8e310-168">Om du anger parametern **Antal order i bekräftelsebunten** till **0** (noll), görs ingen parallellisering av autobekräftelsen.</span><span class="sxs-lookup"><span data-stu-id="8e310-168">If you set the **Number of orders in firming bundle** parameter to **0** (zero), no parallelization of the autofirming process will occur.</span></span> <span data-ttu-id="8e310-169">Hela processen körs på en enskild batchuppgift och har en kumulativ körtid.</span><span class="sxs-lookup"><span data-stu-id="8e310-169">The whole process will run on a single batch task and have a cumulative running time.</span></span> <span data-ttu-id="8e310-170">Därför kommer körningstiden för huvudplaneringen att öka.</span><span class="sxs-lookup"><span data-stu-id="8e310-170">Therefore, the running time of your master planning will increase.</span></span> <span data-ttu-id="8e310-171">Därför rekommenderar vi att du ställer in den här parametern på ett värde som är större än **0** (noll).</span><span class="sxs-lookup"><span data-stu-id="8e310-171">For this reason, we recommend that you set this parameter to a value that is more than **0** (zero).</span></span>

### <a name="time-fences"></a><span data-ttu-id="8e310-172">Tidsgränser</span><span class="sxs-lookup"><span data-stu-id="8e310-172">Time fences</span></span>

<span data-ttu-id="8e310-173">Tidsgränser anger hur långt beräkningen och andra krav måste beräknas i huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-173">Time fences specify how far in the future the calculations and other requirements must be calculated by master planning.</span></span> <span data-ttu-id="8e310-174">Ju större tidsgränsen är, desto längre tid tar huvudplaneringen att köra.</span><span class="sxs-lookup"><span data-stu-id="8e310-174">The larger the time fence is, the longer it will take master planning to run.</span></span> <span data-ttu-id="8e310-175">Ställ därför in tidsgränsen efter dina affärsbehov.</span><span class="sxs-lookup"><span data-stu-id="8e310-175">Therefore, set the time fences according to your business requirements.</span></span> <span data-ttu-id="8e310-176">Mer information om tidsgränser finns i [ställa in huvudplanering](master-planning-setup.md).</span><span class="sxs-lookup"><span data-stu-id="8e310-176">For more information about time fences, see [Set up master planning](master-planning-setup.md).</span></span>

### <a name="actions"></a><span data-ttu-id="8e310-177">Åtgärder</span><span class="sxs-lookup"><span data-stu-id="8e310-177">Actions</span></span>

<span data-ttu-id="8e310-178">I tidsgränsen kan du även hitta parametern för **åtgärdsmeddelande**.</span><span class="sxs-lookup"><span data-stu-id="8e310-178">Among the time fences, you can also find the **Action message** parameter.</span></span> <span data-ttu-id="8e310-179">Beräkningen av åtgärdsmeddelanden gör att en tid körs längre för huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-179">The calculation of action messages causes a longer running time for master planning.</span></span> <span data-ttu-id="8e310-180">Om åtgärdsmeddelanden inte analyseras och tillämpas regelbundet (varje dag, vecka o.s.v.) bör du överväga att inaktivera beräkningen under huvudplaneringskörningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-180">If action messages aren't regularly analyzed and applied (daily, weekly, and so on), consider turning off the calculation during the master planning run.</span></span> <span data-ttu-id="8e310-181">Du inaktiverar beräkningen på sidan **Huvudplaner** ange (**Huvudplanering \> Inställningar \> Planer \> Huvudplaner**), ange tidsgräns för **Åtgärdsmeddelanden** till **0** (noll).</span><span class="sxs-lookup"><span data-stu-id="8e310-181">To turn off the calculation, on the **Master plans** page (**Master planning \> Setup \> Plans \> Master plans**), set the **Action message** time fence to **0** (zero).</span></span> <span data-ttu-id="8e310-182">Kontrollera också att inställningen **åtgärdsmeddelande** är inaktiverad för alla disponeringsgrupper.</span><span class="sxs-lookup"><span data-stu-id="8e310-182">Also make sure that the **Action message** setting is turned off for all the coverage groups.</span></span>

### <a name="futures"></a><span data-ttu-id="8e310-183">Leveransplaner</span><span class="sxs-lookup"><span data-stu-id="8e310-183">Futures</span></span>

<span data-ttu-id="8e310-184">Beräkningen av leveransplaner gör att en tid körs längre för huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-184">The calculation of futures causes a longer running time for master planning.</span></span> <span data-ttu-id="8e310-185">Om du inte planerar strukturlistor, eller om förseningar inte behöver spridas från till gång till efterfrågan under planering, bör du överväga att inaktivera framtida beräkningar vid huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-185">If you aren't planning BOMs, or if delays don't have to be propagated from supply to demand during planning, consider turning off futures calculations during master planning.</span></span> <span data-ttu-id="8e310-186">Om du vill inaktivera beräkningarna ställer du in tidsgränsen för **leveransplaner** till **0** (noll) för huvudplanen du kör.</span><span class="sxs-lookup"><span data-stu-id="8e310-186">To turn off the calculations, set the **Futures** time fence to **0** (zero) for the master plan that you're running.</span></span> <span data-ttu-id="8e310-187">Kontrollera också att inställningen **leveransplaner** är inaktiverad för alla disponeringsgrupper.</span><span class="sxs-lookup"><span data-stu-id="8e310-187">Also make sure that the **Futures** setting is turned off for all the coverage groups.</span></span>

## <a name="one-heavy-routine-at-a-time"></a><span data-ttu-id="8e310-188">En tung rutin åt gången</span><span class="sxs-lookup"><span data-stu-id="8e310-188">One heavy routine at a time</span></span>

<span data-ttu-id="8e310-189">När du planerar huvudplaneringen ska du inte tidsplanera något annat batchjobb samtidigt.</span><span class="sxs-lookup"><span data-stu-id="8e310-189">When you schedule master planning, don't schedule any other batch job at the same time.</span></span> <span data-ttu-id="8e310-190">Var särskilt försiktig med att inte schemalägga andra tunga rutiner, t.ex. lagerstängning, samtidigt.</span><span class="sxs-lookup"><span data-stu-id="8e310-190">Be especially careful that you don't schedule any other heavy routines, such as inventory close, at the same time.</span></span>

## <a name="review-the-session-log"></a><span data-ttu-id="8e310-191">Granska loggen för session</span><span class="sxs-lookup"><span data-stu-id="8e310-191">Review the session log</span></span>

<span data-ttu-id="8e310-192">Systemet kan samla in mer information om de uppgifter som körs under huvudplaneringen.</span><span class="sxs-lookup"><span data-stu-id="8e310-192">The system can collect additional information about the tasks that run during master planning.</span></span> <span data-ttu-id="8e310-193">Se till att systemet samlar in den här informationen genom att aktivera inställningen för **Spåra bearbetningstid** i dialogrutan **huvudplaneringskörning**.</span><span class="sxs-lookup"><span data-stu-id="8e310-193">To have the system collect this information, turn on the **Track processing time** setting in the **Master planning run** dialog box.</span></span> <span data-ttu-id="8e310-194">Den insamlade informationen kan hjälpa dig att hitta flaskhalsar i körningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-194">The information that is collected can help you find bottlenecks in the run.</span></span> <span data-ttu-id="8e310-195">När t.ex. parametern **antalet uppgifter i hjälpens uppgiftsbunt** har värdet **1**, kan du identifiera objektet som har den längsta körtiden.</span><span class="sxs-lookup"><span data-stu-id="8e310-195">For example, when the **Number of tasks in helper task bundle** parameter is set to **1**, you can identify the item that has the longest running time.</span></span> <span data-ttu-id="8e310-196">Du kan också jämföra körtiderna för de olika trådar som har status som **täckning** och jämföra varaktigheten för varje uppgift.</span><span class="sxs-lookup"><span data-stu-id="8e310-196">You can also compare the running times for the various threads that have a status of **Coverage** and compare the duration for each task.</span></span>

<span data-ttu-id="8e310-197">Om du vill granska huvudplaneringskörningarna i systemet följer du ett av dessa steg.</span><span class="sxs-lookup"><span data-stu-id="8e310-197">To review the master planning runs of your system, follow one of these steps.</span></span>

- <span data-ttu-id="8e310-198">Välj arbetsytan **huvudplan**, välj en huvudplanering i listrutan och välj sedan panelen **huvudplanering** och sedan **historik**.</span><span class="sxs-lookup"><span data-stu-id="8e310-198">In the **Master planning** workspace, select a master plan in the drop-down field, and then on the **Master planning** tile, select **History**.</span></span> <span data-ttu-id="8e310-199">Välj ett jobb, välj **förfrågningar** på snabbfliken och välj sedan **processuppgiftens varaktighet**.</span><span class="sxs-lookup"><span data-stu-id="8e310-199">Select a job, select **Inquiries** on the FastTab, and then select **Process task duration**.</span></span>
- <span data-ttu-id="8e310-200">På sidan **huvudplaner**, välj en plan i det vänstra fönstret och välj **historik** på snabbfliken.</span><span class="sxs-lookup"><span data-stu-id="8e310-200">On the **Master plans** page, select a plan in the left pane, and then select **History** on the FastTab.</span></span> <span data-ttu-id="8e310-201">Välj ett jobb, välj **förfrågningar** på snabbfliken och välj sedan **processuppgiftens varaktighet**.</span><span class="sxs-lookup"><span data-stu-id="8e310-201">Select a job, select **Inquiries** on the FastTab, and then select **Process task duration**.</span></span>

<span data-ttu-id="8e310-202">När du granskar sessionskatalogen bör du tänka på följande:</span><span class="sxs-lookup"><span data-stu-id="8e310-202">When you review the session log, consider the following:</span></span>

- <span data-ttu-id="8e310-203">**Uppdateringen** bör inte ta lång tid (i allmänhet bör den ta upp till 30 minuter), det är dock en enkel tråd.</span><span class="sxs-lookup"><span data-stu-id="8e310-203">**Update** should not take a long time (in general, it should take up to 30 minutes), however, it's single-threaded.</span></span>
- <span data-ttu-id="8e310-204">**Kopieringsplanen** ska inte ta lång tid (det bör dröja ungefär en minut).</span><span class="sxs-lookup"><span data-stu-id="8e310-204">**Copy plan** should not take a long time (it should take about one minute).</span></span>
- <span data-ttu-id="8e310-205">**Automatisk bekräftelse** tar vanligtvis cirka 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="8e310-205">**Auto firming** usually takes about 30 minutes.</span></span> <span data-ttu-id="8e310-206">Det kan dock ta upp till flera timmar, beroende på antalet order och artiklarnas komplexitet.</span><span class="sxs-lookup"><span data-stu-id="8e310-206">However, it can take up to multiple hours, depending on the number of orders and the complexity of the items.</span></span>
- <span data-ttu-id="8e310-207">**Automatisk bekräftelse** ska ta kortare tid än **täckningen**.</span><span class="sxs-lookup"><span data-stu-id="8e310-207">**Auto firming** should take less time than **Coverage**.</span></span>
- <span data-ttu-id="8e310-208">**Täckningen** bör ta längsta tid i förhållande till resten.</span><span class="sxs-lookup"><span data-stu-id="8e310-208">**Coverage** should take the longest time relative to the rest.</span></span>
- <span data-ttu-id="8e310-209">**Åtgärd** och **framtida meddelanden** kan ta lång tid, beroende på data och antal strukturlistor.</span><span class="sxs-lookup"><span data-stu-id="8e310-209">**Action** and **Future message** can take a long time, depending on the data and the number of BOMs.</span></span>

## <a name="filtering-of-items"></a><span data-ttu-id="8e310-210">Filtrering av artiklar</span><span class="sxs-lookup"><span data-stu-id="8e310-210">Filtering of items</span></span>

<span data-ttu-id="8e310-211">Filter som används i dialogrutan **huvudplaneringskörning** påverkar tidslängden på huvudplaneringskörningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-211">Filters that are applied in the **Master planning run** dialog box affect the duration of the master planning run.</span></span> <span data-ttu-id="8e310-212">Gå till **Huvudplanering \> Huvudplanering \> Kör \> Huvudplanering**, eller välj **Kör** i arbetsytan **Huvudplanering**.</span><span class="sxs-lookup"><span data-stu-id="8e310-212">Go to **Master planning \> Master planning \> Run \> Master planning**, or select **Run** in the **Master planning** workspace.</span></span> <span data-ttu-id="8e310-213">Om du vill undanta objekt från körningen rekommenderar vi att du filtrerar fram artikelns livscykeltillstånd (inte med hjälp av artikelnummer).</span><span class="sxs-lookup"><span data-stu-id="8e310-213">To exclude items from the run, we recommend that you filter by the lifecycle state of the item (not by item numbers).</span></span> <span data-ttu-id="8e310-214">När du filtrerar efter livscykel steg tar uppdaterings processen kortare tid än när du filtrerar efter artikelnummer.</span><span class="sxs-lookup"><span data-stu-id="8e310-214">When you filter by lifecycle state, the update process will take less time than when you filter by item numbers.</span></span>

## <a name="automatically-filter-by-items-with-direct-demand"></a><span data-ttu-id="8e310-215">Filtrera automatiskt efter artiklar med direkt efterfrågan</span><span class="sxs-lookup"><span data-stu-id="8e310-215">Automatically filter by items with direct demand</span></span>

<span data-ttu-id="8e310-216">Om du vill förbättra körningstiden för huvudplaneringen kan du välja att bara inkludera artiklar med direkt efterfrågan.</span><span class="sxs-lookup"><span data-stu-id="8e310-216">To improve the master planning run time, you can choose to only include items with direct demand.</span></span> <span data-ttu-id="8e310-217">Det här filtret kan bara användas för en fullständig huvudplaneringskörning utan att några andra filter används i fältet **poster som ska inkluderas**.</span><span class="sxs-lookup"><span data-stu-id="8e310-217">This filter can only be used for a complete master planning run with no other filters applied in the **Records to include** field.</span></span> <span data-ttu-id="8e310-218">En huvudplaneringskörning med filter ignorerar inställningen filtrera **automatiskt efter objekt med direkt efterfrågan**.</span><span class="sxs-lookup"><span data-stu-id="8e310-218">A master planning run with filters will ignore the **Automatically filter by items with direct demand** setting.</span></span>

<span data-ttu-id="8e310-219">Fältet **filtrera automatiskt efter artiklar med direkt efterfrågan** finns på sidan **Huvudplaneringsparametrar** och kan användas med inställningar för både för förbearbetning och efterbearbetning.</span><span class="sxs-lookup"><span data-stu-id="8e310-219">The **Automatically filter by items with direct demand** field is found on the **Master planning parameters** page and can be used with both pre-processing and post-processing settings.</span></span>

### <a name="pre-processing"></a><span data-ttu-id="8e310-220">Förbearbetning</span><span class="sxs-lookup"><span data-stu-id="8e310-220">Pre-processing</span></span>
<span data-ttu-id="8e310-221">Parametern **Förbearbetning: filtrera automatiskt efter objekt med direkta behov** säkerställer att förbearbetningsfasen i huvudplaneringen endast innehåller artiklar som uppfyller minst ett av följande villkor:</span><span class="sxs-lookup"><span data-stu-id="8e310-221">The **Pre-processing: Automatically filter by items with direct demand** parameter ensures that the pre-processing phase of master planning only includes items that fulfill at least one of the following conditions:</span></span>
  - <span data-ttu-id="8e310-222">Artikeln har en förväntad inleverans eller utleverans, till exempel en inköpsorder, försäljningsorder, offert, överföringsorder eller produktionsorder.</span><span class="sxs-lookup"><span data-stu-id="8e310-222">The item has an expected receipt or issue, such as a purchase order, sales order, quote, transfer order, or production order.</span></span> 
  - <span data-ttu-id="8e310-223">Artikeln har artikeldisponering med säkerhetslager (minsta lagerbehållning).</span><span class="sxs-lookup"><span data-stu-id="8e310-223">The item has item coverage with safety stock (minimum on-hand inventory).</span></span>
  - <span data-ttu-id="8e310-224">Prognosticerad efterfrågan efter idag finns för artikeln.</span><span class="sxs-lookup"><span data-stu-id="8e310-224">Forecast demand after today exists for the item.</span></span>
  - <span data-ttu-id="8e310-225">Prognosticerad leverans efter idag finns för artikeln.</span><span class="sxs-lookup"><span data-stu-id="8e310-225">Forecast supply after today exists for the item.</span></span>
  - <span data-ttu-id="8e310-226">Artikeln innehåller alla kontinuitetsrader från callcentermodulen som ännu inte har skapats.</span><span class="sxs-lookup"><span data-stu-id="8e310-226">The item includes any continuity lines from the call center module yet to be created.</span></span>

> [!NOTE]
> <span data-ttu-id="8e310-227">En artikel som har fysiskt tillgänglig lagerbehållning kommer inte att visa en behovstransaktion eftersom det inte finns någon efterfrågan på artikeln.</span><span class="sxs-lookup"><span data-stu-id="8e310-227">An item that has physically available on-hand inventory will not show a requirement transaction because there is no demand for the item.</span></span>

### <a name="post-processing"></a><span data-ttu-id="8e310-228">Efterbearbetar</span><span class="sxs-lookup"><span data-stu-id="8e310-228">Post-processing</span></span>
<span data-ttu-id="8e310-229">Alternativet **Efterbearbetning: filtrera automatiskt efter objekt med direkt efterfrågan** är endast relevant om du anger **Strukturlisteversionskrav** i dina disponeringsgrupper.</span><span class="sxs-lookup"><span data-stu-id="8e310-229">The **Post-processing: Automatically filter by items with direct demand** option is only relevant if you set **BOM version requirement** in your coverage groups.</span></span> <span data-ttu-id="8e310-230">Annars behöver du inte aktivera parametern.</span><span class="sxs-lookup"><span data-stu-id="8e310-230">Otherwise, you do not need to enable the parameter.</span></span> 

<span data-ttu-id="8e310-231">Innan disponeringssteget börjar, finns det ett steg före täckning under vilka artiklar med disponeringsinställningen **Strukturlisteversionskrav** aktiverad kommer att bearbetas om.</span><span class="sxs-lookup"><span data-stu-id="8e310-231">Before the coverage step starts, there is a pre-coverage step during which items with the coverage setting **BOM version requirement** enabled will be reprocessed.</span></span> <span data-ttu-id="8e310-232">Detta görs för att säkerställa att artiklar från den begärda strukturlisteversionen planeras.</span><span class="sxs-lookup"><span data-stu-id="8e310-232">This is done to ensure that items from the required BOM version are planned.</span></span> <span data-ttu-id="8e310-233">Artiklar som anses ha efterfrågan under förbehandlingen har inte längre någon efterfrågan och bör därför uteslutas från planeringskörningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-233">Items that are considered to have demand during pre-processing no longer have any demand and therefore should be excluded from the planning run.</span></span>

## <a name="performance-checklist-summary"></a><span data-ttu-id="8e310-234">Sammanfattning av prestandachecklista</span><span class="sxs-lookup"><span data-stu-id="8e310-234">Performance checklist summary</span></span>

- <span data-ttu-id="8e310-235">**Antal trådar** – ange ett värde som är större än **0** (noll).</span><span class="sxs-lookup"><span data-stu-id="8e310-235">**Number of threads** – Set to a value that is more than **0** (zero).</span></span>
- <span data-ttu-id="8e310-236">**Antal uppgifter i hjälpens uppgiftsbunt** – ange ett värde som är större än **0** (noll).</span><span class="sxs-lookup"><span data-stu-id="8e310-236">**Number of tasks in helper task bundle** – Set to a value that is more than **0** (zero).</span></span> <span data-ttu-id="8e310-237">(Använd de formler som anges tidigare i det här avsnittet.)</span><span class="sxs-lookup"><span data-stu-id="8e310-237">(Use the formulas that are given earlier in this topic.)</span></span>
- <span data-ttu-id="8e310-238">**Användning av cache** –Ange **Maximum** om inte systemet har ont om ledigt minne.</span><span class="sxs-lookup"><span data-stu-id="8e310-238">**Use of cache** – Set to **Maximum** unless your system is low on memory.</span></span>
- <span data-ttu-id="8e310-239">**Antal order i hjälpens bekräftelsebunten** – ange ett värde som är större än **0** (noll).</span><span class="sxs-lookup"><span data-stu-id="8e310-239">**Number of orders in firming bundle** – Set to a value that is more than **0** (zero).</span></span> <span data-ttu-id="8e310-240">(Använd den formel som anges tidigare i det här avsnittet.)</span><span class="sxs-lookup"><span data-stu-id="8e310-240">(Use the formula that is given earlier in this topic.)</span></span>
- <span data-ttu-id="8e310-241">**Tidsgränser** – anpassa till dina affärsbehov.</span><span class="sxs-lookup"><span data-stu-id="8e310-241">**Time fences** – Adjust to your business needs.</span></span>
- <span data-ttu-id="8e310-242">**Åtgärder och framleveransplaner** – inaktivera åtgärder och framtida om du inte använder dem.</span><span class="sxs-lookup"><span data-stu-id="8e310-242">**Actions and futures** – Disable actions and future if you don't use them.</span></span>
- <span data-ttu-id="8e310-243">**En tung rutin vid en tidpunkt** – kör inte huvudplanering tillsammans med någon annan tung rutin.</span><span class="sxs-lookup"><span data-stu-id="8e310-243">**One heavy routine at a time** – Don't run master planning together with any other heavy routine.</span></span>
- <span data-ttu-id="8e310-244">**Granska loggen för session**</span><span class="sxs-lookup"><span data-stu-id="8e310-244">**Review the session log.**</span></span>
- <span data-ttu-id="8e310-245">**Filtrering av artiklar** – Använd livscykelstadiet för att exkludera artiklar från huvudplaneringskörningen.</span><span class="sxs-lookup"><span data-stu-id="8e310-245">**Filtering of items** – Use the lifecycle state to exclude items from the master planning run.</span></span> <span data-ttu-id="8e310-246">(Använd inte artikelnumren.)</span><span class="sxs-lookup"><span data-stu-id="8e310-246">(Don't use the item numbers.)</span></span>

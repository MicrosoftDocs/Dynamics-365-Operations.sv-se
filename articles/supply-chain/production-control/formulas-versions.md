---
title: Formler och formelversioner
description: Det här avsnittet innehåller information om formler och formelversioner. En formel definierar material, komponenter och resultat för en viss process i processtillverkning. Formler används för att planera och framställa produkter i processtillverkning.
author: cvocph
manager: tfehr
ms.date: 09/12/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: PlanActivity, ReqSupplyDemandSchedule, EcoResProductProdTypeFormulaNoActiveFormulaFormPart
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1e5ff5916366f968cbf8dc9a5614466ef89faa92
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 01/15/2021
ms.locfileid: "5007177"
---
# <a name="formulas-and-formula-versions"></a><span data-ttu-id="36b4e-105">Formler och formelversioner</span><span class="sxs-lookup"><span data-stu-id="36b4e-105">Formulas and formula versions</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="36b4e-106">En formel definierar material, komponenter och resultat för en viss process i processtillverkning.</span><span class="sxs-lookup"><span data-stu-id="36b4e-106">A formula defines the materials, ingredients, and outcomes of a specific process in process manufacturing.</span></span> <span data-ttu-id="36b4e-107">Tillsammans med motsvarande väg definierar formeln hela processen inom processtillverkning.</span><span class="sxs-lookup"><span data-stu-id="36b4e-107">Together with the corresponding route, the formula defines the whole process in process manufacturing.</span></span> <span data-ttu-id="36b4e-108">Formler används för att planera och framställa produkter i processtillverkning.</span><span class="sxs-lookup"><span data-stu-id="36b4e-108">Formulas are used to plan and produce products in process manufacturing.</span></span>

<span data-ttu-id="36b4e-109">En formel består av de ingredienser och kvantiteter som krävs för att producera en viss kvantitet av en receptvara.</span><span class="sxs-lookup"><span data-stu-id="36b4e-109">A formula consists of the ingredients and quantities that are required in order to produce a specific quantity of a formula item.</span></span> <span data-ttu-id="36b4e-110">Beroende på vilken uppgift som du utför har du åtkomst till formelfunktionen via lagerstyrningen eller produktinformationshanteringen.</span><span class="sxs-lookup"><span data-stu-id="36b4e-110">Depending on the task that you perform, you can access formula functionality from Inventory and warehouse management or Product information management.</span></span>

## <a name="formulas-and-formula-lines"></a><span data-ttu-id="36b4e-111">Formler och formelrader</span><span class="sxs-lookup"><span data-stu-id="36b4e-111">Formulas and formula lines</span></span>
<span data-ttu-id="36b4e-112">En formel består av en eller flera formelrader som identifierar de ingredienser eller artiklar som ingår i formeln.</span><span class="sxs-lookup"><span data-stu-id="36b4e-112">A formula consists of one or more formula lines that identify the ingredients or items that make up the formula.</span></span> <span data-ttu-id="36b4e-113">En formelrad kan innehålla artiklar till en strukturlista, formelartiklar, artiklar för faktisk/nominell vikt, inköpta artiklar, delprodukter och biprodukter.</span><span class="sxs-lookup"><span data-stu-id="36b4e-113">A formula line can contain Bill of materials (BOM) items, formula items, catch-weight items, purchased items, co-products, or by-products.</span></span> <span data-ttu-id="36b4e-114">Eftersom många används i flera produkter kan en vara användas i flera formler.</span><span class="sxs-lookup"><span data-stu-id="36b4e-114">Because many items are used in multiple products, an item can be used in more than one formula.</span></span>

<span data-ttu-id="36b4e-115">Ett exempel på en formel är formeln för en chocolate chip-kaka.</span><span class="sxs-lookup"><span data-stu-id="36b4e-115">An example of a formula is the formula for a chocolate chip cookie.</span></span> <span data-ttu-id="36b4e-116">Ingredienserna till formeln använder flera rader, till exempel mjöl, socker, ägg, smör och chokladbitar.</span><span class="sxs-lookup"><span data-stu-id="36b4e-116">The ingredients for this formula use multiple lines, such as flour, sugar, eggs, butter, and chocolate chips.</span></span> <span data-ttu-id="36b4e-117">Formeln för chocolate chip-cookies innehåller komponenter som troligen används i andra formler.</span><span class="sxs-lookup"><span data-stu-id="36b4e-117">The formula for the chocolate chip cookie contains ingredients that are likely used in other formulas.</span></span> <span data-ttu-id="36b4e-118">När du gör chocolate chip cookies kanske det blir rester över, till exempel smulor, eller också kan vissa cookies gräddas för länge eller för kort.</span><span class="sxs-lookup"><span data-stu-id="36b4e-118">While you make the chocolate chip cookies, there might be leftovers, such as crumbs, or some of the cookies might be overbaked or undercooked.</span></span> <span data-ttu-id="36b4e-119">Dessa artiklar kan fungera som samprodukter eller biprodukter beroende på produktionsåtgärderna.</span><span class="sxs-lookup"><span data-stu-id="36b4e-119">These items can be set up as co-products or by-products, depending on the production operations.</span></span>

<span data-ttu-id="36b4e-120">När du skapar en formelrad använder du radtypen för att ange hur systemet ska hantera raden när du kör huvudplaneringen och framställer batchorder.</span><span class="sxs-lookup"><span data-stu-id="36b4e-120">When you create a formula line, you use the line type to indicate how the system should handle the line when you run master planning and produce batch orders.</span></span> <span data-ttu-id="36b4e-121">Olika radtyper ger olika resultat.</span><span class="sxs-lookup"><span data-stu-id="36b4e-121">Each line type gives a different result.</span></span> <span data-ttu-id="36b4e-122">I följande tabell beskrivs de radtyper som du kan markera.</span><span class="sxs-lookup"><span data-stu-id="36b4e-122">The following table describes the line types that you can select.</span></span> 

| <span data-ttu-id="36b4e-123">Radtyp</span><span class="sxs-lookup"><span data-stu-id="36b4e-123">Line type</span></span>     | <span data-ttu-id="36b4e-124">beskrivning</span><span class="sxs-lookup"><span data-stu-id="36b4e-124">Description</span></span>  |
|---------------|--------------|
| <span data-ttu-id="36b4e-125">Artikel</span><span class="sxs-lookup"><span data-stu-id="36b4e-125">Item</span></span>          | <span data-ttu-id="36b4e-126">Välj **Vara** när varan är råmaterial eller ett halvfabrikat som plockas från lagret eller när varan är en tjänst.</span><span class="sxs-lookup"><span data-stu-id="36b4e-126">Select **Item** when the item is a raw material or a semi-finished item that is picked from inventory or when the item is a service.</span></span> |
| <span data-ttu-id="36b4e-127">Fiktiv</span><span class="sxs-lookup"><span data-stu-id="36b4e-127">Phantom</span></span>       | <span data-ttu-id="36b4e-128">Välj **Fiktiv** när du vill bryta ned formelartiklar på lägre nivåer som finns på formelrader.</span><span class="sxs-lookup"><span data-stu-id="36b4e-128">Select **Phantom** when you want to explode any lower-level formula items that are contained on formula lines.</span></span> <span data-ttu-id="36b4e-129">När du uppskattar batchordern och formelartiklarna bryts, visas komponentartiklarna som formelrader i batchordern.</span><span class="sxs-lookup"><span data-stu-id="36b4e-129">When you estimate the batch order, and the formula items are exploded, the component items are listed as formula lines on the batch order.</span></span> <span data-ttu-id="36b4e-130">Dessutom läggs motsvarande flöden till i produktionsflödet.</span><span class="sxs-lookup"><span data-stu-id="36b4e-130">Additionally, the corresponding routes are added to the production route.</span></span> <span data-ttu-id="36b4e-131">Formelartiklar bryts ned genom att använda den aktuella konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="36b4e-131">Formula items are exploded by using the current configuration.</span></span> <span data-ttu-id="36b4e-132">När du använder radtypen **Fiktiv** kan du hantera produktions och måttkonfigurationer som sker på olika formelnivåer.</span><span class="sxs-lookup"><span data-stu-id="36b4e-132">When you use the **Phantom** line type, you can handle production and measurement configurations that occur at different formula levels.</span></span> <span data-ttu-id="36b4e-133">Om du väljer **Fiktiv** för en produkt på snabbfliken **Tekniker** på sidan **Frisläppt produktinformation** och sedan använder den här produkten i en formel, ändras radtypen för formelraden ändras till **Fiktiv**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-133">If you select **Phantom** for a product on the **Engineer** FastTab of the **Released product details** page and then use this product in a formula, the line type of the formula line is changed to **Phantom**.</span></span> <span data-ttu-id="36b4e-134">Du kan inte välja **Fiktiv** för en faktisk/nominell vikt eller för artiklar vars produktionstyp är **Samprodukt**, **Biprodukt** eller **Planeringsvara**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-134">You can't select **Phantom** for a catch-weight item, or for items where the production type is **Co-product**, **By-product**, or **Planning item**.</span></span> |
| <span data-ttu-id="36b4e-135">Peggad leverans</span><span class="sxs-lookup"><span data-stu-id="36b4e-135">Pegged supply</span></span> | <span data-ttu-id="36b4e-136">Välj **Peggad leverans** för att skapa batchorder, tillverkningsorder, kanban, överföringsorder eller inköpsorder för den komponent som finns på receptraden.</span><span class="sxs-lookup"><span data-stu-id="36b4e-136">Select **Pegged supply** to create a batch order, production order, kanban, transfer order, or purchase order for the ingredient that is contained on the formula line.</span></span> <span data-ttu-id="36b4e-137">Tillhörande order skapas baserat på standardinställningarna för order samt ingrediensernas produktionstyp, och skapas när du beräknar batch-ordern.</span><span class="sxs-lookup"><span data-stu-id="36b4e-137">The related order is determined based on the default order settings and the production type of the ingredient, and is created when you estimate the batch order.</span></span> <span data-ttu-id="36b4e-138">De begärda ingredienskvantiteterna reserveras för batchordern.</span><span class="sxs-lookup"><span data-stu-id="36b4e-138">The required ingredient quantities are reserved for the batch order.</span></span> |
| <span data-ttu-id="36b4e-139">Leverantör</span><span class="sxs-lookup"><span data-stu-id="36b4e-139">Vendor</span></span>        | <span data-ttu-id="36b4e-140">Markera **Leverantör** om tillverkningsprocessen använder en underleverantör och du vill skapa en underproduktions- eller inköpsorder för underleverantören.</span><span class="sxs-lookup"><span data-stu-id="36b4e-140">Select **Vendor** if the production process uses a subcontractor, and you want to create a sub-production or purchase order for the subcontractor.</span></span> <span data-ttu-id="36b4e-141">Den tjänst eller det arbete som underleverantören utför måste skapas genom att använda en formelvara eller en tjänstevara.</span><span class="sxs-lookup"><span data-stu-id="36b4e-141">The service or work that the subcontractor performs must be created by using a formula item or service item.</span></span> <span data-ttu-id="36b4e-142">Du kan koppla varan till den överordnade varan som en formelrad.</span><span class="sxs-lookup"><span data-stu-id="36b4e-142">You can attach the item to the parent item as a formula line.</span></span> <span data-ttu-id="36b4e-143">Flödet måste innehålla en operation som är tilldelad underleverantörens verksamhetsresurs.</span><span class="sxs-lookup"><span data-stu-id="36b4e-143">The route must contain an operation that is assigned to the subcontractor's operations resource.</span></span> <span data-ttu-id="36b4e-144">Denna åtgärd kopplas till formelraden via **Åtg.nr.**</span><span class="sxs-lookup"><span data-stu-id="36b4e-144">This operation is attached to the formula line by using the **Oper. No.**</span></span> <span data-ttu-id="36b4e-145">.</span><span class="sxs-lookup"><span data-stu-id="36b4e-145">field.</span></span> |

## <a name="formula-versions"></a><span data-ttu-id="36b4e-146">Formelversioner</span><span class="sxs-lookup"><span data-stu-id="36b4e-146">Formula versions</span></span>
<span data-ttu-id="36b4e-147">När du skapar en ny formel måste du först skapa en formelversion innan du lägger till artiklar och dessas specifika egenskaper i formelraden.</span><span class="sxs-lookup"><span data-stu-id="36b4e-147">When you create a new formula, you must first create a formula version before you add the formula line items and their specific characteristics.</span></span> <span data-ttu-id="36b4e-148">Alla formler måste ha minst en version.</span><span class="sxs-lookup"><span data-stu-id="36b4e-148">Every formula must have at least one version.</span></span> <span data-ttu-id="36b4e-149">Knappen **Godkänd** på en formelversion blir tillgänglig först efter det att en versionspost har sparats.</span><span class="sxs-lookup"><span data-stu-id="36b4e-149">The **Approved** button on a formula version becomes available only after a version record has been successfully saved.</span></span> <span data-ttu-id="36b4e-150">Varje formelversionspost kopplas till en eller flera samprodukter och biprodukter som kan tillverkas när du tillverkar den färdiga produkten.</span><span class="sxs-lookup"><span data-stu-id="36b4e-150">Each formula version record is associated with one or many co-products and by-products that can be produced as you produce the finished product.</span></span> <span data-ttu-id="36b4e-151">Många produkter kan framställas av samma ingredienser i olika batch-storlekar, i multipler eller genom att använda olika kapaciteter.</span><span class="sxs-lookup"><span data-stu-id="36b4e-151">Many products can be made from the same ingredients in different batch sizes, in multiples, or by using different yields.</span></span> <span data-ttu-id="36b4e-152">Du kan skapa så många formelversioner som du behöver.</span><span class="sxs-lookup"><span data-stu-id="36b4e-152">You can create as many versions of a formula as you require.</span></span>

<span data-ttu-id="36b4e-153">Använd gällande datumintervall eller antalsfältet ”Från” för att hantera flera aktiva formelversioner.</span><span class="sxs-lookup"><span data-stu-id="36b4e-153">To manage multiple active formula versions, use effective date ranges or "from" quantity fields.</span></span> <span data-ttu-id="36b4e-154">Flera aktiva formelversioner kan endast finnas om datumspannet och kvantiteten ”från” inte överlappar varandra.</span><span class="sxs-lookup"><span data-stu-id="36b4e-154">Multiple active formula versions can exist only if the date range and "from" quantity don't overlap.</span></span>

<span data-ttu-id="36b4e-155">Till skillnad från strukturlistor, där en strukturlista ofta associeras med flera strukturlisteversioner, förekommer normalt endast en formelversion per formel.</span><span class="sxs-lookup"><span data-stu-id="36b4e-155">Unlike BOMs, where one BOM is often associated with many BOM versions, only one formula version typically exists per formula.</span></span> <span data-ttu-id="36b4e-156">Kom ihåg att endast en formelversion kan aktiveras för disponeringsdimension och kvantitet för en viss produkt.</span><span class="sxs-lookup"><span data-stu-id="36b4e-156">Remember that only one formula version can be activated for the coverage dimensions and quantity for a given product.</span></span> <span data-ttu-id="36b4e-157">Det kan emellertid finnas många receptversioner av andra skäl, och du kan markera dessa manuellt när du skapar en batchorder.</span><span class="sxs-lookup"><span data-stu-id="36b4e-157">However, many formula versions might exist for other reasons, and you can manually select them when you create a batch order.</span></span>

## <a name="approve-and-activate-formulas-and-formula-versions"></a><span data-ttu-id="36b4e-158">Godkänn och aktivera formler och formelversioner</span><span class="sxs-lookup"><span data-stu-id="36b4e-158">Approve and activate formulas and formula versions</span></span>
<span data-ttu-id="36b4e-159">Formler och formelversioner måste godkännas innan de kan användas för planering och produktion.</span><span class="sxs-lookup"><span data-stu-id="36b4e-159">Formulas and formula versions must be approved before they can be used for planning and production.</span></span> <span data-ttu-id="36b4e-160">Formler är vanligtvis aktiverade innan de används.</span><span class="sxs-lookup"><span data-stu-id="36b4e-160">Formulas are usually activated before they are used.</span></span> <span data-ttu-id="36b4e-161">I samband med produktion kan du emellertid välja en formelversion som har godkänts men som inte är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="36b4e-161">However, during production, you can select a formula version that is approved, but that isn't activated.</span></span>

<span data-ttu-id="36b4e-162">Du kan ange parametrarna **Blockera redigering** och **Blockera borttagande av godkännande** på sidan **Produktionskontrollparametrar** för att säkra en formel eller en formelversion.</span><span class="sxs-lookup"><span data-stu-id="36b4e-162">To help secure a formula or formula version, you can set the **Block editing** and **Block removal of approval** parameters on the **Production control parameters** page.</span></span>

<span data-ttu-id="36b4e-163">Om du väljer **Blockera redigering** och formeln godkänns, kan inga fält i formelraderna tas bort eller redigeras.</span><span class="sxs-lookup"><span data-stu-id="36b4e-163">If you select **Block editing**, and the formula is approved, no fields on the formula lines can be deleted or edited.</span></span> <span data-ttu-id="36b4e-164">Om du tar bort godkännandet av receptet du emellertid ta bort och ändra formelraderna.</span><span class="sxs-lookup"><span data-stu-id="36b4e-164">However, if you remove the approval of the formula, you can delete and modify the formula lines.</span></span> <span data-ttu-id="36b4e-165">Du kan också skapa nya formler och nya formelversioner.</span><span class="sxs-lookup"><span data-stu-id="36b4e-165">You can also create new formulas and new formula versions.</span></span>

<span data-ttu-id="36b4e-166">Om du väljer **Blockera borttagande av godkännande** kan du inte ta bort godkännandet av en godkänd formel eller formelversion.</span><span class="sxs-lookup"><span data-stu-id="36b4e-166">If you select **Block removal of approval**, you can't remove the approval of an approved formula or formula version.</span></span> <span data-ttu-id="36b4e-167">Du kan emellertid skapa nya formler och nya formelversioner, och du kan ta bort aktiveringen av formelversionen.</span><span class="sxs-lookup"><span data-stu-id="36b4e-167">However, you can create new formulas and new formula versions, and you can remove the activation of the formula version.</span></span>

<span data-ttu-id="36b4e-168">Du kan lägga till flera nivåer av kontroll med hjälp av funktionen för elektronisk signatur.</span><span class="sxs-lookup"><span data-stu-id="36b4e-168">You can add more levels of control by using the electronic signature functionality.</span></span> <span data-ttu-id="36b4e-169">När en användare har ställts in så att en elektronisk signatur krävs vid tidpunkten för formelgodkännande, visas en **Signatur**-sida när formeln är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="36b4e-169">When a user is set up so that an electronic signature is required at the time of formula approval, a **Signature** page appears when the formula is activated.</span></span> <span data-ttu-id="36b4e-170">Användaren måste vara auktoriserad att signera elektroniskt, och intyget måste valideras innan ändringen kan bekräftas.</span><span class="sxs-lookup"><span data-stu-id="36b4e-170">The user must be authorized to sign electronically, and the certificate must be successfully validated before the change can be committed.</span></span> <span data-ttu-id="36b4e-171">Om signaturen inte kan verifieras nekas godkännandet eller borttagningen av godkännandet, och ändringen som initierade godkännandet eller borttagningen av godkännandet återgår till sitt ursprungliga tillstånd.</span><span class="sxs-lookup"><span data-stu-id="36b4e-171">If the signature can't be authenticated, the approval or removal of approval is denied, and the change that initiated the approval or removal of approval is returned to its original state.</span></span>

## <a name="use-the-scalable-feature"></a><span data-ttu-id="36b4e-172">Använd funktionen Skalbar</span><span class="sxs-lookup"><span data-stu-id="36b4e-172">Use the Scalable feature</span></span>
<span data-ttu-id="36b4e-173">Funktionen Skalbar finns bara om samtliga formelns varukomponenter har angetts som **Variabel förbrukning**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-173">The Scalable feature is available only if all the item components in the formula are set to **Variable consumption**.</span></span> <span data-ttu-id="36b4e-174">Funktionen är inte tillgänglig om varukomponenterna är angivna som **Fast förbrukning** eller **Stegförbrukning**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-174">The feature isn't available if item components are set to **Fixed consumption** or **Step consumption**.</span></span> <span data-ttu-id="36b4e-175">Om du ändrar en ingrediens i en formel när den skalbara funktionen är i bruk, kommer kvantiteten för de andra ingredienserna som du väljer att justeras.</span><span class="sxs-lookup"><span data-stu-id="36b4e-175">When the Scalable feature is used, if you change an ingredient in a formula, the quantity of the other ingredients that you select is adjusted.</span></span> <span data-ttu-id="36b4e-176">Storleken på receptet justeras också.</span><span class="sxs-lookup"><span data-stu-id="36b4e-176">The size of the formula is also adjusted.</span></span> <span data-ttu-id="36b4e-177">På samma sätt kommer kvantiteten av samtliga skalbara ingredienser att ändras om du ändrar formelstorleken.</span><span class="sxs-lookup"><span data-stu-id="36b4e-177">Likewise, if you change the formula size, the quantity of all scalable ingredients is changed.</span></span> <span data-ttu-id="36b4e-178">Den här funktionen är avsedd specifikt för formelskapande och underhåll.</span><span class="sxs-lookup"><span data-stu-id="36b4e-178">This feature is intended specifically for formula creation and maintenance.</span></span> <span data-ttu-id="36b4e-179">Den anger inte om mängden av en ingrediens skalas uppåt eller nedåt i en batch.</span><span class="sxs-lookup"><span data-stu-id="36b4e-179">It doesn't indicate whether the quantity of an ingredient will be scaled up or down on a batch order.</span></span>

## <a name="use-step-consumption"></a><span data-ttu-id="36b4e-180">Använd stegförbrukning</span><span class="sxs-lookup"><span data-stu-id="36b4e-180">Use Step consumption</span></span>
<span data-ttu-id="36b4e-181">Stegförbrukning eliminerar kravet att ange en kvantitet för en ingrediens på fliken **Formelrad**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-181">Step consumption eliminates the requirement that you must enter a quantity on the **Formula line** tab for an ingredient.</span></span> <span data-ttu-id="36b4e-182">Stegförbrukning har istället konfigurerats att ha ett **Från serie**-värde och ett **Kvantitet**-värde.</span><span class="sxs-lookup"><span data-stu-id="36b4e-182">Instead, Step consumption is configured so that it has a **From series** value and a **Quantity** value.</span></span> <span data-ttu-id="36b4e-183">Informationen från den Stegförbrukning per serie-post som uppfyller kvantiteten i batch-ordern väljs.</span><span class="sxs-lookup"><span data-stu-id="36b4e-183">The information from the Step consumption per series record that satisfies the quantity on the batch order is selected.</span></span> <span data-ttu-id="36b4e-184">Stegförbrukningen är användbar när förbrukningstakten inte är linjär med avseende på batchorderns storlek, och ökar behovet endast när en viss kvantitetströskel uppnås.</span><span class="sxs-lookup"><span data-stu-id="36b4e-184">Step consumption is useful when the consumption rate isn't linear with respect to the batch order size and only increases the requirement when a specific quantity threshold is met.</span></span> <span data-ttu-id="36b4e-185">Du aktiverar funktionen för en ny formel i gruppen **Förbrukningsberäkning** och ändra formelinställningen för tillämpbar ingrediens från **Standard** till **Steg**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-185">To enable this feature for a new formula, under the **Consumption calculation** group, change the formula setting for the applicable ingredient from **Standard** to **Step**.</span></span> <span data-ttu-id="36b4e-186">Du anger denna förbrukningsmetod på fliken **Inställningar** på sidan **Formelrad**.</span><span class="sxs-lookup"><span data-stu-id="36b4e-186">You specify this consumption method on the **Setup** tab of the **Formula line** page.</span></span>

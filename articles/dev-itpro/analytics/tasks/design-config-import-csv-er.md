--- 
title: "Utforma en konfiguration för att importera data från en extern fil i CSV-format (ER)"
description: "Använd den här guiden för att designa ER-konfigurationer för elektronisk rapportering som importerar data till programmet Dynamics 365 for Finance and Operations från en extern fil i CSV-format."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: a8b5a5af5108744406a3d2fb84d7151baea2481b
ms.openlocfilehash: 0859eb7bf461f61396c34f4bcd89537260a536a0
ms.contentlocale: sv-se
ms.lasthandoff: 04/13/2018

---
# <a name="design-a-configuration-to-import-data-from-an-external-file-in-csv-format-er"></a><span data-ttu-id="41dee-103">Utforma en konfiguration för att importera data från en extern fil i CSV-format (ER)</span><span class="sxs-lookup"><span data-stu-id="41dee-103">Design a configuration to import data from an external file in CSV format (ER)</span></span>

[!INCLUDE [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="41dee-104">Använd den här guiden för att designa ER-konfigurationer för elektronisk rapportering som importerar data till programmet Dynamics 365 for Finance and Operations från en extern fil i CSV-format.</span><span class="sxs-lookup"><span data-stu-id="41dee-104">Use this procedure to design Electronic reporting (ER) configurations to import data in to the Dynamics 365 for Finance and Operations application from an external file in CSV format.</span></span> <span data-ttu-id="41dee-105">I den här proceduren skapar du de ER-konfigurationer som krävs för exempelföretaget Litware, Inc. För att slutföra stegen måste du först slutföra stegen i proceduren ”ER skapa en konfigurationsleverantör” och markera den som aktiv.</span><span class="sxs-lookup"><span data-stu-id="41dee-105">In this procedure, you will create the required ER configurations for the sample company, Litware, Inc. To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span> 

<span data-ttu-id="41dee-106">Den här proceduren har skapats för användare med rollen Systemadministratör eller Utvecklare för elektronisk rapportering.</span><span class="sxs-lookup"><span data-stu-id="41dee-106">This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> <span data-ttu-id="41dee-107">Stegen kan utföras med hjälp av datauppsättningen USMF.</span><span class="sxs-lookup"><span data-stu-id="41dee-107">These steps can be completed using the USMF data set.</span></span> 

<span data-ttu-id="41dee-108">Du måste också hämta och spara följande filer lokalt: (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span><span class="sxs-lookup"><span data-stu-id="41dee-108">You must also download and save the following files locally: (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span></span>

1. <span data-ttu-id="41dee-109">Gå till Organisationsadministration > Arbetsytor > Elektronisk rapportering.</span><span class="sxs-lookup"><span data-stu-id="41dee-109">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="41dee-110">Du kan konfigurera en process för att importera externa filer i XML-, CSV- eller TXT-format till register i programmet Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="41dee-110">You can configure a process to import external files in XML, TXT, or CSV format to tables in the Dynamics 365 for Finance and Operations application.</span></span> <span data-ttu-id="41dee-111">Först måste du skapa en abstrakt datamodell för att representera importerade data från affärssynpunkt – en konfiguration av ER-datamodell skapas för den.</span><span class="sxs-lookup"><span data-stu-id="41dee-111">First, you must create an abstract data model to represent the imported data, from a business standpoint – an ER data model configuration is created for that.</span></span> <span data-ttu-id="41dee-112">Härnäst definiera en struktur av den importerade filen som mappas till den utformade datamodellen för att bära data från filen till den abstrakt datamodellen – en ER-formatkonfiguration skapas för den importerade filen.</span><span class="sxs-lookup"><span data-stu-id="41dee-112">Next, define a structure of the imported file that maps to the designed data model as the way to port data from the file to the abstract data model – an ER format configuration is created for that.</span></span> <span data-ttu-id="41dee-113">Därefter måste ER-modellkonfiguration utökas med en ny modellmappning som beskriver hur data från den importerade filen bevaras som data för en abstrakt datamodell, samt hur den används för att uppdatera programtabellerna eller dataenheterna.</span><span class="sxs-lookup"><span data-stu-id="41dee-113">Then, the ER data model configuration must be extended with a new model mapping that describes how the data from the imported file and the persisted data from the abstract data model is used to update the application tables or data entities.</span></span>  
    * <span data-ttu-id="41dee-114">I följande steg visas hur externt spårade leverantörers transaktioner importeras från extern CSV-fil för senare användning i leverantörskvittning för 1099-rapportering.</span><span class="sxs-lookup"><span data-stu-id="41dee-114">The following steps show how externally tracked vendors’ transactions are imported from the external CSV file for later use in the vendor’s settlement for 1099’s forms.</span></span>   
    * <span data-ttu-id="41dee-115">Kontrollera att konfigurationsleverantören för provföretaget Litware, Inc. är markerad som aktiv och tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="41dee-115">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="41dee-116">Om du inte ser den här konfigurationsleverantören måste du först slutföra stegen i proceduren "Skapa en konfigurationsleverantör och välj den som aktiv”.</span><span class="sxs-lookup"><span data-stu-id="41dee-116">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>  
2. <span data-ttu-id="41dee-117">Klicka på Reporting configurations.</span><span class="sxs-lookup"><span data-stu-id="41dee-117">Click Reporting configurations.</span></span>
3. <span data-ttu-id="41dee-118">Tillämpa filtret Betalningsmodell 1099.</span><span class="sxs-lookup"><span data-stu-id="41dee-118">Apply the '1099 Payments model' filter.</span></span> <span data-ttu-id="41dee-119">Om du redan har slutförts proceduren ”ER Skapa erforderliga konfigurationer för att importera data från en extern fil för elektronisk rapportering” och konfigurationen ”1099 betalningsmodell" finns i konfigurationsträdet, hoppa över alla stegen i nästa underaktivitet.</span><span class="sxs-lookup"><span data-stu-id="41dee-119">If you already completed the procedure,” ER Create required configurations to import data from an external file for electronic reporting”, and the ‘1099 Payments model’ configuration is available in the configuration tree, skip all of the steps in the next sub-task.</span></span>   

## <a name="add-a-new-er-model-configuration"></a><span data-ttu-id="41dee-120">Lägg till en ny konfiguration för ER-modell</span><span class="sxs-lookup"><span data-stu-id="41dee-120">Add a new ER model configuration</span></span>
1. <span data-ttu-id="41dee-121">Ladda filen 1099model.xml som du tidigare hämtade, istället för att skapa en ny modell för dataimporten.</span><span class="sxs-lookup"><span data-stu-id="41dee-121">Instead of creating a new model to support data import, load the 1099model.xml file that you previously downloaded.</span></span> <span data-ttu-id="41dee-122">Filen innehåller den anpassade datamodellen för leverantörtransaktioner.</span><span class="sxs-lookup"><span data-stu-id="41dee-122">This file contains the custom data model of vendors’ transactions.</span></span> <span data-ttu-id="41dee-123">Denna datamodell är redan mappad till nödvändiga komponenter.</span><span class="sxs-lookup"><span data-stu-id="41dee-123">This data model is already mapped to the necessary data components.</span></span>  
2. <span data-ttu-id="41dee-124">Klicka på Byt.</span><span class="sxs-lookup"><span data-stu-id="41dee-124">Click Exchange.</span></span>
3. <span data-ttu-id="41dee-125">Klicka på Läs in från XML-fil.</span><span class="sxs-lookup"><span data-stu-id="41dee-125">Click Load from XML file.</span></span>
4. <span data-ttu-id="41dee-126">Klicka på Bläddra och navigera till filen 1099model.xml som du hämtade tidigare.</span><span class="sxs-lookup"><span data-stu-id="41dee-126">Click Browse and navigate to the 1099model.xml file that you previously downloaded.</span></span>  
5. <span data-ttu-id="41dee-127">Klicka på OK.</span><span class="sxs-lookup"><span data-stu-id="41dee-127">Click OK.</span></span>

## <a name="add-a-new-er-format-configuration-that-supports-data-import"></a><span data-ttu-id="41dee-128">Lägg till en ny konfiguration för ER-format som stöder import av data</span><span class="sxs-lookup"><span data-stu-id="41dee-128">Add a new ER format configuration that supports data import</span></span>
1. <span data-ttu-id="41dee-129">Välj "Betalningsmodell 1099" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-129">In the tree, select '1099 Payments model'.</span></span>
2. <span data-ttu-id="41dee-130">Klicka på Skapa konfiguration om du vill öppna dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="41dee-130">Click Create configuration to open the drop dialog.</span></span>
3. <span data-ttu-id="41dee-131">Ange "Format som baseras på datamodellen Betalningsmodell 1099" i fältet Ny.</span><span class="sxs-lookup"><span data-stu-id="41dee-131">In the New field, enter 'Format based on data model 1099 Payments model'.</span></span>
4. <span data-ttu-id="41dee-132">Välj Ja i fältet Stöder dataimport.</span><span class="sxs-lookup"><span data-stu-id="41dee-132">Select Yes in the Supports data import field.</span></span>
5. <span data-ttu-id="41dee-133">Tryck på ESC för att stänga den här sidan.</span><span class="sxs-lookup"><span data-stu-id="41dee-133">Press ESC key to close this page.</span></span>
    * <span data-ttu-id="41dee-134">Ladda filen 1099formatcsv.xml som du tidigare hämtade, istället för att skapa ett nytt ER-format för dataimporten.</span><span class="sxs-lookup"><span data-stu-id="41dee-134">Instead of creating a new ER format to support data import, load the 1099formatcsv.xml file that you previously downloaded.</span></span> <span data-ttu-id="41dee-135">Denna fil innehåller krävt ER-format som definierar strukturen för inkommande CVS-fil och mappning av denna struktur till leverantörstransaktionernas anpassade datamodell.</span><span class="sxs-lookup"><span data-stu-id="41dee-135">This file contains the required ER format that defines the structure of the incoming CSV file and the mapping of this structure to the data model of the vendors’ transactions.</span></span>   
6. <span data-ttu-id="41dee-136">Klicka på Byt.</span><span class="sxs-lookup"><span data-stu-id="41dee-136">Click Exchange.</span></span>
7. <span data-ttu-id="41dee-137">Klicka på Läs in från XML-fil.</span><span class="sxs-lookup"><span data-stu-id="41dee-137">Click Load from XML file.</span></span>
    * <span data-ttu-id="41dee-138">Klicka på Bläddra och navigera till filen 1099formatcsv.xml som du hämtade tidigare.</span><span class="sxs-lookup"><span data-stu-id="41dee-138">Click Browse and navigate to the 1099formatcsv.xml file that you previously downloaded.</span></span>  
8. <span data-ttu-id="41dee-139">Klicka på OK.</span><span class="sxs-lookup"><span data-stu-id="41dee-139">Click OK.</span></span>
9. <span data-ttu-id="41dee-140">Expandera "Betalningsmodell 1099" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-140">In the tree, expand '1099 Payments model'.</span></span>
10. <span data-ttu-id="41dee-141">Välj "1099 Payments model\For importing vendors' transactions (CSV)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-141">In the tree, select '1099 Payments model\For importing vendors' transactions (CSV)'.</span></span>

## <a name="review-format-settings"></a><span data-ttu-id="41dee-142">Granska formatinställningar</span><span class="sxs-lookup"><span data-stu-id="41dee-142">Review format settings</span></span>
1. <span data-ttu-id="41dee-143">Klicka på Designer.</span><span class="sxs-lookup"><span data-stu-id="41dee-143">Click Designer.</span></span>
2. <span data-ttu-id="41dee-144">Klicka på Expandera/Komprimera.</span><span class="sxs-lookup"><span data-stu-id="41dee-144">Click Expand/collapse.</span></span>
3. <span data-ttu-id="41dee-145">Ange "Visa detaljerad information" som PÅ.</span><span class="sxs-lookup"><span data-stu-id="41dee-145">Toggle ‘Show details’ on.</span></span>
    * <span data-ttu-id="41dee-146">Det utformade formatet representerar den externa filens förväntade struktur i CVS-format.</span><span class="sxs-lookup"><span data-stu-id="41dee-146">The designed format represents the expected structure of the external file in CSV format.</span></span>  
4. <span data-ttu-id="41dee-147">Välj "Incoming: File\Root: Sequence" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-147">In the tree, select 'Incoming: File\Root: Sequence'.</span></span>
    * <span data-ttu-id="41dee-148">För Root-elementet av typen SEQUENCE har alternativet "Ny rad - Windows (CR LF)" valts i fältet "Specialtecken".</span><span class="sxs-lookup"><span data-stu-id="41dee-148">For the Root element of the type SEQUENCE, the option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="41dee-149">Utifrån den här inställningen beaktas varje rad i parsingfilen som en separat post.</span><span class="sxs-lookup"><span data-stu-id="41dee-149">Based on this setting, each line in the parsing file must be considered as a separate record.</span></span>   
5. <span data-ttu-id="41dee-150">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* " i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-150">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* '.</span></span>
    * <span data-ttu-id="41dee-151">För elementen Root\Line av typen SEQUENCE, måste alternativet "Ett många" ha valts i fältet "Sammansatt".</span><span class="sxs-lookup"><span data-stu-id="41dee-151">For the Root\Line element of the type SEQUENCE, the option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="41dee-152">Baserat på denna inställning visas på minst en rad i parsingfilen.</span><span class="sxs-lookup"><span data-stu-id="41dee-152">Based on this setting, at least one line will be presented in the parsing file.</span></span>   
6. <span data-ttu-id="41dee-153">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-153">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case'.</span></span>
    * <span data-ttu-id="41dee-154">Observera att elementen Root\Line\Types av typen CASE har lagts till som det kapslade elementet i Root\Line sequence.</span><span class="sxs-lookup"><span data-stu-id="41dee-154">Note that the Root\Line\Types element of the type CASE has been added as the nested element of the Root\Line sequence.</span></span> <span data-ttu-id="41dee-155">Eftersom det här CASE-elementet innehåller 3 kapslade sekvenselement, förutsätter inställningen att vi förväntar oss att uppfylla 3 olika typer av rad i parsingfilen.</span><span class="sxs-lookup"><span data-stu-id="41dee-155">Because this CASE element contains 3 nested sequence elements, this setting assumes that we expect to meet 3 different types of line in the parsing file.</span></span>   
7. <span data-ttu-id="41dee-156">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Header: Sequence 1..1 i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-156">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Header: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="41dee-157">Element Root\Line\Types\Header av typen SEQUENCE innehåller kapslade STRING-element vars värde har definierats som fasta strängvärdet.</span><span class="sxs-lookup"><span data-stu-id="41dee-157">The Root\Line\Types\Header element of the type SEQUENCE contains the nested STRING element the value of which has been defined as the fixed string value.</span></span> <span data-ttu-id="41dee-158">Den här sekvensen kan tolka rubrikraden i parsingfilen.</span><span class="sxs-lookup"><span data-stu-id="41dee-158">This sequence will parse the header line of the parsing file.</span></span>   
8. <span data-ttu-id="41dee-159">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-159">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="41dee-160">Elementen Root\Line\Types\Record av typen SEQUENCE, har konfigurerats för att parsa transaktionsraderna.</span><span class="sxs-lookup"><span data-stu-id="41dee-160">The Root\Line\Types\Record element of the type SEQUENCE, has been configured to parse the transaction lines.</span></span> <span data-ttu-id="41dee-161">Observera att teckenalternativet Anpassad avgränsare har konfigurerats som ett komma.</span><span class="sxs-lookup"><span data-stu-id="41dee-161">Note that the ‘Custom delimiter’ character option has been configured as a comma.</span></span> <span data-ttu-id="41dee-162">Detta innebär att ett kommatecken används som avgränsare i ett fält för den här raden i parsingfilen.</span><span class="sxs-lookup"><span data-stu-id="41dee-162">This means that the comma will be used as a fields’ separator for this type of line in the parsing file.</span></span>   
    * <span data-ttu-id="41dee-163">Lägg märke till att flera kapslade element av olika datatyper har lagts till för elementet Root\Line\Types\Record för parsing av transaktionsrader som avgränsade fält.</span><span class="sxs-lookup"><span data-stu-id="41dee-163">Note that several nested elements of different data types have been added for the Root\Line\Types\Record element for parsing the transaction’s lines as separated fields.</span></span> <span data-ttu-id="41dee-164">Observera att alternativet ”Offertprogram” har konfigurerats som "Inget".</span><span class="sxs-lookup"><span data-stu-id="41dee-164">Note that the ‘Quotation application’ option has been configured as ‘None’.</span></span> <span data-ttu-id="41dee-165">Detta innebär att alla fält av den här typen i parsingfilen ska betraktas som det inte har några bifogade tecken.</span><span class="sxs-lookup"><span data-stu-id="41dee-165">This means that in the parsing file, all fields of this type will be considered as having no enclosed characters.</span></span>   
9. <span data-ttu-id="41dee-166">Välj "File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\TransactionDate: DateTime" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-166">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\TransactionDate: DateTime'.</span></span>
    * <span data-ttu-id="41dee-167">Exempelvis elementen Root\Line\Types\Record\TransactionDate av typen DATETIME har konfigurerats för att få transaktionens datum och tid från parsingfilen i formatet M/D/ÅÅÅÅ.</span><span class="sxs-lookup"><span data-stu-id="41dee-167">For example, the Root\Line\Types\Record\TransactionDate element of the type DATETIME has been configured to get the transaction’s date and time value from the parsing file in the ‘M/d/yyyy’ format.</span></span>   
10. <span data-ttu-id="41dee-168">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\CountryCode: String 0..1 " " i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-168">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\CountryCode: String 0..1 '.</span></span>
    * <span data-ttu-id="41dee-169">Observera att alementet Root\Line\Types\Record\CountryCode av typen STRING har konfigurerats med alternativet Noll ett i fältet "Sammansatt".</span><span class="sxs-lookup"><span data-stu-id="41dee-169">Note that Root\Line\Types\Record\CountryCode element of the type STRING has been configured as having the option ‘Zero one’ in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="41dee-170">Den här inställningen anser värdet av CountryCode-fältet i analyseringsraden som valfritt.</span><span class="sxs-lookup"><span data-stu-id="41dee-170">This setting considers the value of the CountryCode field in the parsing line as optional.</span></span>   
11. <span data-ttu-id="41dee-171">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\Remark: Sequence 1..1 (,)" i trädet</span><span class="sxs-lookup"><span data-stu-id="41dee-171">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\Remark: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="41dee-172">Observera att elementet Root\Line\Types\Record\Remark av typen SEQUENCE har konfigurerats som tecken i fältet citattecken med alternativet ”alla” i fältet ”Offertprogram” i dubbla citattecken.</span><span class="sxs-lookup"><span data-stu-id="41dee-172">Note that Root\Line\Types\Record\Remark element of the type SEQUENCE has been configured as having the option ‘All’ in the ‘Quotation application’ field and double quotes character in the ‘Quotation mark’ field.</span></span> <span data-ttu-id="41dee-173">Detta innebär att alla fält av den här typen av rader i parsingfilen (beskrivs i kapslade element: Text av typen STRING) betraktas omgiven av dubbelt citattecken.</span><span class="sxs-lookup"><span data-stu-id="41dee-173">It means that all fields of this type of lines in the parsing file (described by the nested elements: Text of the STRING type) will be considered as enclosed in double quotes characters.</span></span>  
12. <span data-ttu-id="41dee-174">Välj "Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Unparsed: Sequence 1..1 " i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-174">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Unparsed: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="41dee-175">Elementen Root\Line\Types\Unparsed av typen SEQUENCE har konfigurerats så för att tolka transaktionsrader för strukturen som inte matchar den struktur som beskrivs ovan i det överordnade elementet CASE.</span><span class="sxs-lookup"><span data-stu-id="41dee-175">The Root\Line\Types\Unparsed element of the type SEQUENCE has been configured to parse the transaction lines for the structure which does not match the structure described above in the parent CASE element.</span></span>   

## <a name="review-the-setting-of-the-format-mapping-to-the-data-model"></a><span data-ttu-id="41dee-176">Kontrollera inställningarna för formatmappningen till datamodellen</span><span class="sxs-lookup"><span data-stu-id="41dee-176">Review the setting of the format mapping to the data model</span></span>
1. <span data-ttu-id="41dee-177">Klicka på Mappa format till modell.</span><span class="sxs-lookup"><span data-stu-id="41dee-177">Click Map format to model.</span></span>
    * <span data-ttu-id="41dee-178">Modellmappning ”mappa till modell från CSV-format" beskriver dataflödet för dataöverföringen från den inkommande CSV-filen till datamodellen.</span><span class="sxs-lookup"><span data-stu-id="41dee-178">The model mapping ‘Mapping to model from CSV format’ describes the data flow of the data transfer from the incoming CSV file to the data model.</span></span>   
2. <span data-ttu-id="41dee-179">Klicka på Designer.</span><span class="sxs-lookup"><span data-stu-id="41dee-179">Click Designer.</span></span>
3. <span data-ttu-id="41dee-180">Expandera format i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-180">In the tree, expand 'format'.</span></span>
    * <span data-ttu-id="41dee-181">Observera att det utformade formatet här presenteras som en datakällekomponent.</span><span class="sxs-lookup"><span data-stu-id="41dee-181">Note that the designed format is presented here as a data source component.</span></span>  
4. <span data-ttu-id="41dee-182">Expandera "format\Incoming: File(Incoming)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-182">In the tree, expand 'format\Incoming: File(Incoming)'.</span></span>
5. <span data-ttu-id="41dee-183">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-183">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)'.</span></span>
6. <span data-ttu-id="41dee-184">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-184">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)'.</span></span>
7. <span data-ttu-id="41dee-185">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-185">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)'.</span></span>
8. <span data-ttu-id="41dee-186">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-186">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)'.</span></span>
9. <span data-ttu-id="41dee-187">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-187">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data'.</span></span>
10. <span data-ttu-id="41dee-188">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\CountryCode: String 0..1 (CountryCode)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-188">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\CountryCode: String 0..1 (CountryCode)'.</span></span>
11. <span data-ttu-id="41dee-189">Expandera "format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\TransactionDate: DateTime(TransactionDate)" i trädet.</span><span class="sxs-lookup"><span data-stu-id="41dee-189">In the tree, select 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\TransactionDate: DateTime(TransactionDate)'.</span></span>
    * <span data-ttu-id="41dee-190">Observera att obligatoriska och valfria formatetelement, till exempel TransactionDate och CountryCode, ser annorlunda ut i komponenten fördefinierat format datakälla.</span><span class="sxs-lookup"><span data-stu-id="41dee-190">Note that the required and optional format elements, such as TransactionDate and CountryCode, look different in the predefined ‘format’ data source component.</span></span>   
12. <span data-ttu-id="41dee-191">Expandera Transactions= = '$both''.</span><span class="sxs-lookup"><span data-stu-id="41dee-191">In the tree, expand 'Transactions = '$both''.</span></span>
    * <span data-ttu-id="41dee-192">Observera att elementen i det format som definierar strukturen i den importerade filen är bundna av elementen i datamodellen.</span><span class="sxs-lookup"><span data-stu-id="41dee-192">Note that the elements of the format that defines the structure of the imported file are bound to the elements of the data model.</span></span> <span data-ttu-id="41dee-193">Utifrån dessa bindningar kan innehållet i den importerade CSV-filen lagras i den befintliga datamodellen vid körning.</span><span class="sxs-lookup"><span data-stu-id="41dee-193">Based on these bindings, the content of the imported CSV file will be stored at run-time in the existing data model.</span></span> <span data-ttu-id="41dee-194">Ta hänsyn till bindningen för nations/regions-elementet.</span><span class="sxs-lookup"><span data-stu-id="41dee-194">Pay attention to the binding of the CountryRegion element.</span></span> <span data-ttu-id="41dee-195">För transaktionselement i den importerade filen utan specificerad landskod kommer standardkoden "USA" att användas i datamodellen.</span><span class="sxs-lookup"><span data-stu-id="41dee-195">For any transaction element in the incoming file that does not have a country code value specified, the default country code ‘USA’ will be populated in the data model.</span></span>   
13. <span data-ttu-id="41dee-196">Ange "Visa detaljerad information".</span><span class="sxs-lookup"><span data-stu-id="41dee-196">Toggle on ‘Show details’.</span></span>
14. <span data-ttu-id="41dee-197">Klicka på fliken Valideringar.</span><span class="sxs-lookup"><span data-stu-id="41dee-197">Click the Validations tab.</span></span>
15. <span data-ttu-id="41dee-198">Klicka på Sök.</span><span class="sxs-lookup"><span data-stu-id="41dee-198">Click Search.</span></span>
16. <span data-ttu-id="41dee-199">Ange "Vend" i fältet Sök.</span><span class="sxs-lookup"><span data-stu-id="41dee-199">In the Find field, type 'vend'.</span></span>
17. <span data-ttu-id="41dee-200">Klicka på Sök nästa.</span><span class="sxs-lookup"><span data-stu-id="41dee-200">Click Find next.</span></span>
    * <span data-ttu-id="41dee-201">Denna formatmappning kan innehålla användardefinierad logik för att validera korrektheten i den importerade datan ur ett företagsperspektiv.</span><span class="sxs-lookup"><span data-stu-id="41dee-201">This format mapping may contain user-defined logic to validate the accuracy of the imported data from a business standpoint.</span></span> <span data-ttu-id="41dee-202">Till exempel, baserat på inställningen, för varje rad i importfilen, vars struktur inte matchar varken strukturen hos rubriklinjen eller transaktionslinjen, kommer ett varningsmeddelande att genereras i Infolog för att informera användaren om detta fall, vilket indikerar transaktionens sekvensnummer i filen.</span><span class="sxs-lookup"><span data-stu-id="41dee-202">For example, based on the setting, for any line in the importing file the structure of which does not match neither the structure of the header line nor transaction line, a warning message will be generated in the Infolog informing the user about this case, indicating the transaction’s sequence number in the file.</span></span>   
18. <span data-ttu-id="41dee-203">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="41dee-203">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="41dee-204">Kör mappning av filformat</span><span class="sxs-lookup"><span data-stu-id="41dee-204">Run the format mapping</span></span>
<span data-ttu-id="41dee-205">För testningsändamål, utför formatmappning med den 1099entriescsv.csv-fil som du tidigare hämtade.</span><span class="sxs-lookup"><span data-stu-id="41dee-205">For testing purposes, execute the format mapping using the 1099entriescsv.csv file that you previously downloaded.</span></span> <span data-ttu-id="41dee-206">Genererade utdata kommer att presentera data som importeras från den valda CSV-filen och fyller i den anpassade datamodellen när den verkliga importen sker.</span><span class="sxs-lookup"><span data-stu-id="41dee-206">The generated output will present data that will be imported from the selected CSV file and populated to the custom data model at real import.</span></span>   
1. <span data-ttu-id="41dee-207">Klicka på Kör.</span><span class="sxs-lookup"><span data-stu-id="41dee-207">Click Run.</span></span>
    * <span data-ttu-id="41dee-208">Klicka på Bläddra och navigera till filen 1099entriescsv.csv som du hämtade tidigare.</span><span class="sxs-lookup"><span data-stu-id="41dee-208">Click Browse and navigate to the 1099entriescsv.csv file that you previously downloaded.</span></span>  
2. <span data-ttu-id="41dee-209">Klicka på OK.</span><span class="sxs-lookup"><span data-stu-id="41dee-209">Click OK.</span></span>
    * <span data-ttu-id="41dee-210">Observera att varningsmeddelanden om rader som inte är tillåtna.</span><span class="sxs-lookup"><span data-stu-id="41dee-210">Note the warning messages about lines that are not accepted.</span></span> <span data-ttu-id="41dee-211">Rad 4 innehåller inkomstvärdet som presenteras i det icke godtagbara formatet medan rad 7 inte innehåller transaktionskommentartexten inom dubbla citattecken.</span><span class="sxs-lookup"><span data-stu-id="41dee-211">Line 4 contains the income value that is presented in the non-acceptable format while line 7 does not contain the transaction remark text in double quotes.</span></span>   
    * <span data-ttu-id="41dee-212">Granska utdata i XML-format, vilket representerar de data som har importerats från den valda filen och integrerats i datamodellen.</span><span class="sxs-lookup"><span data-stu-id="41dee-212">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="41dee-213">Observera att alla 7 raderna i importerade CSV-filen har bearbetats.</span><span class="sxs-lookup"><span data-stu-id="41dee-213">Note that all 7 lines of the imported CSV file were processed.</span></span> <span data-ttu-id="41dee-214">Det innehållande fältets rubrikrad 1 hoppades över, 4 transaktioner analyserades korrekt och 2 transaktioner erkändes som otillåtna.</span><span class="sxs-lookup"><span data-stu-id="41dee-214">The containing fields’ titles line 1 were skipped, 4 transactions were properly parsed, and 2 transactions were recognized as not valid.</span></span>   
3. <span data-ttu-id="41dee-215">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="41dee-215">Close the page.</span></span>
4. <span data-ttu-id="41dee-216">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="41dee-216">Close the page.</span></span>



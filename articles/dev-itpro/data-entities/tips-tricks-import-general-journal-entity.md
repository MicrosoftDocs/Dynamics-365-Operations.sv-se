---
title: "Regelverk för att importera verifikationer med hjälp av enheten Allmän journal"
description: "Det här ämnet innehåller tips för import av data till den allmänna journalen med hjälp av enheten Allmän journal."
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 7e0a5d044133b917a3eb9386773205218e5c1b40
ms.openlocfilehash: a45a75d23c77af86b55866f99a97343a210ec777
ms.contentlocale: sv-se
ms.lasthandoff: 09/29/2017

---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a><span data-ttu-id="f7da7-103">Regelverk för att importera verifikationer med hjälp av enheten Allmän journal</span><span class="sxs-lookup"><span data-stu-id="f7da7-103">Best practices for importing vouchers using the General journal entity</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="f7da7-104">Det här ämnet innehåller tips för import av data till den allmänna journalen med hjälp av enheten Allmän journal.</span><span class="sxs-lookup"><span data-stu-id="f7da7-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>  

<span data-ttu-id="f7da7-105">Du kan använda enheten Allmän journal för att importera verifikationer som har motkontotypen **Redovisning, Kund, Försäljare, eller Bank**.</span><span class="sxs-lookup"><span data-stu-id="f7da7-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="f7da7-106">Verifikationen kan anges som en rad med hjälp av både fältet **Konto** och fältet **Motkonto** eller som en flerradig verifikation där endast fältet **Konto** används (och fältet **Motkonto** är tomt på varje rad).</span><span class="sxs-lookup"><span data-stu-id="f7da7-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="f7da7-107">Redovisningsjournalenheten stöder inte varje kontotyp.</span><span class="sxs-lookup"><span data-stu-id="f7da7-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="f7da7-108">Det finns i stället andra enheter för scenarier där det krävs olika kombinationer av kontotyper.</span><span class="sxs-lookup"><span data-stu-id="f7da7-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="f7da7-109">Om du till exempel vill importera en projekttransaktion använder du projektutgiftsjournalenheten.</span><span class="sxs-lookup"><span data-stu-id="f7da7-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="f7da7-110">Varje enhet har utformats för speciella scenarier vilket innebär att ytterligare fält kan vara tillgängliga för dessa scenarier men inte enheter för ett annat scenario.</span><span class="sxs-lookup"><span data-stu-id="f7da7-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="f7da7-111">Inställningar</span><span class="sxs-lookup"><span data-stu-id="f7da7-111">Setup</span></span>
<span data-ttu-id="f7da7-112">Innan du genomför en import med hjälp av enheten Allmän journal ska du verifiera följande inställningar:</span><span class="sxs-lookup"><span data-stu-id="f7da7-112">Before you import by using the General journal entity, validate the following setup:</span></span>

-   <span data-ttu-id="f7da7-113">**Nummerserieinställningarna för journalbatchnumren** – När du genomför en import med hjälp av enheten Allmän journal använder journalbatchnumret den nummerserie som definierats i Allmänna huvudboksparametrar som standard.</span><span class="sxs-lookup"><span data-stu-id="f7da7-113">**Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="f7da7-114">Om du har ställt in nummerserien för journalbatchnumret till **Manuell** tillämpas inget standardnummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="f7da7-115">Den här inställningen stöds inte.</span><span class="sxs-lookup"><span data-stu-id="f7da7-115">This setup isn't supported.</span></span>
-   <span data-ttu-id="f7da7-116">**Konfigurationen för den ekonomiska dimensionen** – Varje organisation måste definiera ordningen för ekonomiska dimensioner när enheter används för att importera transaktioner.</span><span class="sxs-lookup"><span data-stu-id="f7da7-116">**Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="f7da7-117">Ordern har definierats för formatet **Integrering av redovisningsdimensioner** i **Redovisning** &gt; **Kontoplaner** &gt; **Dimensioner** &gt; **Konfiguration av ekonomiska dimensioner för integrering av programvaror** &gt; **Välj dataenheter**.</span><span class="sxs-lookup"><span data-stu-id="f7da7-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="f7da7-118">Segmenten i det redovisningskonto som importeras måste ha samma ordning.</span><span class="sxs-lookup"><span data-stu-id="f7da7-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="f7da7-119">I annat fall visas ett felmeddelande under importen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="f7da7-120">Ställa in allmän journal</span><span class="sxs-lookup"><span data-stu-id="f7da7-120">General journal entity setup</span></span>
<span data-ttu-id="f7da7-121">Två inställningar i datahantering påverkar hur standardjournalens batchnummer eller verifikationsnummer används:</span><span class="sxs-lookup"><span data-stu-id="f7da7-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

-   <span data-ttu-id="f7da7-122">**Uppsättningsbaserad bearbetning** (på dataenheten)</span><span class="sxs-lookup"><span data-stu-id="f7da7-122">**Set-based processing** (on the data entity)</span></span>
-   <span data-ttu-id="f7da7-123">**Automatiskt genererad** (på fältmappning)</span><span class="sxs-lookup"><span data-stu-id="f7da7-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="f7da7-124">Följande avsnitt innehåller en beskrivning av effekten av dessa inställningar och hur journalbatchnummer och verifikationsnummer genereras.</span><span class="sxs-lookup"><span data-stu-id="f7da7-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="f7da7-125">Journalbatchnummer</span><span class="sxs-lookup"><span data-stu-id="f7da7-125">Journal batch number</span></span>

-   <span data-ttu-id="f7da7-126">Inställningen för **Uppsättningsbaserad bearbetning** i enheten Allmän journal påverkar inte hur att journalbatchnummer genereras.</span><span class="sxs-lookup"><span data-stu-id="f7da7-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
-   <span data-ttu-id="f7da7-127">Om fältet **Journalbatchnummer** är inställt på **Automatiskt genererad** skapas ett nytt journalbatchnummer för varje rad som importeras.</span><span class="sxs-lookup"><span data-stu-id="f7da7-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="f7da7-128">Detta beteende rekommenderas inte.</span><span class="sxs-lookup"><span data-stu-id="f7da7-128">This behavior isn't recommended.</span></span> <span data-ttu-id="f7da7-129">Inställningen **Automatiskt genererade** hittas i importprojektet under **Visa karta** i fliken **Mappningsdetaljer**.</span><span class="sxs-lookup"><span data-stu-id="f7da7-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
-   <span data-ttu-id="f7da7-130">Om fältet **Journalbatchnummer** inte är inställt på **Automatiskt genererad** skapas ett nytt journalbatchnummer enligt följande:</span><span class="sxs-lookup"><span data-stu-id="f7da7-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>
    -   <span data-ttu-id="f7da7-131">Om journalbatchnumret som definieras i den importerade filen matchar en befintlig, ej bokförd daglig journal importeras alla rader som har ett matchande journalbatchnummer till den befintliga journalen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="f7da7-132">Raderna importeras aldrig in i ett bokfört journalbatchnummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="f7da7-133">I stället skapas ett nytt nummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-133">Instead, a new number is created.</span></span>
    -   <span data-ttu-id="f7da7-134">Om journalbatchnumret som definieras i den importerade filen inte matchar en befintlig, ej bokförd daglig journal grupperas alla rader som har samma journalbatchnummer under en ny journal.</span><span class="sxs-lookup"><span data-stu-id="f7da7-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="f7da7-135">Alla rader som till exempel har journalbatchnummer 1 importeras till en ny journal och alla rader som har journalbatchnummer 2 importeras till en andra ny journal.</span><span class="sxs-lookup"><span data-stu-id="f7da7-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="f7da7-136">Journalbatchnumret skapas med hjälp av den nummerserie som definierats i Allmänna huvudboksparametrar.</span><span class="sxs-lookup"><span data-stu-id="f7da7-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="f7da7-137">Verifikationsnummer</span><span class="sxs-lookup"><span data-stu-id="f7da7-137">Voucher number</span></span>

-   <span data-ttu-id="f7da7-138">Om du använder inställningen **Uppsättningsbaserad bearbetning** för enheten Allmän journal måste verifikationsnumret anges i den importerade filen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="f7da7-139">Varje transaktion i den allmänna journalen tilldelas det verifikationsnummer som tillhandahålls i den importerade filen även om verifikationen inte är balanserad.</span><span class="sxs-lookup"><span data-stu-id="f7da7-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="f7da7-140">Om du vill använda uppsättningsbaserad bearbetning men även vill använda det nummerserie som har definierats för verifikationsnummer finns det en snabbkorrigering för i februariutgåvan 2016.</span><span class="sxs-lookup"><span data-stu-id="f7da7-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="f7da7-141">Snabbkorrigeringsnumret är 3170316 och kan hämtas från Lifestyle services (LCS).</span><span class="sxs-lookup"><span data-stu-id="f7da7-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="f7da7-142">Mer information hittar du i [Hämta snabbkorrigeringar från Lifestyle Services](..\migration-upgrade\download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="f7da7-142">For more information, see [Download hotfixes from Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).</span></span>
    -   <span data-ttu-id="f7da7-143">Om du vill aktivera den här funktionen på journalnamnet som används för importer, ställ in **Nummerallokering vid bokföring** på **Ja**.</span><span class="sxs-lookup"><span data-stu-id="f7da7-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    -   <span data-ttu-id="f7da7-144">Ett verifikationsnummer måste fortfarande definieras i den importerade filen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="f7da7-145">Detta nummer är dock temporärt och skrivs över av verifikationsnumret när journalen bokförs.</span><span class="sxs-lookup"><span data-stu-id="f7da7-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="f7da7-146">Du måste kontrollera att raderna i journalen är korrekt grupperade efter temporära verifikationsnummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="f7da7-147">Till exempel under bokföring hittas tre rader som har ett tillfälligt verifikationsnummer 1.</span><span class="sxs-lookup"><span data-stu-id="f7da7-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="f7da7-148">Det tillfälliga verifikationsnumret för alla tre rader skrivs över av nästa nummer i nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f7da7-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="f7da7-149">Om dessa tre rader inte är balanserade poster bokförs inte verifikationen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="f7da7-150">Om det dessutom finns rader som har det temporära verifikationsnumret 2 skrivs det här numret över med nästa verifikationsnummer i nummerserien och så vidare.</span><span class="sxs-lookup"><span data-stu-id="f7da7-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

<!-- -->

-   <span data-ttu-id="f7da7-151">Om du inte använder inställningen **Uppsättningsbaserad bearbetning** behöver inget verifikationsnummer anges i den importerade filen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="f7da7-152">Verifikationsnumren skapas under importen baserat på inställningen för journalnamn (**endast en verifikation**, **ihop med saldo** och så vidare).</span><span class="sxs-lookup"><span data-stu-id="f7da7-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="f7da7-153">Om journalnamnet exempelvis definieras som **Ihop med saldo** får den första raden ett nytt standardverifikationsnummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="f7da7-154">Systemet utvärderar sedan raden för att fastställa om debet överensstämmer med kredit.</span><span class="sxs-lookup"><span data-stu-id="f7da7-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="f7da7-155">Om det finns ett motkonto på raden får nästa rad som importeras ett nytt verifikationsnummer.</span><span class="sxs-lookup"><span data-stu-id="f7da7-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="f7da7-156">Om det inte finns något motkonto utvärderar systemet om debet är lika med kredit allt eftersom varje ny rad importeras.</span><span class="sxs-lookup"><span data-stu-id="f7da7-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
-   <span data-ttu-id="f7da7-157">Om fältet **Verifikationsnummer** är inställt på **Automatiskt genererad** misslyckas importen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="f7da7-158">Inställningen **Automatiskt genererad** för fältet **Verifikationsnummer** stöds inte.</span><span class="sxs-lookup"><span data-stu-id="f7da7-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="f7da7-159">Enheten Allmän journal använder uppsättningsbaserad bearbetning.</span><span class="sxs-lookup"><span data-stu-id="f7da7-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="f7da7-160">När du utvärderar affärskraven för din organisation kan du ändra inställningen **Uppsättningsbaserad bearbetning** genom att klicka på **Datatabeller** i arbetsytan **Datahantering**.</span><span class="sxs-lookup"><span data-stu-id="f7da7-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="f7da7-161">Uppsättningsbaserad bearbetning används för att påskynda importprocessen.</span><span class="sxs-lookup"><span data-stu-id="f7da7-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="f7da7-162">Om du inte använder uppsättningsbaserad bearbetning går importen av enheten Allmän journal långsammare.</span><span class="sxs-lookup"><span data-stu-id="f7da7-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>





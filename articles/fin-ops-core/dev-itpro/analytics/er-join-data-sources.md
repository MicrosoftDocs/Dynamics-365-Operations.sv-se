---
title: Använd sammanfogningsdatakällor i ER-modellmappningar för att hämta data från flera programtabeller
description: Det här avsnittet beskriver hur du kan använda datakällor av sammanfogningstyp i elektronisk rapportering (ER).
author: NickSelin
manager: AnnBe
ms.date: 05/04/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-03-01
ms.dyn365.ops.version: Release 10.0.1
ms.openlocfilehash: 668ab28297ee7baf8f28cbbaf179d13cb5151dc4
ms.sourcegitcommit: 248369a0da5f2b2a1399f6adab81f9e82df831a1
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 05/04/2020
ms.locfileid: "3332332"
---
# <a name="use-join-data-sources-to-get-data-from-multiple-application-tables-in-electronic-reporting-er-model-mappings"></a><span data-ttu-id="1f292-103">Använd sammanfogningsdatakällor för att hämta data från flera programtabeller i ER-modellmappningar (elektronisk rapportering)</span><span class="sxs-lookup"><span data-stu-id="1f292-103">Use JOIN data sources to get data from multiple application tables in Electronic reporting (ER) model mappings</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="1f292-104">När du konfigurerar ER-modellmappningar eller format (elektronisk rapportering) kan du [lägga till](#review) nödvändiga datakällor av typen **sammanfogning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-104">While configuring Electronic reporting (ER) model mappings or formats, you can [add](#review) required data sources of the **Join** type.</span></span> <span data-ttu-id="1f292-105">Vid designtillfället konfigureras **sammanfognings**-datakälla som en uppsättning med flera datakällor som alla returnerar en lista med poster.</span><span class="sxs-lookup"><span data-stu-id="1f292-105">At design time, a **Join** data source is configured as a set of several data sources each of which returns a list of records.</span></span> <span data-ttu-id="1f292-106">För alla datakällor utom den första måste du definiera nödvändiga villkor för att kunna koppla poster till aktuella och tidigare datakällor.</span><span class="sxs-lookup"><span data-stu-id="1f292-106">For every data source except the first one, you need to define necessary conditions to join records of the current and previous data sources.</span></span> <span data-ttu-id="1f292-107">Vid körning kommer en konfigurerad datakälla av typen **sammanfogning** att [returnera](#executeERformat) en enda överordnad lista med poster som innehåller fält från posterna i kapslade datakällor.</span><span class="sxs-lookup"><span data-stu-id="1f292-107">At runtime, a configured data source of **Join** type [returns](#executeERformat) a single joined list of records containing fields from the records of nested data sources.</span></span>

<span data-ttu-id="1f292-108">Följande typer av sammanfogningar stöds nu:</span><span class="sxs-lookup"><span data-stu-id="1f292-108">The following type of joins are currently supported:</span></span>

- <span data-ttu-id="1f292-109">Vänster yttre sammanfogning</span><span class="sxs-lookup"><span data-stu-id="1f292-109">Outer (left) join:</span></span>
    - <span data-ttu-id="1f292-110">Koppla alla poster från den första datakällan (längst till vänster) och sedan alla matchningar i enlighet med konfigurerade villkorsposter för den andra datakällan (längst till höger).</span><span class="sxs-lookup"><span data-stu-id="1f292-110">Join all records of the first (left-most) data source and then any matching in accordance to configured conditions records of the second (right-most) data source.</span></span>
- <span data-ttu-id="1f292-111">Inre (höger) sammanfogning:</span><span class="sxs-lookup"><span data-stu-id="1f292-111">Inner (right) join:</span></span>
    - <span data-ttu-id="1f292-112">Sammanfoga endast poster från den första datakällan (längst till vänster) och endast poster för den andra datakällan (längst till höger) som matchar varandra i enlighet med konfigurerade villkor.</span><span class="sxs-lookup"><span data-stu-id="1f292-112">Join only records of the first (left-most) data source and only records of the second (right-most) data source matching to each other in accordance to configured conditions.</span></span>

<span data-ttu-id="1f292-113">I den konfigurerade datakällan **Sammanfoga** när alla datakällor är av typen **Tabellposter** kan körningen av sammanfogningsdatakällan [utföras på databasnivå](#analyze) med ett enda SQL-uttryck.</span><span class="sxs-lookup"><span data-stu-id="1f292-113">In the configured **Join** data source, when all data sources are the **Table records** type, execution of the Join data source can be [performed at the database level](#analyze) using a single SQL statement.</span></span> <span data-ttu-id="1f292-114">Detta minskar antalet databasanrop, vilket förbättrar modellmappningens prestanda.</span><span class="sxs-lookup"><span data-stu-id="1f292-114">This reduces the number of database calls, which improves model mapping performance.</span></span> <span data-ttu-id="1f292-115">Annars utförs körningen av **sammanfogningsdatakällan** i minnet.</span><span class="sxs-lookup"><span data-stu-id="1f292-115">Otherwise, execution of **Join data** source is performed in memory.</span></span>

> [!NOTE]
> <span data-ttu-id="1f292-116">Med funktionen **VALUEIN** i ER-uttryck som anger villkor för sammanfogning av poster i datakällor av sammanfogningstyp som ännu inte stöds.</span><span class="sxs-lookup"><span data-stu-id="1f292-116">Using the **VALUEIN** function in ER expressions that specify conditions for joining records in data sources of Join type is not supported yet.</span></span> <span data-ttu-id="1f292-117">Besök sidan [Formeldesigner i elektronisk rapportering](general-electronic-reporting-formula-designer.md) för mer information om denna funktion.</span><span class="sxs-lookup"><span data-stu-id="1f292-117">Visit the [Formula designer in Electronic reporting](general-electronic-reporting-formula-designer.md) page for more details about this function.</span></span>

<span data-ttu-id="1f292-118">Om du vill veta mer om den här funktionen fyller du i exemplet i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="1f292-118">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="example-use-join-data-sources-in-er-model-mappings"></a><span data-ttu-id="1f292-119">Exempel: Använd sammanfogningsdatakällor i ER-modell mappningar</span><span class="sxs-lookup"><span data-stu-id="1f292-119">Example: Use JOIN data sources in ER model mappings</span></span>

<span data-ttu-id="1f292-120">Följande steg beskriver hur systemadministratören eller den elektroniska rapportfunktionen kan konfigurera en ER-modellmappning (elektronisk rapportering) för att hämta data från flera programtabeller samtidigt genom att använda datakällor av typen **sammanfogning** för att förbättra prestanda för dataåtkomst.</span><span class="sxs-lookup"><span data-stu-id="1f292-120">The following steps explain how the System administrator or Electronic reporting developer can configure an Electronic reporting (ER) model mapping to get data from multiple application tables at once by using data sources of the **Join** type to improve data access performance.</span></span> <span data-ttu-id="1f292-121">Dessa steg kan utföras för alla företag med Dynamics 365 Finance eller som RCS (Regulatory Configuration Services).</span><span class="sxs-lookup"><span data-stu-id="1f292-121">These steps can be performed for any company of Dynamics 365 Finance or Regulatory Configuration Services (RCS).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="1f292-122">Förutsättningar</span><span class="sxs-lookup"><span data-stu-id="1f292-122">Prerequisites</span></span>

<span data-ttu-id="1f292-123">Om du vill slutföra exemplen i det här avsnittet måste du ha åtkomst till något av följande beroende på vilken service som används för att slutföra dessa steg:</span><span class="sxs-lookup"><span data-stu-id="1f292-123">To complete the examples in this topic, you must have access to one of the following depending on what service is used to compete these steps:</span></span>

<span data-ttu-id="1f292-124">**Gå till Finance för någon av följande roller:**</span><span class="sxs-lookup"><span data-stu-id="1f292-124">**Access to Finance for one of the following roles:**</span></span>

- <span data-ttu-id="1f292-125">Utvecklare för elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="1f292-125">Electronic reporting developer</span></span>
- <span data-ttu-id="1f292-126">Konsult för funktionen för elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="1f292-126">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="1f292-127">Systemadministratör</span><span class="sxs-lookup"><span data-stu-id="1f292-127">System administrator</span></span>

<span data-ttu-id="1f292-128">**Gå till RCS för någon av följande roller:**</span><span class="sxs-lookup"><span data-stu-id="1f292-128">**Access to RCS for one of the following roles:**</span></span>

- <span data-ttu-id="1f292-129">Utvecklare för elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="1f292-129">Electronic reporting developer</span></span>
- <span data-ttu-id="1f292-130">Konsult för funktionen för elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="1f292-130">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="1f292-131">Systemadministratör</span><span class="sxs-lookup"><span data-stu-id="1f292-131">System administrator</span></span>

<span data-ttu-id="1f292-132">Du måste först slutföra dessa steg i proceduren [Skapa en konfigurationsleverantör och välj den som aktiv](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="1f292-132">You also must first complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

<span data-ttu-id="1f292-133">I förväg måste du även hämta från [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=000000) och spara det lokalt som ER-exempelkonfigurationsfil:</span><span class="sxs-lookup"><span data-stu-id="1f292-133">In advance, you must also download from [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=000000) and save locally the following sample ER configuration files:</span></span>

| <span data-ttu-id="1f292-134">**Beskrivning av innehåll**</span><span class="sxs-lookup"><span data-stu-id="1f292-134">**Content description**</span></span>  | <span data-ttu-id="1f292-135">**Filnamn**</span><span class="sxs-lookup"><span data-stu-id="1f292-135">**File name**</span></span>   |
|--------------------------|-----------------|
| <span data-ttu-id="1f292-136">Exempelkonfigurationsfil för **ER-datamodell** som används som datakälla för exemplen.</span><span class="sxs-lookup"><span data-stu-id="1f292-136">Sample **ER data model** configuration file, which is used as the data source for the examples.</span></span>| [<span data-ttu-id="1f292-137">Modell för att lära dig sammanfogningsdatakällor.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="1f292-137">Model to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="1f292-138">Konfigurationsfil för **ER-modelmappning** som implementerar ER-datamodellen för exemplen.</span><span class="sxs-lookup"><span data-stu-id="1f292-138">Sample **ER model mapping** configuration file, which implements the ER data model for the examples.</span></span> | [<span data-ttu-id="1f292-139">Mappning för att lära dig sammanfogningsdatakällor.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="1f292-139">Mapping to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="1f292-140">Exempelkonfigurationsfil för **ER-format**.</span><span class="sxs-lookup"><span data-stu-id="1f292-140">Sample **ER format** configuration file.</span></span> <span data-ttu-id="1f292-141">Den här filen beskriver de data som ska fyllas i ER-formatkomponenten för exemplen.</span><span class="sxs-lookup"><span data-stu-id="1f292-141">This file describes the data to populate the ER format component for the examples.</span></span> | [<span data-ttu-id="1f292-142">Format för att lära dig sammanfogningsdatakällor.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="1f292-142">Format to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="1f292-143">Aktivera en konfigurationsprovider</span><span class="sxs-lookup"><span data-stu-id="1f292-143">Activate a configurations provider</span></span>

1. <span data-ttu-id="1f292-144">Få åtkomst till Finance eller RCS i den första sessionen av webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="1f292-144">Access either Finance or RCS in the first session of your web browser.</span></span>
2. <span data-ttu-id="1f292-145">Gå till **Organisationsadministration \> Arbetsytor \> Elektronisk rapportering**.</span><span class="sxs-lookup"><span data-stu-id="1f292-145">Go to **Organization administration \> Workspaces \> Electronic reporting**.</span></span>
3. <span data-ttu-id="1f292-146">På sidan **lokaliseringskonfiguration** i avsnittet **konfigurationsprovider** kontrollerar du att konfigurationsprovidern för exempelföretaget Litware, Inc. (http://www.litware.com) är listade och markerat som **aktivt**.</span><span class="sxs-lookup"><span data-stu-id="1f292-146">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the configuration provider for the Litware, Inc. (http://www.litware.com) sample company is listed, and that it's marked as **Active**.</span></span> <span data-ttu-id="1f292-147">Om du inte ser den här konfigurationsleverantören ska du följa stegen i proceduren [Skapa en konfigurationsleverantör och välj den som aktiv](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="1f292-147">If you don't see this configuration provider, follow the steps in [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

    ![Arbetsytan för elektronisk rapportering](./media/GER-JoinDS-ActiveProvider.PNG)

### <a name="import-sample-er-configuration-files"></a><span data-ttu-id="1f292-149">Importera ER-exempelkonfigurationsfiler</span><span class="sxs-lookup"><span data-stu-id="1f292-149">Import sample ER configuration files</span></span>

1. <span data-ttu-id="1f292-150">Välj **rapporteringskonfigurationer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-150">Select **Reporting configurations**.</span></span>
2. <span data-ttu-id="1f292-151">Importera ER-konfigurationsfilen för datamodell.</span><span class="sxs-lookup"><span data-stu-id="1f292-151">Import the ER data model configuration file.</span></span>
    1. <span data-ttu-id="1f292-152">Välj **kurs**</span><span class="sxs-lookup"><span data-stu-id="1f292-152">Select **Exchange**.</span></span>
    2. <span data-ttu-id="1f292-153">Välj **Läs in från XML-fil**.</span><span class="sxs-lookup"><span data-stu-id="1f292-153">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="1f292-154">Välj **bläddra** om du vill söka efter filen **Modell för att lära dig sammanfogningsdatakällor.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="1f292-154">Select **Browse** to find the **Model to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="1f292-155">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-155">Select **OK**.</span></span>
3. <span data-ttu-id="1f292-156">Importera ER-konfigurationsfilen för modellmappning.</span><span class="sxs-lookup"><span data-stu-id="1f292-156">Import the ER model mapping configuration file.</span></span>
    1. <span data-ttu-id="1f292-157">Välj **kurs**</span><span class="sxs-lookup"><span data-stu-id="1f292-157">Select **Exchange**.</span></span>
    2. <span data-ttu-id="1f292-158">Välj **Läs in från XML-fil**.</span><span class="sxs-lookup"><span data-stu-id="1f292-158">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="1f292-159">Välj **Bläddra** om du vill söka efter filen **Mapping för att lära dig sammanfogningsdatakällor.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="1f292-159">Select **Browse** to find the **Mapping to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="1f292-160">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-160">Select **OK**.</span></span>
4.  <span data-ttu-id="1f292-161">Importera ER-formatkonfigurationsfilen.</span><span class="sxs-lookup"><span data-stu-id="1f292-161">Import the ER format configuration file.</span></span>
    1. <span data-ttu-id="1f292-162">Välj **kurs**</span><span class="sxs-lookup"><span data-stu-id="1f292-162">Select **Exchange**.</span></span>
    2. <span data-ttu-id="1f292-163">Välj **Läs in från XML-fil**.</span><span class="sxs-lookup"><span data-stu-id="1f292-163">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="1f292-164">Välj **Bläddra** om du vill söka efter filen **Format för att lära dig sammanfogningsdatakällor.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="1f292-164">Select **Browse** to find the **Format to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="1f292-165">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-165">Select **OK**.</span></span>
5.  <span data-ttu-id="1f292-166">I konfigurationsträdet expanderar du artikeln **Modell för att lära dig sammanfogningsdatakällor** och även andra modellobjekt (om de är tillgängliga).</span><span class="sxs-lookup"><span data-stu-id="1f292-166">In the configurations tree, expand the **Model to learn JOIN data sources** item as well as other model items (when available).</span></span>
6.  <span data-ttu-id="1f292-167">Studera listan med ER-konfigurationer i trädet och versionsinformation på snabbfliken **versioner** – de används som datakälla för exempelrapporten.</span><span class="sxs-lookup"><span data-stu-id="1f292-167">Observe the list of ER configurations in the tree as well as version details on the **Versions** fast tab – they will be used as the source of data for your sample report.</span></span>

    ![Sidan konfigurationer för elektronisk rapportering](./media/GER-JoinDS-ConfigurationsTree.PNG)

### <a name="turn-on-execution-trace-options"></a><span data-ttu-id="1f292-169">Aktivera alternativ för körningsspårning</span><span class="sxs-lookup"><span data-stu-id="1f292-169">Turn on execution trace options</span></span>
1.  <span data-ttu-id="1f292-170">Välj **KONFIGURATIONER**.</span><span class="sxs-lookup"><span data-stu-id="1f292-170">Select **CONFIGURATIONS**.</span></span>
2.  <span data-ttu-id="1f292-171">Välj **Användarparametrar**.</span><span class="sxs-lookup"><span data-stu-id="1f292-171">Select **User parameters**.</span></span>
3.  <span data-ttu-id="1f292-172">Ange parametrar för körningsspårning som visas på bildrutan nedan.</span><span class="sxs-lookup"><span data-stu-id="1f292-172">Set execution trace parameters as shown on the screenshot below.</span></span>

    ![Sida för användarparametrar för elektronisk rapportering](./media/GER-JoinDS-Parameters.PNG)

    <span data-ttu-id="1f292-174">Om dessa parametrar är aktiverade kommer körningsspårningen att genereras för varje körning av den importerade ER-formatfilen.</span><span class="sxs-lookup"><span data-stu-id="1f292-174">With these parameters turned on, for every execution of the imported ER format file, the execution trace will be generated.</span></span> <span data-ttu-id="1f292-175">Med hjälp av information om genererad körningsspårning kan du analysera körningen av komponenter för ER-format och ER-modellmappning.</span><span class="sxs-lookup"><span data-stu-id="1f292-175">Using details of generated execution trace, you can analyze the execution of ER format and ER model mapping components.</span></span> <span data-ttu-id="1f292-176">Besök sidan [Spåringskörning av ER-format för att hjälpa dig att felsöka prestandaproblem](trace-execution-er-troubleshoot-perf.md) för mer information om funktionen ER-körningsspårning.</span><span class="sxs-lookup"><span data-stu-id="1f292-176">Visit the [Trace execution of ER format to troubleshoot performance issues](trace-execution-er-troubleshoot-perf.md) page for more details about ER execution trace feature.</span></span>

### <a name="review-er-model-mapping-part-1"></a><span data-ttu-id="1f292-177">Granska ER-modellmappning (del 1)</span><span class="sxs-lookup"><span data-stu-id="1f292-177">Review ER model mapping (part 1)</span></span>

<span data-ttu-id="1f292-178">Granska inställningarna för ER-modellmappningskomponenten.</span><span class="sxs-lookup"><span data-stu-id="1f292-178">Review settings of the ER model mapping component.</span></span> <span data-ttu-id="1f292-179">Komponenten är konfigurerad för att få åtkomst till information om versioner av ER-konfigurationer, information om konfigurationer och konfigurationsprovider utan att använda datakällor av typen **Sammanfoga**.</span><span class="sxs-lookup"><span data-stu-id="1f292-179">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers without using data sources of the **Join** type.</span></span>

1.  <span data-ttu-id="1f292-180">Välj konfigurationen **Mappning för att lära dig sammanfogningsdatakällor**</span><span class="sxs-lookup"><span data-stu-id="1f292-180">Select **Mapping to learn JOIN data sources** configuration.</span></span>
2.  <span data-ttu-id="1f292-181">Välj **designer** om du vill öppna listan över mappningar.</span><span class="sxs-lookup"><span data-stu-id="1f292-181">Select **Designer** to open the list of mappings.</span></span>
3.  <span data-ttu-id="1f292-182">Välj **Designer** för att granska mappningsinformationen.</span><span class="sxs-lookup"><span data-stu-id="1f292-182">Select **Designer** to review the mapping details.</span></span> 
4.  <span data-ttu-id="1f292-183">Välj **Visa detaljer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-183">Select **Show details**.</span></span>
5.  <span data-ttu-id="1f292-184">I konfigurationsträdet expanderar du datamodellobjektet **Set1** och **Set1.Details**:</span><span class="sxs-lookup"><span data-stu-id="1f292-184">In the configurations tree, expand the **Set1** and **Set1.Details** data model items:</span></span>

    1. <span data-ttu-id="1f292-185">Bindning **Detaljer: postlista = Versioner** anger att artikeln **Set1.Details** är bunden till datakällan **Versioner** returnerade poster för tabellen **ERSolutionVersionTable**.</span><span class="sxs-lookup"><span data-stu-id="1f292-185">Binding **Details: Record list = Versions** indicates that the **Set1.Details** item is bound to the **Versions** data source returning records of the **ERSolutionVersionTable** table.</span></span> <span data-ttu-id="1f292-186">Varje post i den här tabellen motsvarar en enda version av en ER-konfiguration.</span><span class="sxs-lookup"><span data-stu-id="1f292-186">Each record of this table represents a single version of an ER configuration.</span></span> <span data-ttu-id="1f292-187">Innehållet i den här tabellen visas på fliken **versioner** på sidan **konfigurationer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-187">The content of this table is presented in the **Versions** fast tab on the **Configurations** page.</span></span>
    2. <span data-ttu-id="1f292-188">Bindning **ConfigurationVersion: String = @.PublicVersionNumber** innebär att värdet för den offentliga versionen av varje återställnings konfigurations version hämtas från fältet **PublicVersionNumber** i tabellen **ERSolutionVersionTable** och placeras i artikeln **ConfigurationVersion**.</span><span class="sxs-lookup"><span data-stu-id="1f292-188">Binding **ConfigurationVersion: String = @.PublicVersionNumber** means that the value of the public version of each ER configuration’s version is taken from the **PublicVersionNumber** field of the **ERSolutionVersionTable** table and placed to the **ConfigurationVersion** item.</span></span>
    3. <span data-ttu-id="1f292-189">Bindning **ConfigurationTitle: String = @.'>Relations'.Solution.Name** anger att namnet på en ER-konfiguration hämtas från fältet **Namn** i tabellen **ERSolutionTable** med hjälp av många-till-en-relation (**'>Relationer'**) mellan tabellerna **ERSolutionVersionTable** och **ERSolutionTable** .</span><span class="sxs-lookup"><span data-stu-id="1f292-189">Binding **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indicates that the name of an ER configuration is taken from the **Name** field of the **ERSolutionTable** table assessing by using the many-to-one relation (**'>Relations'**) between the **ERSolutionVersionTable** and **ERSolutionTable** tables.</span></span> <span data-ttu-id="1f292-190">Namn på ER-konfigurationer för den aktuella programinstansen visas i konfigurations trädet på sidan **konfigurationer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-190">Names of ER configurations of the current application instance are presented in the configurations tree on the **Configurations** page.</span></span>
    4. <span data-ttu-id="1f292-191">Bindning **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** innebär att namnet på konfigurationsprovider som äger den nuvarande konfigurationen hämtas från fältet **Namn** i tabellen **ERVendorTable** med hjälp av många-till-en-relation mellan tabellerna **ERSolutionTable** och **ERVendorTable**.</span><span class="sxs-lookup"><span data-stu-id="1f292-191">Binding **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** means that the name of the configuration provider that owns the current configuration is taken from the **Name** field of the **ERVendorTable** table assessing by using the many-to-one relation between **ERSolutionTable** and **ERVendorTable** tables.</span></span> <span data-ttu-id="1f292-192">Namn på ER-konfigurationsprovider visas i konfigurations trädet på sidan **konfigurationer** på sidhuvudet för varje konfiguration.</span><span class="sxs-lookup"><span data-stu-id="1f292-192">Names of ER configuration providers are presented in the configurations tree on the **Configurations** page on the page header for each configuration.</span></span> <span data-ttu-id="1f292-193">Hela listan med konfigurationsprovider hittas på tabellsidan **Organisationsadministration \> Elektronisk rapportering \> Konfigurationsprovider**.</span><span class="sxs-lookup"><span data-stu-id="1f292-193">The entire list of ER configuration providers can be found on the **Organization administration \> Electronic reporting \> Configuration provider** table page.</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-Set1Review.PNG)

6.  <span data-ttu-id="1f292-195">I konfigurationsträdet expanderar du datamodellobjektet **Set1.Summary**:</span><span class="sxs-lookup"><span data-stu-id="1f292-195">In the configurations tree, expand the **Set1.Summary** data model item:</span></span>

    1. <span data-ttu-id="1f292-196">Bindning **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** anger att objektet **Set1.Summary.VersionsNumber** är bundet till sammansättningsfältet **VersionsNumber** för datakällan **VersionsSummary** av typen **GroupBy** typ som konfigurerades för att returnera antalet poster för tabellen **ERSolutionVersionTable** via datakällan **Versioner**.</span><span class="sxs-lookup"><span data-stu-id="1f292-196">Binding **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indicates that the **Set1.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **VersionsSummary** data source of the **GroupBy** type that was configured to return the number of records of the **ERSolutionVersionTable** table via the **Versions** data source.</span></span>

    ![Sidan för parametrar för datakälla för GROUPBY](./media/GER-JoinDS-Set1GroupByReview.PNG)

7.  <span data-ttu-id="1f292-198">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="1f292-198">Close the page.</span></span>

### <a name="review-er-model-mapping-part-2"></a><a name="review"></a> <span data-ttu-id="1f292-199">Granska ER-modellmappning (del 2)</span><span class="sxs-lookup"><span data-stu-id="1f292-199">Review ER model mapping (part 2)</span></span>

<span data-ttu-id="1f292-200">Granska inställningarna för ER-modellmappningskomponenten.</span><span class="sxs-lookup"><span data-stu-id="1f292-200">Review settings of the ER model mapping component.</span></span> <span data-ttu-id="1f292-201">Komponenten är konfigurerad för att få åtkomst till information om versioner av ER-konfigurationer, information om konfigurationer och konfigurationsprovider genom att använda datakällor av typen **Sammanfoga**.</span><span class="sxs-lookup"><span data-stu-id="1f292-201">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers with using a data source of the **Join** type.</span></span>

1.  <span data-ttu-id="1f292-202">I konfigurationsträdet expanderar du datamodellobjektet **Set2** och **Set2.Details**.</span><span class="sxs-lookup"><span data-stu-id="1f292-202">In the configurations tree, expand the **Set2** and **Set2.Details** data model items.</span></span> <span data-ttu-id="1f292-203">Observera att bindning **Details: Record list = Details** anger att objektet **Set2.Details** är bundet till datakällan **information** konfigurerad som datakälla av typen **Sammanfoga**.</span><span class="sxs-lookup"><span data-stu-id="1f292-203">Note that the binding **Details: Record list = Details** indicates that the **Set2.Details** item is bound to the **Details** data source configured as the data source of the **Join** type.</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-Set2Review.PNG)

    <span data-ttu-id="1f292-205">Datakällan **Sammanfoga** kan läggas till genom att välja datakällan **Functions\Join**:</span><span class="sxs-lookup"><span data-stu-id="1f292-205">The **Join** data source can be added by selecting the **Functions\Join** data source:</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-AddJoinDS.PNG)

2.  <span data-ttu-id="1f292-207">Välj datakällan **Information**.</span><span class="sxs-lookup"><span data-stu-id="1f292-207">Select **Detail**s data source.</span></span>
3.  <span data-ttu-id="1f292-208">Välj **redigera** i fönstret **datakällor**.</span><span class="sxs-lookup"><span data-stu-id="1f292-208">Select **Edit** in the **Data sources** pane.</span></span>
4.  <span data-ttu-id="1f292-209">Välj **Redigera sammanfogning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-209">Select **Edit join**.</span></span>
5.  <span data-ttu-id="1f292-210">Välj **Visa detaljer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-210">Select **Show details**.</span></span>

    ![Sidan för parametrar för datakälla för JOIN](./media/GER-JoinDS-JoinDSEditor.PNG)

    <span data-ttu-id="1f292-212">Den här sidan används för att utforma den begärda datakällan av **sammanfogningstyp**.</span><span class="sxs-lookup"><span data-stu-id="1f292-212">This page is used to design the required data source of the **Join type**.</span></span> <span data-ttu-id="1f292-213">Under körningen kommer den här datakällan att skapa en enda lista med poster från data källorna i rutnätet **Sammanfogade listor**.</span><span class="sxs-lookup"><span data-stu-id="1f292-213">At runtime, this data source will create a single joined list of records from the data sources in the **Joined list** grid.</span></span> <span data-ttu-id="1f292-214">Sammanfogning av poster startar från datakällan **ConfigurationProviders** som är i rutnätet som en första kolumn (kolumnen **typ** är tom för den).</span><span class="sxs-lookup"><span data-stu-id="1f292-214">Join of records will start from the **ConfigurationProviders** data source that is in the grid as a first one (the **Type** column is blank for it).</span></span> <span data-ttu-id="1f292-215">Poster i alla andra datakällor kopplas därmed till poster i den överordnade datakällan baserat på dess ordning i det här rutnätet.</span><span class="sxs-lookup"><span data-stu-id="1f292-215">Records of every other data source will be joined consequently to records of the parent data source based on its order in this grid.</span></span> <span data-ttu-id="1f292-216">Varje sammanfogad datakälla måste konfigureras som en datakälla som kapslats under en måldatakälla (datakällan **1Versions** är kapslad under **1Configurations**; datakällan **1Configurations** är kapslad under **ConfigurationProviders**).</span><span class="sxs-lookup"><span data-stu-id="1f292-216">Every joining data source must be configured as a data source nested under a target data source (**1Versions** data source is nested under **1Configurations** one; **1Configurations** data source is nested under **ConfigurationProviders** one).</span></span> <span data-ttu-id="1f292-217">Varje konfigurerad datakälla måste innehålla villkoren för sammanfogningen.</span><span class="sxs-lookup"><span data-stu-id="1f292-217">Each configured data source must contain the conditions for the join.</span></span> <span data-ttu-id="1f292-218">I datakällan för den här **sammanfogningen**definieras följande sammanfogningar:</span><span class="sxs-lookup"><span data-stu-id="1f292-218">In the data source for this particular **Join**, the following joins are defined:</span></span>

    - <span data-ttu-id="1f292-219">Varje post i datakällan **ConfigurationProviders** (hänvisas till tabellen **ERVendorTable**) sammanfogas med poster från **1Configurations** (hänvisas till tabellen **ERSolutionTable**) och har samma värde i fälten **SolutionVendor** och **RecId**.</span><span class="sxs-lookup"><span data-stu-id="1f292-219">Each record of the **ConfigurationProviders** data source (referred to the **ERVendorTable** table) is joined with only records of the **1Configurations** one (referred to in the **ERSolutionTable** table) having the same value in the **SolutionVendor** and **RecId** fields.</span></span> <span data-ttu-id="1f292-220">Typen **Inre sammanfogning** används både för den här sammanfogningen och följande villkor för matchande poster:</span><span class="sxs-lookup"><span data-stu-id="1f292-220">The **Inner join** type is used for this join as well as the following conditions for matching records:</span></span> 

    <span data-ttu-id="1f292-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span><span class="sxs-lookup"><span data-stu-id="1f292-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span></span>

    - <span data-ttu-id="1f292-222">Varje post i datakällan **1Configurations** (hänvisas till tabellen **ERSolutionTable**) sammanfogas med poster från **1Versions** (hänvisas till tabellen **ERSolutionVersionTable**) och har samma värde i fälten **Lösning** och **RecId**.</span><span class="sxs-lookup"><span data-stu-id="1f292-222">Each record of the **1Configurations** data source (referred to the **ERSolutionTable** table) is joined with the only records of the **1Versions** one (referred to the **ERSolutionVersionTable** table) having the same value in the **Solution** and **RecId** fields.</span></span> <span data-ttu-id="1f292-223">Typen **Inre sammanfogning** används både för den här sammanfogningen och följande villkor för matchande poster:</span><span class="sxs-lookup"><span data-stu-id="1f292-223">**Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="1f292-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span><span class="sxs-lookup"><span data-stu-id="1f292-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span></span>

    - <span data-ttu-id="1f292-225">Alternativet **kör** konfigureras som en **fråga** vilket innebär att den här datakällan för sammanfogning ska köras i körtid på databasnivå som ett direkt SQL-anrop.</span><span class="sxs-lookup"><span data-stu-id="1f292-225">**Execute** option is configured as **Query** meaning that this join data source will be executed at runtime on database level as a direct SQL call.</span></span>

    <span data-ttu-id="1f292-226">Observera att när du sammanfogar poster med datakällor som representerar programtabeller kan du ange sammanfogningsvillkor genom att använda andra par fält än de som beskriver befintliga i AOT-relationer mellan dessa register.</span><span class="sxs-lookup"><span data-stu-id="1f292-226">Note that for joining records of data sources representing application tables, you can specify join conditions by using pairs of fields other than ones that describe existing in AOT relations between these tables.</span></span> <span data-ttu-id="1f292-227">Den här typen av sammanfogning kan konfigureras så att den körs på databas nivå också.</span><span class="sxs-lookup"><span data-stu-id="1f292-227">This type of join can be configured to execute at the database level as well.</span></span>

6.  <span data-ttu-id="1f292-228">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="1f292-228">Close the page.</span></span>
7.  <span data-ttu-id="1f292-229">Välj **Avbryt**.</span><span class="sxs-lookup"><span data-stu-id="1f292-229">Select **Cancel**.</span></span>
8.  <span data-ttu-id="1f292-230">I konfigurationsträdet expanderar du datamodellobjektet **Set2.Summary**:</span><span class="sxs-lookup"><span data-stu-id="1f292-230">In the configurations tree, expand the **Set2.Summary** data model item:</span></span>

    - <span data-ttu-id="1f292-231">Bindning **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** anger att objektet **Set2.Summary.VersionsNumber** är bundet till sammansättningsfältet **VersionsNumber** för datakällan **DetailsSummary** av typen **GroupBy** typ som konfigurerades för att returnera antalet sammanfogade poster för tabellen **Information** via datakällan av typen **Sammanfogning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-231">Binding **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indicates that the **Set2.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **DetailsSummary** data source of the **GroupBy** type that was configured to return the number of joined records of the **Details** data source of the **Join** type.</span></span>
    - <span data-ttu-id="1f292-232">Notera att **körning** konfigureras som en **fråga** vilket innebär att den här datakällan för **GroupBy** kommer köras i körtid på databasnivå som ett direkt SQL-anrop.</span><span class="sxs-lookup"><span data-stu-id="1f292-232">Note that the **Execution** location option is configured as **Query** meaning that this **GroupBy** data source will be executed at runtime as a direct SQL call at the database level.</span></span> <span data-ttu-id="1f292-233">Detta är möjligt eftersom informationen om basdatakällan **Information** för typen **sammanfogning** konfigureras som utförd på databasnivå.</span><span class="sxs-lookup"><span data-stu-id="1f292-233">This is possible because the base data source **Details** of the **Join** type is configured as executed at the database level.</span></span>

    ![Sidan för parametrar för datakälla för GROUPBY](./media/GER-JoinDS-Set2GroupByReview.PNG)

9.  <span data-ttu-id="1f292-235">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="1f292-235">Close the page.</span></span>
10. <span data-ttu-id="1f292-236">Välj **Avbryt**.</span><span class="sxs-lookup"><span data-stu-id="1f292-236">Select **Cancel**.</span></span>

### <a name="execute-er-format"></a><a name="executeERformat"></a> <span data-ttu-id="1f292-237">Kör ER-format</span><span class="sxs-lookup"><span data-stu-id="1f292-237">Execute ER format</span></span>

1.  <span data-ttu-id="1f292-238">Gå till Finance eller RCS i webbläsarens andra session med samma autentiseringsuppgifter och företag som i den första sessionen.</span><span class="sxs-lookup"><span data-stu-id="1f292-238">Access Finance or RCS in the second session of your web browser using same credentials and company as in the first session.</span></span>
2.  <span data-ttu-id="1f292-239">Gå till **Organisationsadministration  \> Elektronisk rapportering \> Konfigurationer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-239">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3.  <span data-ttu-id="1f292-240">Utöka **Modell för att lära dig sammanfogningsdatakällor**</span><span class="sxs-lookup"><span data-stu-id="1f292-240">Expand **Model to learn JOIN data sources** configuration.</span></span>
4.  <span data-ttu-id="1f292-241">Välj konfigurationen **Format för att lära dig sammanfogningsdatakällor**</span><span class="sxs-lookup"><span data-stu-id="1f292-241">Select **Format to learn JOIN data sources** configuration.</span></span>
5.  <span data-ttu-id="1f292-242">Välj **Designer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-242">Select **Designer**.</span></span>
6.  <span data-ttu-id="1f292-243">Välj **Visa detaljer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-243">Select **Show details**.</span></span>
7.  <span data-ttu-id="1f292-244">Välj **mappning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-244">Select **Mapping**.</span></span>
8.  <span data-ttu-id="1f292-245">Växla mellan **expandering/komprimering**.</span><span class="sxs-lookup"><span data-stu-id="1f292-245">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="1f292-246">Observera att det här formatet har utformats för att fylla en genererad textfil med en ny rad för varje version av en ER-konfiguration (sekvens **Version**).</span><span class="sxs-lookup"><span data-stu-id="1f292-246">Note that this format is designed to populate a generated text file with a new line for every version of an ER configuration (**Version** sequence).</span></span> <span data-ttu-id="1f292-247">Varje genererad rad innehåller namnet på en konfigurationsprovider som äger den aktuella konfigurationen, konfigurationsnamnet och konfigurationsversionen som är åtskild med semikolon.</span><span class="sxs-lookup"><span data-stu-id="1f292-247">Each generated line will contain the name of a configuration provider owning the current configuration, the configuration name and the configuration version separated by semicolon mark.</span></span> <span data-ttu-id="1f292-248">Den sista raden med genererade filer kommer att innehålla antalet upptäckta versioner av ER-konfigurationer (sekvens **sammanfattning**).</span><span class="sxs-lookup"><span data-stu-id="1f292-248">The final line of generated file will contain the number of discovered versions of ER configurations (**Summary** sequence).</span></span>

    ![ER-formatdesignersida](./media/GER-JoinDS-FormatReview.PNG)

    <span data-ttu-id="1f292-250">Datakällorna **Data** och **Sammanfattning** används för att fylla i information om konfigurationsversion till den genererade filen:</span><span class="sxs-lookup"><span data-stu-id="1f292-250">The **Data** and **Summary** data sources are used to populate configuration version details to the generated file:</span></span>

    - <span data-ttu-id="1f292-251">Information från datamodellen **Set1** används när du väljer **Nej** för datakällan **Väljare** vid körning på användardialogsidan när du kör ER-format.</span><span class="sxs-lookup"><span data-stu-id="1f292-251">Information from the **Set1** data model is used when you choose **No** for the **Selector** data source at runtime on the user dialog page when running ER format.</span></span>
    - <span data-ttu-id="1f292-252">Information från datamodellen **Set2** används när du väljer **Ja** för datakällan **Väljare** vid körning på användardialogsidan.</span><span class="sxs-lookup"><span data-stu-id="1f292-252">Information from the **Set2** data model is used when you choose **Yes** for the **Selector** data source at runtime on the user dialog page.</span></span>

    ![ER-formatdesignersida](./media/GER-JoinDS-FormatMappingReview.PNG)

9.  <span data-ttu-id="1f292-254">Välj **kör**.</span><span class="sxs-lookup"><span data-stu-id="1f292-254">Select **Run**.</span></span>
10. <span data-ttu-id="1f292-255">På dialogsidan väljer du **Nej** i fältet **Använd sammanfogningsdatakälla**.</span><span class="sxs-lookup"><span data-stu-id="1f292-255">On the dialog page, select **No** in the **Use JOIN data source** field.</span></span>
11. <span data-ttu-id="1f292-256">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-256">Select **OK**.</span></span>
12. <span data-ttu-id="1f292-257">Granska genererad fil</span><span class="sxs-lookup"><span data-stu-id="1f292-257">Review generated file.</span></span>

    ![Dialogsidan ER-användare](./media/GER-JoinDS-Set1Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><span data-ttu-id="1f292-259">Analysera körningsspårning för ER-format</span><span class="sxs-lookup"><span data-stu-id="1f292-259">Analyze ER format execution trace</span></span>

1.  <span data-ttu-id="1f292-260">I den första sessionen av Finance eller RCS, välj **Designer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-260">In the first session of Finance or RCS, select **Designer**.</span></span>
2.  <span data-ttu-id="1f292-261">Välj **resultatspårning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-261">Select **Performance trac**e.</span></span>
3.  <span data-ttu-id="1f292-262">I rutnätet **resultatspårning** väljer du den översta posten i den senaste körningsspårningen av ett ER-format som använde den aktuella modellmappningskomponenten.</span><span class="sxs-lookup"><span data-stu-id="1f292-262">In the **Performance trace** grid, select the top-most record of the latest execution trace of an ER format that used the current model mapping component.</span></span>
4.  <span data-ttu-id="1f292-263">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-263">Select **OK**.</span></span>

    <span data-ttu-id="1f292-264">Observera att körningsstatistik informerar om dubblerade anrop till programtabeller:</span><span class="sxs-lookup"><span data-stu-id="1f292-264">Note that execution statistics informs you about duplicated calls to application tables:</span></span>

    - <span data-ttu-id="1f292-265">**ERSolutionTable** har anropats så många gånger som du har konfigurationsversionsposter i tabellen **ERSolutionVersionTable** medan antalet sådana samtal kan minskas i tid för prestandaförbättring.</span><span class="sxs-lookup"><span data-stu-id="1f292-265">**ERSolutionTable** has been called as many times as you have configuration version records in the **ERSolutionVersionTable** table, while the number of such calls could be reduced in times for performance improvement.</span></span>
    - <span data-ttu-id="1f292-266">**ERVendorTable** har anropats två gånger för varje konfigurationsversionspost som upptäcktes i tabellen **ERSolutionVersionTable** medan antalet sådana samtal kan minskas i tid för prestandaförbättring.</span><span class="sxs-lookup"><span data-stu-id="1f292-266">**ERVendorTable** has been called twice for every configuration version record that was discovered in the **ERSolutionVersionTable** table, while the number of such calls could be reduced as well.</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-Set1Run2.PNG)

5.  <span data-ttu-id="1f292-268">Stäng sidan.</span><span class="sxs-lookup"><span data-stu-id="1f292-268">Close the page.</span></span>

### <a name="execute-er-format"></a><span data-ttu-id="1f292-269">Kör ER-format</span><span class="sxs-lookup"><span data-stu-id="1f292-269">Execute ER format</span></span>

1.  <span data-ttu-id="1f292-270">Växla till din webbläsarflik med den andra sessionen av Finance eller RCS.</span><span class="sxs-lookup"><span data-stu-id="1f292-270">Switch to your web browser tab with the second session of Finance or RCS.</span></span>
2.  <span data-ttu-id="1f292-271">Välj **kör**.</span><span class="sxs-lookup"><span data-stu-id="1f292-271">Select **Run**.</span></span>
3.  <span data-ttu-id="1f292-272">På dialogsidan väljer du **Ja** i fältet **Använd sammanfogningsdatakälla**.</span><span class="sxs-lookup"><span data-stu-id="1f292-272">On the dialog page, select **Yes** in the **Use JOIN data source** field.</span></span>
4.  <span data-ttu-id="1f292-273">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-273">Select **OK**.</span></span>
5.  <span data-ttu-id="1f292-274">Granska genererad fil</span><span class="sxs-lookup"><span data-stu-id="1f292-274">Review generated file.</span></span>

    ![Dialogsidan ER-användare](./media/GER-JoinDS-Set2Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><a name="analyze"></a> <span data-ttu-id="1f292-276">Analysera körningsspårning för ER-format</span><span class="sxs-lookup"><span data-stu-id="1f292-276">Analyze ER format execution trace</span></span>

1.  <span data-ttu-id="1f292-277">I den första sessionen av Finance eller RCS, välj **Designer**.</span><span class="sxs-lookup"><span data-stu-id="1f292-277">In the first session of Finance or RCS, select **Designer**.</span></span>
2.  <span data-ttu-id="1f292-278">Välj **resultatspårning**.</span><span class="sxs-lookup"><span data-stu-id="1f292-278">Select **Performance trace**.</span></span>
3.  <span data-ttu-id="1f292-279">I rutnätet **resultatspårning** väljer du den översta posten som representerar den senaste körningsspårningen av ett ER-format som använde den aktuella modellmappningskomponenten.</span><span class="sxs-lookup"><span data-stu-id="1f292-279">In the **Performance trace** grid, select top-most record representing the latest execution trace of an ER format that used the current model mapping component.</span></span>
4.  <span data-ttu-id="1f292-280">Välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1f292-280">Select **OK**.</span></span>

    <span data-ttu-id="1f292-281">Observera att körningsstatistik informerar om följande:</span><span class="sxs-lookup"><span data-stu-id="1f292-281">Note that execution statistics informs you about the following:</span></span>

    - <span data-ttu-id="1f292-282">Programdatabasen har anropats en gång för att hämta poster från tabellerna **ERVendorTable**, **ERSolutionTable** och **ERSolutionVersionTable** för åtkomst till obligatoriska fält.</span><span class="sxs-lookup"><span data-stu-id="1f292-282">Application database has been called once to get records from **ERVendorTable**, **ERSolutionTable**, and **ERSolutionVersionTable** tables to access required fields.</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-Set2Run2.PNG)

    - <span data-ttu-id="1f292-284">Programdatabasen har anropats en gång för att beräkna antalet konfigurationsversioner med hjälp av sammanfogningar som konfigurerats i datakällan **Information**.</span><span class="sxs-lookup"><span data-stu-id="1f292-284">Application database has been called once to calculate the number of configuration versions by using joins that were configured in the **Details** data source.</span></span>

    ![Sidan ER-modellmappningsdesigner](./media/GER-JoinDS-Set2Run3.PNG)

## <a name="limitations"></a><span data-ttu-id="1f292-286">Begränsningar</span><span class="sxs-lookup"><span data-stu-id="1f292-286">Limitations</span></span>

<span data-ttu-id="1f292-287">Som du ser i exemplet i det här avsnittet kan **KOPPLA**-datakällan skapas från flera datakällor som beskriver de enskilda datauppsättningarna för poster som måste kopplas.</span><span class="sxs-lookup"><span data-stu-id="1f292-287">As you can see from the example in this topic, the **JOIN** data source can be built from several data sources that describe the individual datasets of the records that must eventually be joined.</span></span> <span data-ttu-id="1f292-288">Du kan konfigurera dessa datakällor med hjälp av inbyggt ER-[FILTER](er-functions-list-filter.md).</span><span class="sxs-lookup"><span data-stu-id="1f292-288">You can configure those data sources by using the built-in ER [FILTER](er-functions-list-filter.md) function.</span></span> <span data-ttu-id="1f292-289">När du konfigurerar datakällan så att den anropas utanför **KOPPLA**-datakällan kan du använda företagsintervall som en del av villkor för dataurval.</span><span class="sxs-lookup"><span data-stu-id="1f292-289">When you configure the data source so that it's called beyond the **JOIN** data source, you can use company ranges as part of the condition for data selection.</span></span> <span data-ttu-id="1f292-290">Den inledande implementeringen av **KOPPLA**-datakällan stöder inte datakällor av den här typen.</span><span class="sxs-lookup"><span data-stu-id="1f292-290">The initial implementation of the **JOIN** data source doesn't support data sources of this type.</span></span> <span data-ttu-id="1f292-291">Om du till exempel anropar en [FILTER](er-functions-list-filter.md)-baserad datakälla inom körningsintervallet av en **KOPPLA**-datakälla, och den anropade datakällan innehåller företagsintervall som en del av villkor för dataurval, uppstår ett undantag.</span><span class="sxs-lookup"><span data-stu-id="1f292-291">For example, when you call a [FILTER](er-functions-list-filter.md)-based data source within the scope of execution of a **JOIN** data source, if the called data source contains company ranges as part of the condition for data selection, an exception occurs.</span></span>

<span data-ttu-id="1f292-292">I Microsoft Dynamics 365 Finance version 10.0.12 (augusti 2020) kan du använda företagsintervall inom intervallet för körning av [FILTER](er-functions-list-filter.md)-baserade datakällor som anropas inom körningsintervallet för en **KOPPLA**-datakälla.</span><span class="sxs-lookup"><span data-stu-id="1f292-292">In Microsoft Dynamics 365 Finance version 10.0.12 (August 2020), you can use company ranges as part of the condition for data selection in [FILTER](er-functions-list-filter.md)-based data sources that are called within the scope of execution of a **JOIN** data source.</span></span> <span data-ttu-id="1f292-293">På grund av begränsningar i programmets [fråge](../dev-ref/xpp-library-objects.md#query-object-model)-verktyg kan företagsintervall endast användas för den första datakällan i en **KOPPLA**-datakälla.</span><span class="sxs-lookup"><span data-stu-id="1f292-293">Because of the limitations of the application [query](../dev-ref/xpp-library-objects.md#query-object-model) builder, the company ranges are supported only for the first data source of a **JOIN** data source.</span></span>

### <a name="example"></a><span data-ttu-id="1f292-294">Exempel</span><span class="sxs-lookup"><span data-stu-id="1f292-294">Example</span></span>

<span data-ttu-id="1f292-295">Du måste t.ex. göra ett enskilt anrop till programdatabasen för att få en lista över utländska handelstransaktioner för flera företag och information om den lagerartikel som det refereras till i dessa transaktioner.</span><span class="sxs-lookup"><span data-stu-id="1f292-295">For example, you must make a single call to the application database to get the list of foreign trade transactions of multiple companies and the details of the inventory item that is referred to in those transactions.</span></span>

<span data-ttu-id="1f292-296">I det här fallet konfigurerar du följande artefakter i din ER-modellmappning:</span><span class="sxs-lookup"><span data-stu-id="1f292-296">In this case, you configure the following artifacts in your ER model mapping:</span></span>

- <span data-ttu-id="1f292-297">**Intrastat**-rotdatakälla som representerar **Intrastat**-registret.</span><span class="sxs-lookup"><span data-stu-id="1f292-297">**Intrastat** root data source that represents the **Intrastat** table.</span></span>
- <span data-ttu-id="1f292-298">**Artiklars** rotdatakälla som representerar **InventTable**-registret.</span><span class="sxs-lookup"><span data-stu-id="1f292-298">**Items** root data source that represents the **InventTable** table.</span></span>
- <span data-ttu-id="1f292-299">**Företags** rotdatakälla som returnerar listan med företag (**DEMF** och **GBSI** i det här exemplet) där transaktioner måste nås.</span><span class="sxs-lookup"><span data-stu-id="1f292-299">**Companies** root data source that returns the list of companies (**DEMF** and **GBSI** in this example) where transactions must be accessed.</span></span> <span data-ttu-id="1f292-300">Företagskoden är tillgänglig från fältet **Companies.Code**.</span><span class="sxs-lookup"><span data-stu-id="1f292-300">The company code is available from the **Companies.Code** field.</span></span>
- <span data-ttu-id="1f292-301">**X1** rotdatakälla med uttrycket `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span><span class="sxs-lookup"><span data-stu-id="1f292-301">**X1** root data source that has the expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span></span> <span data-ttu-id="1f292-302">Som en del av villkoret för dataurval innehåller det här uttrycket definitionen av företagsintervall `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span><span class="sxs-lookup"><span data-stu-id="1f292-302">As part of the condition for data selection, this expression contains the definition of company ranges `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span></span>
- <span data-ttu-id="1f292-303">**X2** datakällan som ett kapslat element i **X1** datakälla.</span><span class="sxs-lookup"><span data-stu-id="1f292-303">**X2** data source as a nested item of the **X1** data source.</span></span> <span data-ttu-id="1f292-304">Det innehåller uttrycket `FILTER (Items, Items.ItemId = X1.ItemId)`.</span><span class="sxs-lookup"><span data-stu-id="1f292-304">It includes the expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span></span>

<span data-ttu-id="1f292-305">Slutligen kan du konfigurera en **KOPPLA**-datakälla där **X1** är den första datakällan och **X2** är den andra datakällan.</span><span class="sxs-lookup"><span data-stu-id="1f292-305">Finally, you can configure a **JOIN** data source where **X1** is the first data source and **X2** is the second data source.</span></span> <span data-ttu-id="1f292-306">Du kan ange **Fråga** som alternativet **Kör** för att tvinga ER att köra den här datakällan på databasnivå som ett direkt SQL-anrop.</span><span class="sxs-lookup"><span data-stu-id="1f292-306">You can specify **Query** as the **Execute** option to force ER to run this data source on the database level as a direct SQL call.</span></span>

<span data-ttu-id="1f292-307">När den konfigurerade datakällan körs medan ER-körningen [spåras](trace-execution-er-troubleshoot-perf.md) visas följande uttryck i ER-modellmappningsdesignern som en del av ER-prestationsspårningen.</span><span class="sxs-lookup"><span data-stu-id="1f292-307">When the configured data source is run while the ER execution is [traced](trace-execution-er-troubleshoot-perf.md), the following statement is shown in the ER model mapping designer as part of the ER performance trace.</span></span>

`SELECT ... FROM INTRASTAT T1 CROSS JOIN INVENTTABLE T2 WHERE ((T1.PARTITION=?) AND (T1.DATAAREAID IN (N'DEMF',N'GBSI') )) AND ((T2.PARTITION=?) AND (T2.ITEMID=T1.ITEMID AND (T2.DATAAREAID = T1.DATAAREAID) AND (T2.PARTITION = T1.PARTITION))) ORDER BY T1.DISPATCHID,T1.SEQNUM`

> [!NOTE]
> <span data-ttu-id="1f292-308">Ett fel uppstår om du kör en **KOPPLA**-datakälla som har konfigurerats så att den innehåller villkor för dataurval med företagsintervall för ytterligare datakällor för den körda **KOPPLA**-datakällan.</span><span class="sxs-lookup"><span data-stu-id="1f292-308">An error occurs if you run a **JOIN** data source that has been configured so that it contains data selection conditions that have company ranges for additional data sources of the executed **JOIN** data source.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1f292-309">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="1f292-309">Additional resources</span></span>

[<span data-ttu-id="1f292-310">Formeldesigner i elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="1f292-310">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="1f292-311">Spåringskörning av ER-format för att hjälpa dig att felsöka prestandaproblem.</span><span class="sxs-lookup"><span data-stu-id="1f292-311">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)


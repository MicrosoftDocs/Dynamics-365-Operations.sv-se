---
title: Översikt över jobb för import och export av data
description: Använda arbetsytan Datahantering för att skapa och hantera dataimport- och dataexportjobb.
author: Sunil-Garg
ms.date: 11/02/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1cb38c812aed60bddadce25f66ec77f4e428be71
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/31/2021
ms.locfileid: "5751010"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="e58d4-103">Översikt över jobb för import och export av data</span><span class="sxs-lookup"><span data-stu-id="e58d4-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e58d4-104">För att skapa och hantera dataimport- och dataexportjobb kan du använda arbetsytan **Datahantering**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="e58d4-105">Som standard skapar processen för dataimport och -export ett mellanlagringsregister för varje enhet i måldatabasen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="e58d4-106">Med tillfälliga register kan du kontrollera, rensa eller konvertera data innan du flyttar den.</span><span class="sxs-lookup"><span data-stu-id="e58d4-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="e58d4-107">I det här avsnittet förutsätts att du känner till [datatabeller](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="e58d4-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="e58d4-108">Process för dataimport och -export</span><span class="sxs-lookup"><span data-stu-id="e58d4-108">Data import/export process</span></span>
<span data-ttu-id="e58d4-109">Här följer stegen för att importera eller exportera data.</span><span class="sxs-lookup"><span data-stu-id="e58d4-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="e58d4-110">Skapa ett import- eller exportjobb där du vill göra följande:</span><span class="sxs-lookup"><span data-stu-id="e58d4-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="e58d4-111">Definiera projektkategorin.</span><span class="sxs-lookup"><span data-stu-id="e58d4-111">Define the project category.</span></span>
    - <span data-ttu-id="e58d4-112">Leta upp de enheter som du vill importera eller exportera.</span><span class="sxs-lookup"><span data-stu-id="e58d4-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="e58d4-113">Ange dataformat för jobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="e58d4-114">Ordna enheterna så att de behandlas i logiska grupper och i den serie som passar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="e58d4-115">Bestäm om du vill använda tillfälliga register.</span><span class="sxs-lookup"><span data-stu-id="e58d4-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="e58d4-116">Validera att källdata och måldata mappas korrekt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="e58d4-117">Kontrollera säkerheten för import- eller exportjobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="e58d4-118">Kör import- eller exportjobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-118">Run the import or export job.</span></span>
5. <span data-ttu-id="e58d4-119">Validera att jobbet har körts som förväntat genom att granska jobbhistoriken.</span><span class="sxs-lookup"><span data-stu-id="e58d4-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="e58d4-120">Rensa tillfälliga register.</span><span class="sxs-lookup"><span data-stu-id="e58d4-120">Clean up the staging tables.</span></span>

<span data-ttu-id="e58d4-121">Övriga avsnitt i det här avsnittet innehåller mer information om varje steg i processen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="e58d4-122">Använd ikonen Uppdatera formuläret för att uppdatera importera/exportera formuläret och se senaste status.</span><span class="sxs-lookup"><span data-stu-id="e58d4-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="e58d4-123">Att uppdatera webbläsaren rekommenderas inte eftersom det avbryter alla import/export-jobb som inte körs i en batch.</span><span class="sxs-lookup"><span data-stu-id="e58d4-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="e58d4-124">Skapa ett import- eller exportjobb</span><span class="sxs-lookup"><span data-stu-id="e58d4-124">Create an import or export job</span></span>
<span data-ttu-id="e58d4-125">Ett dataimport- eller -exportjobb kan köras en gång eller flera gånger.</span><span class="sxs-lookup"><span data-stu-id="e58d4-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="e58d4-126">Definiera projektkategorin</span><span class="sxs-lookup"><span data-stu-id="e58d4-126">Define the project category</span></span>
<span data-ttu-id="e58d4-127">Vi rekommenderar att du lägger tid på att välja en lämplig projektkategori för ditt import- eller exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="e58d4-128">Projektkategorier hjälper dig att hantera relaterade jobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="e58d4-129">Leta upp de enheter som du vill importera eller exportera</span><span class="sxs-lookup"><span data-stu-id="e58d4-129">Identify the entities to import or export</span></span>
<span data-ttu-id="e58d4-130">Du kan lägga till specifika enheter i import- eller exportjobb eller välja den mall som ska användas.</span><span class="sxs-lookup"><span data-stu-id="e58d4-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="e58d4-131">Mallar fyller ett projekt med en lista över enheter.</span><span class="sxs-lookup"><span data-stu-id="e58d4-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="e58d4-132">Alternativet **Tillämpa mall** blir tillgängligt när du namnger ett jobb och spara det.</span><span class="sxs-lookup"><span data-stu-id="e58d4-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="e58d4-133">Ange dataformat för jobbet</span><span class="sxs-lookup"><span data-stu-id="e58d4-133">Set the data format for the job</span></span>
<span data-ttu-id="e58d4-134">När du väljer en enhet markerar du format för de data som ska exporteras eller importeras.</span><span class="sxs-lookup"><span data-stu-id="e58d4-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="e58d4-135">Du definierar format via panelen **Inställningar för datakälla**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="e58d4-136">Ett dataformat för källan är en kombination av **typ**, **filformat**, **radavgränsare** och **kolumnavgränsare**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="e58d4-137">Det finns även andra attribut, men dessa är viktiga att förstå.</span><span class="sxs-lookup"><span data-stu-id="e58d4-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="e58d4-138">I tabellen här nedanför listas giltiga kombinationer.</span><span class="sxs-lookup"><span data-stu-id="e58d4-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="e58d4-139">Filformat</span><span class="sxs-lookup"><span data-stu-id="e58d4-139">File Format</span></span>            | <span data-ttu-id="e58d4-140">Rad/kolumnavgränsare</span><span class="sxs-lookup"><span data-stu-id="e58d4-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="e58d4-141">XML-format</span><span class="sxs-lookup"><span data-stu-id="e58d4-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="e58d4-142">Excel</span><span class="sxs-lookup"><span data-stu-id="e58d4-142">Excel</span></span>                  | <span data-ttu-id="e58d4-143">Excel</span><span class="sxs-lookup"><span data-stu-id="e58d4-143">Excel</span></span>                                      | <span data-ttu-id="e58d4-144">\-Inte tillämpligt</span><span class="sxs-lookup"><span data-stu-id="e58d4-144">\-NA-</span></span>                     |
| <span data-ttu-id="e58d4-145">XML</span><span class="sxs-lookup"><span data-stu-id="e58d4-145">XML</span></span>                    | <span data-ttu-id="e58d4-146">\-Inte tillämpligt</span><span class="sxs-lookup"><span data-stu-id="e58d4-146">\-NA-</span></span>                                      | <span data-ttu-id="e58d4-147">XML-element XML-attribut</span><span class="sxs-lookup"><span data-stu-id="e58d4-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="e58d4-148">Avgränsad, fast bredd</span><span class="sxs-lookup"><span data-stu-id="e58d4-148">Delimited, fixed width</span></span> | <span data-ttu-id="e58d4-149">Komma, semikolon, flik, lodrätt streck, kolon</span><span class="sxs-lookup"><span data-stu-id="e58d4-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="e58d4-150">\-Inte tillämpligt</span><span class="sxs-lookup"><span data-stu-id="e58d4-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="e58d4-151">Ordna enheterna</span><span class="sxs-lookup"><span data-stu-id="e58d4-151">Sequence the entities</span></span>
<span data-ttu-id="e58d4-152">Enheter kan ordnas i en datamall eller i import- och exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="e58d4-153">När du kör ett jobb som innehåller mer än en datatabell måste du kontrollera att datatabellerna har ordnats korrekt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="e58d4-154">Du ordnar entiteter i första hand så att du kan lösa eventuella funktionella samband mellan olika enheter.</span><span class="sxs-lookup"><span data-stu-id="e58d4-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="e58d4-155">Om enheterna inte har några funktionella samband kan de schemaläggas parallell import eller export.</span><span class="sxs-lookup"><span data-stu-id="e58d4-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="e58d4-156">Körningsenheter, -nivåer och -sekvenser</span><span class="sxs-lookup"><span data-stu-id="e58d4-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="e58d4-157">Körningsenheten, nivån i körningsenheten samt en enhets ordningsföljd hjälper till att styra i vilken serie som data exportera eller importeras.</span><span class="sxs-lookup"><span data-stu-id="e58d4-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="e58d4-158">Enheter i olika körningsenheter behandlas parallellt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="e58d4-159">Om enheterna har samma nivå bearbetas de parallellt i respektive körningsnivå.</span><span class="sxs-lookup"><span data-stu-id="e58d4-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="e58d4-160">På respektive nivå bearbetas enheterna enligt sina serienummer för just den nivån.</span><span class="sxs-lookup"><span data-stu-id="e58d4-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="e58d4-161">När en nivå har bearbetats, bearbetas nästa nivå.</span><span class="sxs-lookup"><span data-stu-id="e58d4-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="e58d4-162">Omsekvensering</span><span class="sxs-lookup"><span data-stu-id="e58d4-162">Resequencing</span></span>
<span data-ttu-id="e58d4-163">Du kanske vill omsekvensera dina enheterna i följande situationer:</span><span class="sxs-lookup"><span data-stu-id="e58d4-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="e58d4-164">Om endast ett datajobb används för alla dina ändringar, kan du använda alternativen för omsekvensering för att optimera körningstiden för hela jobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="e58d4-165">I så fall kan du använda körningsenheten för att representera modulen, nivån för att representera modulens funktionsområde, samt sekvensen för att representera enheten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="e58d4-166">Med den här metoden kan du arbeta mellan olika moduler parallellt, men du kan ändå fortsätta att arbeta i följd i en modul.</span><span class="sxs-lookup"><span data-stu-id="e58d4-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="e58d4-167">För att garantera att parallella operationer lyckas, måste du beakta alla beroenden.</span><span class="sxs-lookup"><span data-stu-id="e58d4-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="e58d4-168">Du kan använda ordningsföljd för att enheternas nivå och serie i syfte att få en optimal körning om flera datajobb används (t.ex. ett jobb för varje modul).</span><span class="sxs-lookup"><span data-stu-id="e58d4-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="e58d4-169">Om det inte finns några beroenden alls kan du ordna enheterna i olika körningsenheter i syfte att få en maximal optimering.</span><span class="sxs-lookup"><span data-stu-id="e58d4-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="e58d4-170">Menyn **Omsekvensering** finns att tillgå när du väljer flera enheter.</span><span class="sxs-lookup"><span data-stu-id="e58d4-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="e58d4-171">Du kan omsekvensera baserat på alternativen för körningsenhet, nivå samt serie.</span><span class="sxs-lookup"><span data-stu-id="e58d4-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="e58d4-172">Du kan ange ett ökningssteg i syfte att omsekvensera de enheter som har valts.</span><span class="sxs-lookup"><span data-stu-id="e58d4-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="e58d4-173">Den enhet, den nivå eller det löpnummer som väljs för respektive entitet uppdateras med angivna steg.</span><span class="sxs-lookup"><span data-stu-id="e58d4-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="e58d4-174">Sortering</span><span class="sxs-lookup"><span data-stu-id="e58d4-174">Sorting</span></span>
<span data-ttu-id="e58d4-175">Använd alternativet **Sortera** för att visa enhetslistan i ordningsföljd.</span><span class="sxs-lookup"><span data-stu-id="e58d4-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="e58d4-176">Trunkering</span><span class="sxs-lookup"><span data-stu-id="e58d4-176">Truncating</span></span>
<span data-ttu-id="e58d4-177">För import av projekt kan du trunkera poster i enheter innan du börjar importera.</span><span class="sxs-lookup"><span data-stu-id="e58d4-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="e58d4-178">Detta är användbart om posterna ska importeras till en ren uppsättning tabeller.</span><span class="sxs-lookup"><span data-stu-id="e58d4-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="e58d4-179">Den här inställningen är vald som standard.</span><span class="sxs-lookup"><span data-stu-id="e58d4-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="e58d4-180">Bekräfta att källdata och måldata mappas korrekt</span><span class="sxs-lookup"><span data-stu-id="e58d4-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="e58d4-181">Mappning är en funktion som gäller både import- och exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="e58d4-182">Mappning beskriver vilka kolumner i källfilen som blir kolumner i det tillfälliga registret i samband med import.</span><span class="sxs-lookup"><span data-stu-id="e58d4-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="e58d4-183">Därför kan systemet avgöra vilka kolumndata i källfilen som måste kopieras till vilken kolumn i det tillfälliga registret.</span><span class="sxs-lookup"><span data-stu-id="e58d4-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="e58d4-184">Mappning beskriver vilka kolumner i det tillfälliga registret (dvs. källan) som kolumner i målfilen i samband med exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="e58d4-185">Om kolumnnamnen i det tillfälliga registret och i filen stämmer överens, skapar systemet mappningen automatiskt baserat på namnen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="e58d4-186">Om namnen emellertid skiljer sig åt, mappas kolumnerna inte automatiskt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="e58d4-187">I så fall måste du slutföra mappningen genom att välja alternativet **Visa karta** alternativ för enheten i datajobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="e58d4-188">Det finns två vyer för mappning: **Mappningsvisualisering**, som är standard, och **Mappningsdetaljer**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="e58d4-189">En röd asterisk (\*) markerar alla obligatoriska fält i enheten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="e58d4-190">Dessa fält måste mappas innan du kan arbeta med entiteten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="e58d4-191">Du kan ta bort mappningen av andra fält efter behov när du arbetar med enheten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="e58d4-192">Markera fältet som du vill ta bort mappningen för i kolumnen **Enhet** eller i kolumnen **Källa**, och välj sedan **Ta bort val**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="e58d4-193">Välj **Spara** om du vill spara ändringarna, och stäng sedan sidan om du vill återgå till projektet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="e58d4-194">Du kan använda samma process för att redigera fältmappning från källa till mellanlagring när du har importerat.</span><span class="sxs-lookup"><span data-stu-id="e58d4-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="e58d4-195">Du kan skapa en mappning på sidan genom att markera **Skapa källmappning**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="e58d4-196">En skapad mappning fungerar som en automatisk mappning.</span><span class="sxs-lookup"><span data-stu-id="e58d4-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="e58d4-197">Därför måste du mappa de omappade fälten manuellt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-197">Therefore, you must manually map any unmapped fields.</span></span>

![Datamappning](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="e58d4-199">Kontrollera säkerheten för import- eller exportjobbet</span><span class="sxs-lookup"><span data-stu-id="e58d4-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="e58d4-200">Åtkomsten till arbetsytan **Datahantering** kan begränsas så att icke-administratörer endast kan få åtkomst till specifika datajobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="e58d4-201">Åtkomsten till data-jobbet innebär fullständig åtkomst till jobbets körningshistorik samt till mellanlagringsregistren.</span><span class="sxs-lookup"><span data-stu-id="e58d4-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="e58d4-202">Därför måste du se till att en lämplig åtkomstkontroll finns på plats när du skapar ett datajobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="e58d4-203">Säkra ett jobb genom roller och användare</span><span class="sxs-lookup"><span data-stu-id="e58d4-203">Secure a job by roles and users</span></span>
<span data-ttu-id="e58d4-204">Använd menyn **Tillämpliga roller** om du vill begränsa jobbet till en eller flera säkerhetsroller.</span><span class="sxs-lookup"><span data-stu-id="e58d4-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="e58d4-205">Endast användare med dessa roller får tillgång till jobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="e58d4-206">Du kan även begränsa ett jobb till specifika användare.</span><span class="sxs-lookup"><span data-stu-id="e58d4-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="e58d4-207">När du säkrar ett jobb med användare i stället för roller, ökar kontrollen om flera användare tilldelas en roll.</span><span class="sxs-lookup"><span data-stu-id="e58d4-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="e58d4-208">Skydda ett jobb genom en juridisk person</span><span class="sxs-lookup"><span data-stu-id="e58d4-208">Secure a job by legal entity</span></span>
<span data-ttu-id="e58d4-209">Datajobb har en global karaktär.</span><span class="sxs-lookup"><span data-stu-id="e58d4-209">Data jobs are global in nature.</span></span> <span data-ttu-id="e58d4-210">Om ett datajobb har skapats och använts i en juridisk person blir jobbet därför synlig för andra juridiska personer i systemet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="e58d4-211">Detta standardbeteende kan vara att föredras i vissa tillämpningsfall.</span><span class="sxs-lookup"><span data-stu-id="e58d4-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="e58d4-212">En organisation som importerar fakturor genom datatabeller kan exempelvis innehålla ett centraliserat fakturabearbetningsteam som ansvarar för att hantera fakturafel för alla avdelningar inom organisationen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="e58d4-213">I det här scenariot är det bra om det centraliserade fakturabearbetningsteamet har åtkomst till fakturaimportjobb från alla juridiska personer.</span><span class="sxs-lookup"><span data-stu-id="e58d4-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="e58d4-214">Därför uppfyller standardbeteendet kravet ur perspektivet för en juridisk person.</span><span class="sxs-lookup"><span data-stu-id="e58d4-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="e58d4-215">En organisation vill emellertid kanske ha fakturabearbetningsteam per juridisk person.</span><span class="sxs-lookup"><span data-stu-id="e58d4-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="e58d4-216">I det här fallet bör ett team i en juridisk person bara ha åtkomst till fakturaimportjobbet i sin egen juridiska person.</span><span class="sxs-lookup"><span data-stu-id="e58d4-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="e58d4-217">För att uppfylla detta krav kan du konfigurera åtkomstkontroll baserad på juridiska personer för datajobb via menyn **Tillämpbara juridiska personer** i datajobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="e58d4-218">När inställningarna har slutförts kan användarna bara se jobb som är tillgängliga i den juridiska personen som de för närvarande är inloggade på.</span><span class="sxs-lookup"><span data-stu-id="e58d4-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="e58d4-219">Om de vill visa jobb från en annan juridisk person måste användarna växla till den juridiska personen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="e58d4-220">Ett jobb kan skyddas med roller, användare och juridisk person samtidigt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="e58d4-221">Kör import- eller exportjobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-221">Run the import or export job</span></span>
<span data-ttu-id="e58d4-222">Du kan köra ett jobb en gång genom att välja knappen **Importera** eller **Exportera** när du har definierat jobbet.</span><span class="sxs-lookup"><span data-stu-id="e58d4-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="e58d4-223">Välj **Skapa återkommande datajobb** för att skapa ett återkommande jobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="e58d4-224">Ett import- eller exportjobb kan köras genom att välja knappen **Importera** eller **Exportera**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="e58d4-225">Då schemaläggs ett batchjobb så att det bara körs en gång.</span><span class="sxs-lookup"><span data-stu-id="e58d4-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="e58d4-226">Jobbet kanske inte körs direkt om batchtjänsten begränsas på grund av beläggning på batchtjänsten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="e58d4-227">Jobb kan även köras synkront genom att markera **importera nu** eller **exportera nu**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="e58d4-228">Det här jobbet startar omedelbart och är användbart om batchen inte startas på grund av begränsning.</span><span class="sxs-lookup"><span data-stu-id="e58d4-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="e58d4-229">Jobben kan också schemaläggas att köras vid senare tillfälle.</span><span class="sxs-lookup"><span data-stu-id="e58d4-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="e58d4-230">Detta gör du genom att välja alternativet **Kör i batch**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="e58d4-231">Batchresurser är föremål för begränsning, så batchjobbet kanske inte startar omedelbart.</span><span class="sxs-lookup"><span data-stu-id="e58d4-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="e58d4-232">Det rekommenderade alternativet är att använda batch eftersom det också kommer att hjälpa till att importera eller exportera stora datavolymer.</span><span class="sxs-lookup"><span data-stu-id="e58d4-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="e58d4-233">Batchjobb kan planeras på en viss batchgrupp som ger mer kontroll ur ett belastningsutjämningsperspektiv.</span><span class="sxs-lookup"><span data-stu-id="e58d4-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="e58d4-234">Validera att jobbet har körts som förväntat</span><span class="sxs-lookup"><span data-stu-id="e58d4-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="e58d4-235">Jobbhistoriken blir tillgänglig för felsökning och undersökning för såväl import- som exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="e58d4-236">Historiska jobbkörningar ordnas efter tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="e58d4-236">Historical job runs are organized by time ranges.</span></span>

![Intervall för jobbhistorik](./media/dixf-job-history.md.png)

<span data-ttu-id="e58d4-238">Varje gång du kör jobbet erhåller du följande information:</span><span class="sxs-lookup"><span data-stu-id="e58d4-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="e58d4-239">Information om körning</span><span class="sxs-lookup"><span data-stu-id="e58d4-239">Execution details</span></span>
- <span data-ttu-id="e58d4-240">Körningslogg</span><span class="sxs-lookup"><span data-stu-id="e58d4-240">Execution log</span></span>

<span data-ttu-id="e58d4-241">Körningsinformationen anger statusen för varje dataenhet som jobbet bearbetat.</span><span class="sxs-lookup"><span data-stu-id="e58d4-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="e58d4-242">Därför kan du snabbt hitta följande information:</span><span class="sxs-lookup"><span data-stu-id="e58d4-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="e58d4-243">Vilka enheter som har bearbetats.</span><span class="sxs-lookup"><span data-stu-id="e58d4-243">Which entities were processed.</span></span>
- <span data-ttu-id="e58d4-244">Hur många poster som bearbetats för en enhet, och hur många som misslyckades</span><span class="sxs-lookup"><span data-stu-id="e58d4-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="e58d4-245">Mellanlagringsposter för respektive enhet</span><span class="sxs-lookup"><span data-stu-id="e58d4-245">The staging records for each entity.</span></span>

<span data-ttu-id="e58d4-246">Du kan hämta mellanlagringsdatan i en fil för exportjobb, eller också du kan hämta den i form av ett paket för import- och exportjobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="e58d4-247">Du kan också öppna körningsloggen från körningsinformationen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="e58d4-248">Parallella importer</span><span class="sxs-lookup"><span data-stu-id="e58d4-248">Parallel imports</span></span>
<span data-ttu-id="e58d4-249">För att påskynda importen av data kan parallell bearbetning av import av en fil aktiveras om enheten stöder parallell import.</span><span class="sxs-lookup"><span data-stu-id="e58d4-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="e58d4-250">Om du vill konfigurera parallell import för en entitet måste följande steg följas.</span><span class="sxs-lookup"><span data-stu-id="e58d4-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="e58d4-251">Gå till **Systemadministration \> Arbetsytor \> Datahantering**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="e58d4-252">I avsnittet **importera/exportera** väljer du panelen **Ramverksparametrar** för att öppna sidan **Ramverket för dataimport/-export**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="e58d4-253">På fliken **Entitetsinställningar**, välj **Konfigurera parametrar för entitetskörning** för att öppna sidan **Parametrar för körning av entitetsimport**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="e58d4-254">Ställ in följande fält för att konfigurera parallell import för en entitet:</span><span class="sxs-lookup"><span data-stu-id="e58d4-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="e58d4-255">Välj den entitet i fältet **Entitet**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="e58d4-256">I fältet **Importera antal för tröskelvärdepost** anger du antal för tröskelvärdepost för import.</span><span class="sxs-lookup"><span data-stu-id="e58d4-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="e58d4-257">Detta bestämmer antalet poster som ska bearbetas av en tråd.</span><span class="sxs-lookup"><span data-stu-id="e58d4-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="e58d4-258">Om en fil har 10 000 poster innebär detta att antalet poster på 2 500 med antalet uppgifter är 4 och varje tråd bearbetar 2 500 poster.</span><span class="sxs-lookup"><span data-stu-id="e58d4-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="e58d4-259">I fältet **Import uppgiftsantal** anger du antalet importerade uppgifter.</span><span class="sxs-lookup"><span data-stu-id="e58d4-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="e58d4-260">Detta får inte överskrida de maximalt antal trådar som allokerats för batchbearbetning i **Systemadministration \>Serverkonfiguration**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="clean-up-the-staging-tables"></a><span data-ttu-id="e58d4-261">Rensa mellanlagringsregister</span><span class="sxs-lookup"><span data-stu-id="e58d4-261">Clean up the staging tables</span></span>
<span data-ttu-id="e58d4-262">Från och med plattformsuppdatering 29 har den här funktionen ersatts.</span><span class="sxs-lookup"><span data-stu-id="e58d4-262">Starting in Platform update 29, this functionality has been deprecated.</span></span> <span data-ttu-id="e58d4-263">Detta ersätts av en ny version av funktionen för jobbhistorikrensning som förklaras nedan.</span><span class="sxs-lookup"><span data-stu-id="e58d4-263">This is replaced by a new version of job history clean-up functionality explained below.</span></span>

<span data-ttu-id="e58d4-264">Du kan rensa mellanlagringstabeller genom att använda funktionen **Mellanlagringsrensning** i arbetsytan **Datahantering**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-264">You can clean up staging tables by using the **Staging clean up** feature in the **Data management** workspace.</span></span> <span data-ttu-id="e58d4-265">Du kan använda följande alternativ för att välja vilka poster som ska tas bort från vilka mellanlagringsregister:</span><span class="sxs-lookup"><span data-stu-id="e58d4-265">You can use the following options to select which records should be deleted from which staging table:</span></span>

- <span data-ttu-id="e58d4-266">**Enhet** – Om bara en enhet är tillgänglig kommer samtliga poster i den enhetens mellanlagringstabell att raderas.</span><span class="sxs-lookup"><span data-stu-id="e58d4-266">**Entity** – If only an entity is provided, all records from that entity’s staging table are deleted.</span></span> <span data-ttu-id="e58d4-267">Välj detta alternativ om du vill rensa alla data för enheten mellan alla dataprojekt och alla jobb.</span><span class="sxs-lookup"><span data-stu-id="e58d4-267">Select this option to clean up all the data for the entity across all data projects and all jobs.</span></span>
- <span data-ttu-id="e58d4-268">**Jobb-ID** – Om bara ett jobb-ID tillhandahålls, kommer alla poster för alla enheter i det valda jobbet att tas bort från tillhörande mellanlagringstabeller.</span><span class="sxs-lookup"><span data-stu-id="e58d4-268">**Job ID** – If only a job ID is provided, all records for all entities in the selected job are deleted from the appropriate staging tables.</span></span>
- <span data-ttu-id="e58d4-269">**Dataprojekt** – Om bara ett dataprojekt har markerats kommer alla poster för alla entiteter och över alla jobb för det valda dataprojektet att tas bort.</span><span class="sxs-lookup"><span data-stu-id="e58d4-269">**Data projects** – If only a data project is selected, all records for all entities and across all jobs for the selected data project are deleted.</span></span>

<span data-ttu-id="e58d4-270">Du kan också kombinera alternativen för att ytterligare begränsa den postuppsättning som raderas.</span><span class="sxs-lookup"><span data-stu-id="e58d4-270">You can also combine the options to further restrict the record set that is deleted.</span></span>

## <a name="job-history-clean-up-available-in-platform-update-29-and-later"></a><span data-ttu-id="e58d4-271">Rensa jobbhistoriken (tillgänglig i plattformsuppdatering 29 och senare)</span><span class="sxs-lookup"><span data-stu-id="e58d4-271">Job history clean up (available in Platform update 29 and later)</span></span>

<span data-ttu-id="e58d4-272">Rensningsfunktionen för jobbhistoriken i datahantering måste användas för att schemalägga en periodisk rensning av körningshistoriken.</span><span class="sxs-lookup"><span data-stu-id="e58d4-272">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="e58d4-273">Den här funktionen ersätter den tidigare mellanlagringsfunktionen, som nu är inaktuell.</span><span class="sxs-lookup"><span data-stu-id="e58d4-273">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="e58d4-274">Följande tabeller kommer att rensas upp av rensningsprocessen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-274">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="e58d4-275">Alla mellanlagringsregister</span><span class="sxs-lookup"><span data-stu-id="e58d4-275">All staging tables</span></span>

-   <span data-ttu-id="e58d4-276">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="e58d4-276">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="e58d4-277">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="e58d4-277">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="e58d4-278">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="e58d4-278">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="e58d4-279">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="e58d4-279">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="e58d4-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="e58d4-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="e58d4-281">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="e58d4-281">DMFEXECUTION</span></span>

-   <span data-ttu-id="e58d4-282">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="e58d4-282">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="e58d4-283">Funktionen **Rensning av körningshistorik** måste aktiveras i funktionshantering och du kan få åtkomst till den från **Datahantering \> Rensning av jobbhistorik**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-283">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="e58d4-284">Planeringsparametrar</span><span class="sxs-lookup"><span data-stu-id="e58d4-284">Scheduling parameters</span></span>

<span data-ttu-id="e58d4-285">När du schemalägger rensningsprocessen måste följande parametrar anges för att definiera rensningskriterierna.</span><span class="sxs-lookup"><span data-stu-id="e58d4-285">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="e58d4-286">**Antal dagar att behålla historiken** – den här inställningen används för att kontrollera mängden körningshistorik som ska bevaras.</span><span class="sxs-lookup"><span data-stu-id="e58d4-286">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="e58d4-287">Detta anges i antal dagar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-287">This is specified in number of days.</span></span> <span data-ttu-id="e58d4-288">När rensningsjobbet schemaläggs som ett återkommande batchjobb, kommer den här inställningen att fungera som ett kontinuerligt rörligt fönster och därmed alltid lämna historiken för angivet antal dagar intakt medan resten tas bort.</span><span class="sxs-lookup"><span data-stu-id="e58d4-288">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="e58d4-289">Standardvärdet är 7 dagar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-289">The default is 7 days.</span></span>

-   <span data-ttu-id="e58d4-290">**Antal timmar för att utföra jobbet** – beroende på hur mycket historik som ska rensas kan den totala körningstiden för rensningsjobbet kan variera från några minuter till några timmar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-290">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="e58d4-291">Den här parametern måste anges till det antal timmar som jobbet ska köras.</span><span class="sxs-lookup"><span data-stu-id="e58d4-291">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="e58d4-292">När rensningsjobbet har körts i det angivna antalet timmar avslutas jobbet och återupptar rensningen nästa gång det körs baserat på det återkommande schemat.</span><span class="sxs-lookup"><span data-stu-id="e58d4-292">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="e58d4-293">En maximal körningstid kan anges genom att ange en max.gräns för antalet timmar som jobbet måste köras med den här inställningen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-293">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="e58d4-294">Rensningslogiken går igenom ett jobbkörnings-ID i taget i en kronologiskt ordnad sekvens, med äldsta först för rensning av relaterade körningshistoriken.</span><span class="sxs-lookup"><span data-stu-id="e58d4-294">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="e58d4-295">Det slutar att plocka upp nya körnings-ID för rensning när återstående körningstid är inom de senaste 10 % av den angivna varaktigheten.</span><span class="sxs-lookup"><span data-stu-id="e58d4-295">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="e58d4-296">I vissa fall kommer det att förväntas att rensningsjobbet kommer att fortsätta efter den angivna maxtiden.</span><span class="sxs-lookup"><span data-stu-id="e58d4-296">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="e58d4-297">Detta beror till stor del på hur många poster som ska tas bort för det aktuella körnings-ID som startades innan tröskelvärdet på 10 % uppnåddes.</span><span class="sxs-lookup"><span data-stu-id="e58d4-297">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="e58d4-298">Rensningen som startades måste slutföras för att säkerställa dataintegriteten, vilket innebär att rensningen fortsätter trots att den angivna gränsen överskrids.</span><span class="sxs-lookup"><span data-stu-id="e58d4-298">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="e58d4-299">När detta är klart hämtas inte nya körnings-ID och rensningsjobbet har slutförts.</span><span class="sxs-lookup"><span data-stu-id="e58d4-299">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="e58d4-300">Den återstående körningshistoriken som inte har rensats på grund av bristande körningstid kommer att plockas upp nästa gång som rensningsjobbet schemaläggs.</span><span class="sxs-lookup"><span data-stu-id="e58d4-300">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="e58d4-301">Standard- och minimivärdet för den här inställningen är inställt på 2 timmar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-301">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="e58d4-302">**Återkommande batch** – rensningsjobbet kan köras som en engångs, manuell körning eller det kan också schemaläggas för återkommande körning i batch.</span><span class="sxs-lookup"><span data-stu-id="e58d4-302">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="e58d4-303">Batchen kan schemaläggas med hjälp inställningarna **Kör i bakgrund**, vilket är standarduppsättningen för batch.</span><span class="sxs-lookup"><span data-stu-id="e58d4-303">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="e58d4-304">Om posterna i mellanlagringsplatserna inte rensas fullständigt bör du kontrollera att rensningsjobbet är schemalagt att köra i upprepning.</span><span class="sxs-lookup"><span data-stu-id="e58d4-304">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="e58d4-305">Som förklaras ovan kommer jobbet att bara rensa så många körnings-ID som möjligt inom de maximalt angivna timmarna i alla rensningskörningar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-305">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="e58d4-306">Jobbet måste vara schemalagt för att kunna köras regelbundet för att alla återstående uppsamlingsfiler ska kunna rensas.</span><span class="sxs-lookup"><span data-stu-id="e58d4-306">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="e58d4-307">Rensning och arkivering av jobbhistorik (finns för förhandsgranskning i plattformsuppdatering 39 eller version 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="e58d4-307">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="e58d4-308">Funktionen rensning och arkivering av jobbhistorik ersätter de tidigare versionerna av rensningsfunktion.</span><span class="sxs-lookup"><span data-stu-id="e58d4-308">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="e58d4-309">Det här avsnittet innehåller en beskrivning av de nya funktionerna.</span><span class="sxs-lookup"><span data-stu-id="e58d4-309">This section will explain these new capabilities.</span></span>

<span data-ttu-id="e58d4-310">En av de viktigaste ändringarna i rensningsfunktionen är användning av systembatchjobb för att rensa historiken.</span><span class="sxs-lookup"><span data-stu-id="e58d4-310">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="e58d4-311">Med systembatchjobb kan Finance and Operations-appar automatiskt schemaläggas och köras så snart systemet är klart.</span><span class="sxs-lookup"><span data-stu-id="e58d4-311">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="e58d4-312">Du behöver inte längre tidsplanera batchjobbet manuellt.</span><span class="sxs-lookup"><span data-stu-id="e58d4-312">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="e58d4-313">I det här standardkörnings läget körs batchjobbet varje timme med början vid 12 midnatt och behåller körningshistoriken för de senaste sju dagarna.</span><span class="sxs-lookup"><span data-stu-id="e58d4-313">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="e58d4-314">Den rensade historiken arkiveras för framtida hämtning.</span><span class="sxs-lookup"><span data-stu-id="e58d4-314">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="e58d4-315">Eftersom den här funktionen är i förhandsversion kommer inte systembatchjobb att radera någon körningshistorik innan den aktiveras via DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="e58d4-315">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="e58d4-316">När funktionen är allmänt tillgänglig i en senare version, krävs inte den här förhandsversionen och systembatchjobbet startar och arkiveras när systemet är klart, baserat på det definierade schemat enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="e58d4-316">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="e58d4-317">I en senare version kommer tidigare versioner av rensningsfunktionen att tas bort från Finance and Operations-appar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-317">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="e58d4-318">Den andra ändringen i rensningsprocessen är arkiveringen av den rensade körningshistoriken.</span><span class="sxs-lookup"><span data-stu-id="e58d4-318">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="e58d4-319">Rensningsjobbet kommer att arkivera de raderade posterna till den blob-lagring som DIXF använder för vanliga integrationer.</span><span class="sxs-lookup"><span data-stu-id="e58d4-319">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="e58d4-320">Den arkiverade filen kommer att vara i DIXF-paketformat och den kommer att vara tillgänglig i blobben för hämtning i sju dagar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-320">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="e58d4-321">Standardlivslängden på sju dagar för den arkiverade filen kan ändras i parametrarna till maximalt 90 dagar.</span><span class="sxs-lookup"><span data-stu-id="e58d4-321">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="e58d4-322">Ändra standardinställningarna</span><span class="sxs-lookup"><span data-stu-id="e58d4-322">Changing the default settings</span></span>
<span data-ttu-id="e58d4-323">Den här funktionen är för närvarande i förhandsversion och måste uttryckligen aktiveras på ett sätt som aktiverar DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="e58d4-323">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="e58d4-324">Funktionen för rensning av mellanlagring måste också aktiveras i funktionshanteringen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-324">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="e58d4-325">Om du vill ändra standardinställningen för livslängd för den arkiverade filen ska du gå till arbetsytan för datahantering och välja **Rensning av jobbhistorik**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-325">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="e58d4-326">Ange **Dagar att behålla paketet i blobben** som ett värde mellan 7 och 90 (inklusive).</span><span class="sxs-lookup"><span data-stu-id="e58d4-326">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="e58d4-327">Detta kommer att börja gälla för de arkiv som skapas efter att ändringen gjorts.</span><span class="sxs-lookup"><span data-stu-id="e58d4-327">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="e58d4-328">Hämta det arkiverade paketet</span><span class="sxs-lookup"><span data-stu-id="e58d4-328">Downloading the archived package</span></span>
<span data-ttu-id="e58d4-329">Den här funktionen är för närvarande i förhandsversion och måste uttryckligen aktiveras på ett sätt som aktiverar DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="e58d4-329">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="e58d4-330">Funktionen för rensning av mellanlagring måste också aktiveras i funktionshanteringen.</span><span class="sxs-lookup"><span data-stu-id="e58d4-330">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="e58d4-331">För att hämta den arkiverade körningshistoriken ska du gå till arbetsytan för datahanterings och välja **Rensning av jobbhistorik**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-331">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="e58d4-332">Välj **Historik för säkerhetskopiering av paket** för att öppna formuläret historik.</span><span class="sxs-lookup"><span data-stu-id="e58d4-332">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="e58d4-333">I det här formuläret visas en lista med alla arkiverade paket.</span><span class="sxs-lookup"><span data-stu-id="e58d4-333">This form shows the list of all archived packages.</span></span> <span data-ttu-id="e58d4-334">Du kan välja och hämta ett arkiv genom att välja **Hämta paket**.</span><span class="sxs-lookup"><span data-stu-id="e58d4-334">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="e58d4-335">Det hämtade paketet kommer att vara i DIXF-paketformat och innehålla följande filer:</span><span class="sxs-lookup"><span data-stu-id="e58d4-335">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="e58d4-336">Registerfilen för entitetens mellanlagring</span><span class="sxs-lookup"><span data-stu-id="e58d4-336">The entity staging table file</span></span>
-   <span data-ttu-id="e58d4-337">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="e58d4-337">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="e58d4-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="e58d4-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="e58d4-339">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="e58d4-339">DMFEXECUTION</span></span>
-   <span data-ttu-id="e58d4-340">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="e58d4-340">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="e58d4-341">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="e58d4-341">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="e58d4-342">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="e58d4-342">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="e58d4-343">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="e58d4-343">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]